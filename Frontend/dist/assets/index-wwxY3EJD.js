function j8(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var F8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function V8(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var nw={exports:{}},Wm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA;function B8(){if(NA)return Wm;NA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Wm.Fragment=e,Wm.jsx=t,Wm.jsxs=t,Wm}var PA;function U8(){return PA||(PA=1,nw.exports=B8()),nw.exports}var B=U8(),rw={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function z8(){if(RA)return Jt;RA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function T(q,oe,F){this.props=q,this.context=oe,this.refs=S,this.updater=F||y}T.prototype.isReactComponent={},T.prototype.setState=function(q,oe){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,oe,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=T.prototype;function A(q,oe,F){this.props=q,this.context=oe,this.refs=S,this.updater=F||y}var N=A.prototype=new E;N.constructor=A,_(N,T.prototype),N.isPureReactComponent=!0;var j=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function M(q,oe,F,W,te,ae){return F=ae.ref,{$$typeof:n,type:q,key:oe,ref:F!==void 0?F:null,props:ae}}function k(q,oe){return M(q.type,oe,void 0,void 0,void 0,q.props)}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function H(q){var oe={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(F){return oe[F]})}var R=/\/+/g;function L(q,oe){return typeof q=="object"&&q!==null&&q.key!=null?H(""+q.key):oe.toString(36)}function V(){}function se(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(V,V):(q.status="pending",q.then(function(oe){q.status==="pending"&&(q.status="fulfilled",q.value=oe)},function(oe){q.status==="pending"&&(q.status="rejected",q.reason=oe)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function pe(q,oe,F,W,te){var ae=typeof q;(ae==="undefined"||ae==="boolean")&&(q=null);var fe=!1;if(q===null)fe=!0;else switch(ae){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(q.$$typeof){case n:case e:fe=!0;break;case d:return fe=q._init,pe(fe(q._payload),oe,F,W,te)}}if(fe)return te=te(q),fe=W===""?"."+L(q,0):W,j(te)?(F="",fe!=null&&(F=fe.replace(R,"$&/")+"/"),pe(te,oe,F,"",function(be){return be})):te!=null&&(O(te)&&(te=k(te,F+(te.key==null||q&&q.key===te.key?"":(""+te.key).replace(R,"$&/")+"/")+fe)),oe.push(te)),1;fe=0;var _e=W===""?".":W+":";if(j(q))for(var ve=0;ve<q.length;ve++)W=q[ve],ae=_e+L(W,ve),fe+=pe(W,oe,F,ae,te);else if(ve=g(q),typeof ve=="function")for(q=ve.call(q),ve=0;!(W=q.next()).done;)W=W.value,ae=_e+L(W,ve++),fe+=pe(W,oe,F,ae,te);else if(ae==="object"){if(typeof q.then=="function")return pe(se(q),oe,F,W,te);throw oe=String(q),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return fe}function G(q,oe,F){if(q==null)return q;var W=[],te=0;return pe(q,W,"","",function(ae){return oe.call(F,ae,te++)}),W}function Q(q){if(q._status===-1){var oe=q._result;oe=oe(),oe.then(function(F){(q._status===0||q._status===-1)&&(q._status=1,q._result=F)},function(F){(q._status===0||q._status===-1)&&(q._status=2,q._result=F)}),q._status===-1&&(q._status=0,q._result=oe)}if(q._status===1)return q._result.default;throw q._result}var re=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function J(){}return Jt.Children={map:G,forEach:function(q,oe,F){G(q,function(){oe.apply(this,arguments)},F)},count:function(q){var oe=0;return G(q,function(){oe++}),oe},toArray:function(q){return G(q,function(oe){return oe})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Jt.Component=T,Jt.Fragment=t,Jt.Profiler=i,Jt.PureComponent=A,Jt.StrictMode=r,Jt.Suspense=c,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return U.H.useMemoCache(q)}},Jt.cache=function(q){return function(){return q.apply(null,arguments)}},Jt.cloneElement=function(q,oe,F){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var W=_({},q.props),te=q.key,ae=void 0;if(oe!=null)for(fe in oe.ref!==void 0&&(ae=void 0),oe.key!==void 0&&(te=""+oe.key),oe)!K.call(oe,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&oe.ref===void 0||(W[fe]=oe[fe]);var fe=arguments.length-2;if(fe===1)W.children=F;else if(1<fe){for(var _e=Array(fe),ve=0;ve<fe;ve++)_e[ve]=arguments[ve+2];W.children=_e}return M(q.type,te,void 0,void 0,ae,W)},Jt.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Jt.createElement=function(q,oe,F){var W,te={},ae=null;if(oe!=null)for(W in oe.key!==void 0&&(ae=""+oe.key),oe)K.call(oe,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(te[W]=oe[W]);var fe=arguments.length-2;if(fe===1)te.children=F;else if(1<fe){for(var _e=Array(fe),ve=0;ve<fe;ve++)_e[ve]=arguments[ve+2];te.children=_e}if(q&&q.defaultProps)for(W in fe=q.defaultProps,fe)te[W]===void 0&&(te[W]=fe[W]);return M(q,ae,void 0,void 0,null,te)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(q){return{$$typeof:l,render:q}},Jt.isValidElement=O,Jt.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:Q}},Jt.memo=function(q,oe){return{$$typeof:h,type:q,compare:oe===void 0?null:oe}},Jt.startTransition=function(q){var oe=U.T,F={};U.T=F;try{var W=q(),te=U.S;te!==null&&te(F,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(J,re)}catch(ae){re(ae)}finally{U.T=oe}},Jt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Jt.use=function(q){return U.H.use(q)},Jt.useActionState=function(q,oe,F){return U.H.useActionState(q,oe,F)},Jt.useCallback=function(q,oe){return U.H.useCallback(q,oe)},Jt.useContext=function(q){return U.H.useContext(q)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(q,oe){return U.H.useDeferredValue(q,oe)},Jt.useEffect=function(q,oe,F){var W=U.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(q,oe)},Jt.useId=function(){return U.H.useId()},Jt.useImperativeHandle=function(q,oe,F){return U.H.useImperativeHandle(q,oe,F)},Jt.useInsertionEffect=function(q,oe){return U.H.useInsertionEffect(q,oe)},Jt.useLayoutEffect=function(q,oe){return U.H.useLayoutEffect(q,oe)},Jt.useMemo=function(q,oe){return U.H.useMemo(q,oe)},Jt.useOptimistic=function(q,oe){return U.H.useOptimistic(q,oe)},Jt.useReducer=function(q,oe,F){return U.H.useReducer(q,oe,F)},Jt.useRef=function(q){return U.H.useRef(q)},Jt.useState=function(q){return U.H.useState(q)},Jt.useSyncExternalStore=function(q,oe,F){return U.H.useSyncExternalStore(q,oe,F)},Jt.useTransition=function(){return U.H.useTransition()},Jt.version="19.1.1",Jt}var MA;function Q1(){return MA||(MA=1,rw.exports=z8()),rw.exports}var $=Q1();const Ee=yx($),Xv=j8({__proto__:null,default:Ee},[$]);var iw={exports:{}},Ym={},sw={exports:{}},aw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA;function H8(){return LA||(LA=1,(function(n){function e(G,Q){var re=G.length;G.push(Q);e:for(;0<re;){var J=re-1>>>1,q=G[J];if(0<i(q,Q))G[J]=Q,G[re]=q,re=J;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Q=G[0],re=G.pop();if(re!==Q){G[0]=re;e:for(var J=0,q=G.length,oe=q>>>1;J<oe;){var F=2*(J+1)-1,W=G[F],te=F+1,ae=G[te];if(0>i(W,re))te<q&&0>i(ae,W)?(G[J]=ae,G[te]=re,J=te):(G[J]=W,G[F]=re,J=F);else if(te<q&&0>i(ae,re))G[J]=ae,G[te]=re,J=te;else break e}}return Q}function i(G,Q){var re=G.sortIndex-Q.sortIndex;return re!==0?re:G.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,p=null,g=3,y=!1,_=!1,S=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function j(G){for(var Q=t(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=G)r(h),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=t(h)}}function U(G){if(S=!1,j(G),!_)if(t(c)!==null)_=!0,K||(K=!0,L());else{var Q=t(h);Q!==null&&pe(U,Q.startTime-G)}}var K=!1,M=-1,k=5,O=-1;function H(){return T?!0:!(n.unstable_now()-O<k)}function R(){if(T=!1,K){var G=n.unstable_now();O=G;var Q=!0;try{e:{_=!1,S&&(S=!1,A(M),M=-1),y=!0;var re=g;try{t:{for(j(G),p=t(c);p!==null&&!(p.expirationTime>G&&H());){var J=p.callback;if(typeof J=="function"){p.callback=null,g=p.priorityLevel;var q=J(p.expirationTime<=G);if(G=n.unstable_now(),typeof q=="function"){p.callback=q,j(G),Q=!0;break t}p===t(c)&&r(c),j(G)}else r(c);p=t(c)}if(p!==null)Q=!0;else{var oe=t(h);oe!==null&&pe(U,oe.startTime-G),Q=!1}}break e}finally{p=null,g=re,y=!1}Q=void 0}}finally{Q?L():K=!1}}}var L;if(typeof N=="function")L=function(){N(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,se=V.port2;V.port1.onmessage=R,L=function(){se.postMessage(null)}}else L=function(){E(R,0)};function pe(G,Q){M=E(function(){G(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(G){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var re=g;g=Q;try{return G()}finally{g=re}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=g;g=G;try{return Q()}finally{g=re}},n.unstable_scheduleCallback=function(G,Q,re){var J=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?J+re:J):re=J,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=re+q,G={id:d++,callback:Q,priorityLevel:G,startTime:re,expirationTime:q,sortIndex:-1},re>J?(G.sortIndex=re,e(h,G),t(c)===null&&G===t(h)&&(S?(A(M),M=-1):S=!0,pe(U,re-J))):(G.sortIndex=q,e(c,G),_||y||(_=!0,K||(K=!0,L()))),G},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(G){var Q=g;return function(){var re=g;g=Q;try{return G.apply(this,arguments)}finally{g=re}}}})(aw)),aw}var IA;function q8(){return IA||(IA=1,sw.exports=H8()),sw.exports}var ow={exports:{}},vs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA;function W8(){if(OA)return vs;OA=1;var n=Q1();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,h,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:h,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return vs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vs.createPortal=function(c,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(c,h,null,d)},vs.flushSync=function(c){var h=a.T,d=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=h,r.p=d,r.d.f()}},vs.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(c,h))},vs.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},vs.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var d=h.as,p=l(d,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):d==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},vs.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=l(h.as,h.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(c)},vs.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,p=l(d,h.crossOrigin);r.d.L(c,d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},vs.preloadModule=function(c,h){if(typeof c=="string")if(h){var d=l(h.as,h.crossOrigin);r.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(c)},vs.requestFormReset=function(c){r.d.r(c)},vs.unstable_batchedUpdates=function(c,h){return c(h)},vs.useFormState=function(c,h,d){return a.H.useFormState(c,h,d)},vs.useFormStatus=function(){return a.H.useHostTransitionStatus()},vs.version="19.1.1",vs}var jA;function jN(){if(jA)return ow.exports;jA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ow.exports=W8(),ow.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA;function Y8(){if(FA)return Ym;FA=1;var n=q8(),e=Q1(),t=jN();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,f=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(f=u.return),o=u.return;while(o)}return u.tag===3?f:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(s(o)!==o)throw Error(r(188))}function c(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(r(188));return u!==o?null:o}for(var f=o,m=u;;){var w=f.return;if(w===null)break;var C=w.alternate;if(C===null){if(m=w.return,m!==null){f=m;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===f)return l(w),o;if(C===m)return l(w),u;C=C.sibling}throw Error(r(188))}if(f.return!==m.return)f=w,m=C;else{for(var X=!1,ue=w.child;ue;){if(ue===f){X=!0,f=w,m=C;break}if(ue===m){X=!0,m=w,f=C;break}ue=ue.sibling}if(!X){for(ue=C.child;ue;){if(ue===f){X=!0,f=C,m=w;break}if(ue===m){X=!0,m=C,f=w;break}ue=ue.sibling}if(!X)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function L(o){return o===null||typeof o!="object"?null:(o=R&&o[R]||o["@@iterator"],typeof o=="function"?o:null)}var V=Symbol.for("react.client.reference");function se(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===V?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case U:return"Suspense";case K:return"SuspenseList";case O:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case N:return(o.displayName||"Context")+".Provider";case A:return(o._context.displayName||"Context")+".Consumer";case j:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return u=o.displayName||null,u!==null?u:se(o.type)||"Memo";case k:u=o._payload,o=o._init;try{return se(o(u))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},J=[],q=-1;function oe(o){return{current:o}}function F(o){0>q||(o.current=J[q],J[q]=null,q--)}function W(o,u){q++,J[q]=o.current,o.current=u}var te=oe(null),ae=oe(null),fe=oe(null),_e=oe(null);function ve(o,u){switch(W(fe,u),W(ae,o),W(te,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?iA(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=iA(u),o=sA(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}F(te),W(te,o)}function be(){F(te),F(ae),F(fe)}function je(o){o.memoizedState!==null&&W(_e,o);var u=te.current,f=sA(u,o.type);u!==f&&(W(ae,o),W(te,f))}function Be(o){ae.current===o&&(F(te),F(ae)),_e.current===o&&(F(_e),Bm._currentValue=re)}var Ze=Object.prototype.hasOwnProperty,tt=n.unstable_scheduleCallback,pt=n.unstable_cancelCallback,Ue=n.unstable_shouldYield,ge=n.unstable_requestPaint,Tt=n.unstable_now,yt=n.unstable_getCurrentPriorityLevel,nt=n.unstable_ImmediatePriority,rt=n.unstable_UserBlockingPriority,ot=n.unstable_NormalPriority,lt=n.unstable_LowPriority,_t=n.unstable_IdlePriority,It=n.log,Ht=n.unstable_setDisableYieldValue,xt=null,wt=null;function Kt(o){if(typeof It=="function"&&Ht(o),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(xt,o)}catch{}}var vt=Math.clz32?Math.clz32:vr,Xt=Math.log,ut=Math.LN2;function vr(o){return o>>>=0,o===0?32:31-(Xt(o)/ut|0)|0}var Zt=256,xi=4194304;function tn(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ln(o,u,f){var m=o.pendingLanes;if(m===0)return 0;var w=0,C=o.suspendedLanes,X=o.pingedLanes;o=o.warmLanes;var ue=m&134217727;return ue!==0?(m=ue&~C,m!==0?w=tn(m):(X&=ue,X!==0?w=tn(X):f||(f=ue&~o,f!==0&&(w=tn(f))))):(ue=m&~C,ue!==0?w=tn(ue):X!==0?w=tn(X):f||(f=m&~o,f!==0&&(w=tn(f)))),w===0?0:u!==0&&u!==w&&(u&C)===0&&(C=w&-w,f=u&-u,C>=f||C===32&&(f&4194048)!==0)?u:w}function Li(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function hn(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(){var o=Zt;return Zt<<=1,(Zt&4194048)===0&&(Zt=256),o}function Xn(){var o=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),o}function Gr(o){for(var u=[],f=0;31>f;f++)u.push(o);return u}function Si(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Qn(o,u,f,m,w,C){var X=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var ue=o.entanglements,ye=o.expirationTimes,Ie=o.hiddenUpdates;for(f=X&~f;0<f;){var qe=31-vt(f),Ke=1<<qe;ue[qe]=0,ye[qe]=-1;var Oe=Ie[qe];if(Oe!==null)for(Ie[qe]=null,qe=0;qe<Oe.length;qe++){var Fe=Oe[qe];Fe!==null&&(Fe.lane&=-536870913)}f&=~Ke}m!==0&&Dt(o,m,0),C!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=C&~(X&~u))}function Dt(o,u,f){o.pendingLanes|=u,o.suspendedLanes&=~u;var m=31-vt(u);o.entangledLanes|=u,o.entanglements[m]=o.entanglements[m]|1073741824|f&4194090}function fn(o,u){var f=o.entangledLanes|=u;for(o=o.entanglements;f;){var m=31-vt(f),w=1<<m;w&u|o[m]&u&&(o[m]|=u),f&=~w}}function as(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function br(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ti(){var o=Q.p;return o!==0?o:(o=window.event,o===void 0?32:TA(o.type))}function Ps(o,u){var f=Q.p;try{return Q.p=o,u()}finally{Q.p=f}}var ht=Math.random().toString(36).slice(2),In="__reactFiber$"+ht,On="__reactProps$"+ht,ir="__reactContainer$"+ht,hr="__reactEvents$"+ht,wr="__reactListeners$"+ht,jr="__reactHandles$"+ht,So="__reactResources$"+ht,$i="__reactMarker$"+ht;function fi(o){delete o[In],delete o[On],delete o[hr],delete o[wr],delete o[jr]}function Kr(o){var u=o[In];if(u)return u;for(var f=o.parentNode;f;){if(u=f[ir]||f[In]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(o=cA(o);o!==null;){if(f=o[In])return f;o=cA(o)}return u}o=f,f=o.parentNode}return null}function Fr(o){if(o=o[In]||o[ir]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function Xr(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Jn(o){var u=o[So];return u||(u=o[So]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Cn(o){o[$i]=!0}var da=new Set,pa={};function Ii(o,u){os(o,u),os(o+"Capture",u)}function os(o,u){for(pa[o]=u,o=0;o<u.length;o++)da.add(u[o])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},Eo={};function Pu(o){return Ze.call(Eo,o)?!0:Ze.call(_c,o)?!1:To.test(o)?Eo[o]=!0:(_c[o]=!0,!1)}function Rs(o,u,f){if(Pu(u))if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+f)}}function Ms(o,u,f){if(f===null)o.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+f)}}function Qr(o,u,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(u,f,""+m)}}var ma,Ru;function zs(o){if(ma===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);ma=u&&u[1]||"",Ru=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+o+Ru}var ll=!1;function ga(o,u){if(!o||ll)return"";ll=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Fe){var Oe=Fe}Reflect.construct(o,[],Ke)}else{try{Ke.call()}catch(Fe){Oe=Fe}o.call(Ke.prototype)}}else{try{throw Error()}catch(Fe){Oe=Fe}(Ke=o())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Fe){if(Fe&&Oe&&typeof Fe.stack=="string")return[Fe.stack,Oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=m.DetermineComponentFrameRoot(),X=C[0],ue=C[1];if(X&&ue){var ye=X.split(`
`),Ie=ue.split(`
`);for(w=m=0;m<ye.length&&!ye[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Ie.length&&!Ie[w].includes("DetermineComponentFrameRoot");)w++;if(m===ye.length||w===Ie.length)for(m=ye.length-1,w=Ie.length-1;1<=m&&0<=w&&ye[m]!==Ie[w];)w--;for(;1<=m&&0<=w;m--,w--)if(ye[m]!==Ie[w]){if(m!==1||w!==1)do if(m--,w--,0>w||ye[m]!==Ie[w]){var qe=`
`+ye[m].replace(" at new "," at ");return o.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",o.displayName)),qe}while(1<=m&&0<=w);break}}}finally{ll=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?zs(f):""}function xc(o){switch(o.tag){case 26:case 27:case 5:return zs(o.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 15:return ga(o.type,!1);case 11:return ga(o.type.render,!1);case 1:return ga(o.type,!0);case 31:return zs("Activity");default:return""}}function Zn(o){try{var u="";do u+=xc(o),o=o.return;while(o);return u}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function di(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function cl(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Mu(o){var u=cl(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),m=""+o[u];if(!o.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,C=f.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return w.call(this)},set:function(X){m=""+X,C.call(this,X)}}),Object.defineProperty(o,u,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(X){m=""+X},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function ja(o){o._valueTracker||(o._valueTracker=Mu(o))}function Sc(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var f=u.getValue(),m="";return o&&(m=cl(o)?o.checked?"true":"false":o.value),o=m,o!==f?(u.setValue(o),!0):!1}function Ei(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ul=/[\n"\\]/g;function vn(o){return o.replace(ul,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ai(o,u,f,m,w,C,X,ue){o.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?o.type=X:o.removeAttribute("type"),u!=null?X==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+di(u)):o.value!==""+di(u)&&(o.value=""+di(u)):X!=="submit"&&X!=="reset"||o.removeAttribute("value"),u!=null?Va(o,X,di(u)):f!=null?Va(o,X,di(f)):m!=null&&o.removeAttribute("value"),w==null&&C!=null&&(o.defaultChecked=!!C),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?o.name=""+di(ue):o.removeAttribute("name")}function Fa(o,u,f,m,w,C,X,ue){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),u!=null||f!=null){if(!(C!=="submit"&&C!=="reset"||u!=null))return;f=f!=null?""+di(f):"",u=u!=null?""+di(u):f,ue||u===o.value||(o.value=u),o.defaultValue=u}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=ue?o.checked:!!m,o.defaultChecked=!!m,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(o.name=X)}function Va(o,u,f){u==="number"&&Ei(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Hs(o,u,f,m){if(o=o.options,u){u={};for(var w=0;w<f.length;w++)u["$"+f[w]]=!0;for(f=0;f<o.length;f++)w=u.hasOwnProperty("$"+o[f].value),o[f].selected!==w&&(o[f].selected=w),w&&m&&(o[f].defaultSelected=!0)}else{for(f=""+di(f),u=null,w=0;w<o.length;w++){if(o[w].value===f){o[w].selected=!0,m&&(o[w].defaultSelected=!0);return}u!==null||o[w].disabled||(u=o[w])}u!==null&&(u.selected=!0)}}function Dn(o,u,f){if(u!=null&&(u=""+di(u),u!==o.value&&(o.value=u),f==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=f!=null?""+di(f):""}function Ba(o,u,f,m){if(u==null){if(m!=null){if(f!=null)throw Error(r(92));if(pe(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),u=f}f=di(u),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m)}function ls(o,u){if(u){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=u;return}}o.textContent=u}var ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(o,u,f){var m=u.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":m?o.setProperty(u,f):typeof f!="number"||f===0||ya.has(u)?u==="float"?o.cssFloat=f:o[u]=(""+f).trim():o[u]=f+"px"}function Tc(o,u,f){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var w in u)m=u[w],u.hasOwnProperty(w)&&f[w]!==m&&Lu(o,w,m)}else for(var C in u)u.hasOwnProperty(C)&&Lu(o,C,u[C])}function Ec(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var va=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(o){return hl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var qs=null;function zn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var wa=null,Ws=null;function Rt(o){var u=Fr(o);if(u&&(o=u.stateNode)){var f=o[On]||null;e:switch(o=u.stateNode,u.type){case"input":if(Ai(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),u=f.name,f.type==="radio"&&u!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+vn(""+u)+'"][type="radio"]'),u=0;u<f.length;u++){var m=f[u];if(m!==o&&m.form===o.form){var w=m[On]||null;if(!w)throw Error(r(90));Ai(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<f.length;u++)m=f[u],m.form===o.form&&Sc(m)}break e;case"textarea":Dn(o,f.value,f.defaultValue);break e;case"select":u=f.value,u!=null&&Hs(o,!!f.multiple,u,!1)}}}var Ys=!1;function Iu(o,u,f){if(Ys)return o(u,f);Ys=!0;try{var m=o(u);return m}finally{if(Ys=!1,(wa!==null||Ws!==null)&&(wy(),wa&&(u=wa,o=Ws,Ws=wa=null,Rt(u),o)))for(u=0;u<o.length;u++)Rt(o[u])}}function Oi(o,u){var f=o.stateNode;if(f===null)return null;var m=f[On]||null;if(m===null)return null;f=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if(cs)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Gi=!1}var us=null,Ua=null,_a=null;function Ac(){if(_a)return _a;var o,u=Ua,f=u.length,m,w="value"in us?us.value:us.textContent,C=w.length;for(o=0;o<f&&u[o]===w[o];o++);var X=f-o;for(m=1;m<=X&&u[f-m]===w[C-m];m++);return _a=w.slice(o,1<m?1-m:void 0)}function hs(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ji(){return!0}function Gs(){return!1}function Vr(o){function u(f,m,w,C,X){this._reactName=f,this._targetInst=w,this.type=m,this.nativeEvent=C,this.target=X,this.currentTarget=null;for(var ue in o)o.hasOwnProperty(ue)&&(f=o[ue],this[ue]=f?f(C):C[ue]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?ji:Gs,this.isPropagationStopped=Gs,this}return d(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),u}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Vr(an),Ks=d({},an,{view:0,detail:0}),Cc=Vr(Ks),Ao,Co,Ls,Fi=d({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ls&&(Ls&&o.type==="mousemove"?(Ao=o.screenX-Ls.screenX,Co=o.screenY-Ls.screenY):Co=Ao=0,Ls=o),Ao)},movementY:function(o){return"movementY"in o?o.movementY:Co}}),Br=Vr(Fi),Ou=d({},Fi,{dataTransfer:0}),Ha=Vr(Ou),Ci=d({},Ks,{relatedTarget:0}),qa=Vr(Ci),xa=d({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),fl=Vr(xa),Do=d({},an,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),dl=Vr(Do),Dc=d({},an,{data:0}),ko=Vr(Dc),Wa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},No={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=pl[o])?!!u[o]:!1}function Ya(){return Po}var ju=d({},Ks,{key:function(o){if(o.key){var u=Wa[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=hs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?No[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(o){return o.type==="keypress"?hs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?hs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Sa=Vr(ju),$a=d({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=Vr($a),Vi=d({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),ml=Vr(Vi),D=d({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=Vr(D),me=d({},Fi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),we=Vr(me),De=d({},an,{newState:0,oldState:0}),ze=Vr(De),Qe=[9,13,27,32],st=cs&&"CompositionEvent"in window,b=null;cs&&"documentMode"in document&&(b=document.documentMode);var I=cs&&"TextEvent"in window&&!b,Y=cs&&(!st||b&&8<b&&11>=b),ce=" ",Ce=!1;function Le(o,u){switch(o){case"keyup":return Qe.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Je(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Mt=!1;function on(o,u){switch(o){case"compositionend":return Je(u);case"keypress":return u.which!==32?null:(Ce=!0,ce);case"textInput":return o=u.data,o===ce&&Ce?null:o;default:return null}}function qt(o,u){if(Mt)return o==="compositionend"||!st&&Le(o,u)?(o=Ac(),_a=Ua=us=null,Mt=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Y&&u.locale!=="ko"?null:u.data;default:return null}}var kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!kn[o.type]:u==="textarea"}function Xs(o,u,f,m){wa?Ws?Ws.push(m):Ws=[m]:wa=m,u=Ay(u,"onChange"),0<u.length&&(f=new za("onChange","change",null,f,m),o.push({event:f,listeners:u}))}var Cr=null,fs=null;function Ga(o){ZE(o,0)}function gl(o){var u=Xr(o);if(Sc(u))return o}function Fu(o,u){if(o==="change")return u}var kc=!1;if(cs){var Jr;if(cs){var yl="oninput"in document;if(!yl){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),yl=typeof Nc.oninput=="function"}Jr=yl}else Jr=!1;kc=Jr&&(!document.documentMode||9<document.documentMode)}function Pc(){Cr&&(Cr.detachEvent("onpropertychange",Vu),fs=Cr=null)}function Vu(o){if(o.propertyName==="value"&&gl(fs)){var u=[];Xs(u,fs,o,zn(o)),Iu(Ga,u)}}function ds(o,u,f){o==="focusin"?(Pc(),Cr=u,fs=f,Cr.attachEvent("onpropertychange",Vu)):o==="focusout"&&Pc()}function om(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return gl(fs)}function sf(o,u){if(o==="click")return gl(u)}function Ed(o,u){if(o==="input"||o==="change")return gl(u)}function Qs(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var pi=typeof Object.is=="function"?Object.is:Qs;function vl(o,u){if(pi(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var f=Object.keys(o),m=Object.keys(u);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var w=f[m];if(!Ze.call(u,w)||!pi(o[w],u[w]))return!1}return!0}function af(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Mo(o,u){var f=af(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=u&&m>=u)return{node:f,offset:u-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=af(f)}}function bl(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?bl(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Ki(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Ei(o.document);u instanceof o.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)o=u.contentWindow;else break;u=Ei(o.document)}return u}function Di(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var wl=cs&&"documentMode"in document&&11>=document.documentMode,ps=null,Ta=null,Ka=null,Ea=!1;function _r(o,u,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ea||ps==null||ps!==Ei(m)||(m=ps,"selectionStart"in m&&Di(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ka&&vl(Ka,m)||(Ka=m,m=Ay(Ta,"onSelect"),0<m.length&&(u=new za("onSelect","select",null,u,f),o.push({event:u,listeners:m}),u.target=ps)))}function Aa(o,u){var f={};return f[o.toLowerCase()]=u.toLowerCase(),f["Webkit"+o]="webkit"+u,f["Moz"+o]="moz"+u,f}var Ur={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},ms={},Rc={};cs&&(Rc=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Xa(o){if(ms[o])return ms[o];if(!Ur[o])return o;var u=Ur[o],f;for(f in u)if(u.hasOwnProperty(f)&&f in Rc)return ms[o]=u[f];return o}var Bu=Xa("animationend"),_l=Xa("animationiteration"),xl=Xa("animationstart"),Sl=Xa("transitionrun"),Mc=Xa("transitionstart"),Uu=Xa("transitioncancel"),Tl=Xa("transitionend"),Lo=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function xr(o,u){Lo.set(o,u),Ii(u,[o])}var Is=new WeakMap;function nn(o,u){if(typeof o=="object"&&o!==null){var f=Is.get(o);return f!==void 0?f:(u={value:o,source:u,stack:Zn(u)},Is.set(o,u),u)}return{value:o,source:u,stack:Zn(u)}}var rn=[],er=0,Dr=0;function Js(){for(var o=er,u=Dr=er=0;u<o;){var f=rn[u];rn[u++]=null;var m=rn[u];rn[u++]=null;var w=rn[u];rn[u++]=null;var C=rn[u];if(rn[u++]=null,m!==null&&w!==null){var X=m.pending;X===null?w.next=w:(w.next=X.next,X.next=w),m.pending=w}C!==0&&Ad(f,w,C)}}function El(o,u,f,m){rn[er++]=o,rn[er++]=u,rn[er++]=f,rn[er++]=m,Dr|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Al(o,u,f,m){return El(o,u,f,m),Ic(o)}function Io(o,u){return El(o,null,null,u),Ic(o)}function Ad(o,u,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var w=!1,C=o.return;C!==null;)C.childLanes|=f,m=C.alternate,m!==null&&(m.childLanes|=f),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(w=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,w&&u!==null&&(w=31-vt(f),o=C.hiddenUpdates,m=o[w],m===null?o[w]=[u]:m.push(u),u.lane=f|536870912),C):null}function Ic(o){if(50<Rm)throw Rm=0,Ab=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var mi={};function Zs(o,u,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(o,u,f,m){return new Zs(o,u,f,m)}function zu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Qa(o,u){var f=o.alternate;return f===null?(f=Bi(o.tag,u,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=u,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,u=o.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function of(o,u){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,u=f.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Oc(o,u,f,m,w,C){var X=0;if(m=o,typeof o=="function")zu(o)&&(X=1);else if(typeof o=="string")X=T8(o,f,te.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case O:return o=Bi(31,f,u,w),o.elementType=O,o.lanes=C,o;case _:return Oo(f.children,w,C,u);case S:X=8,w|=24;break;case T:return o=Bi(12,f,u,w|2),o.elementType=T,o.lanes=C,o;case U:return o=Bi(13,f,u,w),o.elementType=U,o.lanes=C,o;case K:return o=Bi(19,f,u,w),o.elementType=K,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:case N:X=10;break e;case A:X=9;break e;case j:X=11;break e;case M:X=14;break e;case k:X=16,m=null;break e}X=29,f=Error(r(130,o===null?"null":typeof o,"")),m=null}return u=Bi(X,f,u,w),u.elementType=o,u.type=m,u.lanes=C,u}function Oo(o,u,f,m){return o=Bi(7,o,m,u),o.lanes=f,o}function Cd(o,u,f){return o=Bi(6,o,null,u),o.lanes=f,o}function lf(o,u,f){return u=Bi(4,o.children!==null?o.children:[],o.key,u),u.lanes=f,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Cl=[],jo=0,Hu=null,Dd=0,ea=[],Os=0,jc=null,Fo=1,Vo="";function Fc(o,u){Cl[jo++]=Dd,Cl[jo++]=Hu,Hu=o,Dd=u}function q0(o,u,f){ea[Os++]=Fo,ea[Os++]=Vo,ea[Os++]=jc,jc=o;var m=Fo;o=Vo;var w=32-vt(m)-1;m&=~(1<<w),f+=1;var C=32-vt(u)+w;if(30<C){var X=w-w%5;C=(m&(1<<X)-1).toString(32),m>>=X,w-=X,Fo=1<<32-vt(u)+w|f<<w|m,Vo=C+o}else Fo=1<<C|f<<w|m,Vo=o}function cf(o){o.return!==null&&(Fc(o,1),q0(o,1,0))}function uf(o){for(;o===Hu;)Hu=Cl[--jo],Cl[jo]=null,Dd=Cl[--jo],Cl[jo]=null;for(;o===jc;)jc=ea[--Os],ea[Os]=null,Vo=ea[--Os],ea[Os]=null,Fo=ea[--Os],ea[Os]=null}var Zr=null,Sr=null,Tn=!1,Dl=null,Ja=!1,lm=Error(r(519));function Vc(o){var u=Error(r(418,""));throw qu(nn(u,o)),lm}function W0(o){var u=o.stateNode,f=o.type,m=o.memoizedProps;switch(u[In]=o,u[On]=m,f){case"dialog":un("cancel",u),un("close",u);break;case"iframe":case"object":case"embed":un("load",u);break;case"video":case"audio":for(f=0;f<Lm.length;f++)un(Lm[f],u);break;case"source":un("error",u);break;case"img":case"image":case"link":un("error",u),un("load",u);break;case"details":un("toggle",u);break;case"input":un("invalid",u),Fa(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),ja(u);break;case"select":un("invalid",u);break;case"textarea":un("invalid",u),Ba(u,m.value,m.defaultValue,m.children),ja(u)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||u.textContent===""+f||m.suppressHydrationWarning===!0||rA(u.textContent,f)?(m.popover!=null&&(un("beforetoggle",u),un("toggle",u)),m.onScroll!=null&&un("scroll",u),m.onScrollEnd!=null&&un("scrollend",u),m.onClick!=null&&(u.onclick=Cy),u=!0):u=!1,u||Vc(o)}function Bo(o){for(Zr=o.return;Zr;)switch(Zr.tag){case 5:case 13:Ja=!1;return;case 27:case 3:Ja=!0;return;default:Zr=Zr.return}}function Xi(o){if(o!==Zr)return!1;if(!Tn)return Bo(o),Tn=!0,!1;var u=o.tag,f;if((f=u!==3&&u!==27)&&((f=u===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||zb(o.type,o.memoizedProps)),f=!f),f&&Sr&&Vc(o),Bo(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(u===0){Sr=Go(o.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++;o=o.nextSibling}Sr=null}}else u===27?(u=Sr,oh(o.type)?(o=Yb,Yb=null,Sr=o):Sr=u):Sr=Zr?Go(o.stateNode.nextSibling):null;return!0}function js(){Sr=Zr=null,Tn=!1}function Y0(){var o=Dl;return o!==null&&(ra===null?ra=o:ra.push.apply(ra,o),Dl=null),o}function qu(o){Dl===null?Dl=[o]:Dl.push(o)}var Za=oe(null),gi=null,Uo=null;function kl(o,u,f){W(Za,u._currentValue),u._currentValue=f}function eo(o){o._currentValue=Za.current,F(Za)}function kd(o,u,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),o===f)break;o=o.return}}function Nd(o,u,f,m){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var C=w.dependencies;if(C!==null){var X=w.child;C=C.firstContext;e:for(;C!==null;){var ue=C;C=w;for(var ye=0;ye<u.length;ye++)if(ue.context===u[ye]){C.lanes|=f,ue=C.alternate,ue!==null&&(ue.lanes|=f),kd(C.return,f,o),m||(X=null);break e}C=ue.next}}else if(w.tag===18){if(X=w.return,X===null)throw Error(r(341));X.lanes|=f,C=X.alternate,C!==null&&(C.lanes|=f),kd(X,f,o),X=null}else X=w.child;if(X!==null)X.return=w;else for(X=w;X!==null;){if(X===o){X=null;break}if(w=X.sibling,w!==null){w.return=X.return,X=w;break}X=X.return}w=X}}function Wu(o,u,f,m){o=null;for(var w=u,C=!1;w!==null;){if(!C){if((w.flags&524288)!==0)C=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var X=w.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var ue=w.type;pi(w.pendingProps.value,X.value)||(o!==null?o.push(ue):o=[ue])}}else if(w===_e.current){if(X=w.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Bm):o=[Bm])}w=w.return}o!==null&&Nd(u,o,f,m),u.flags|=262144}function Pd(o){for(o=o.firstContext;o!==null;){if(!pi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function to(o){gi=o,Uo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ei(o){return Rd(gi,o)}function Nl(o,u){return gi===null&&to(o),Rd(o,u)}function Rd(o,u){var f=u._currentValue;if(u={context:u,memoizedValue:f,next:null},Uo===null){if(o===null)throw Error(r(308));Uo=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Uo=Uo.next=u;return f}var Q2=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){u.aborted=!0,o.forEach(function(f){return f()})}},$0=n.unstable_scheduleCallback,J2=n.unstable_NormalPriority,ti={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cm(){return{controller:new Q2,data:new Map,refCount:0}}function hf(o){o.refCount--,o.refCount===0&&$0(J2,function(){o.controller.abort()})}var ff=null,um=0,Bc=0,zo=null;function Z2(o,u){if(ff===null){var f=ff=[];um=0,Bc=Mb(),zo={status:"pending",value:void 0,then:function(m){f.push(m)}}}return um++,u.then(G0,G0),u}function G0(){if(--um===0&&ff!==null){zo!==null&&(zo.status="fulfilled");var o=ff;ff=null,Bc=0,zo=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function K0(o,u){var f=[],m={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return o.then(function(){m.status="fulfilled",m.value=u;for(var w=0;w<f.length;w++)(0,f[w])(u)},function(w){for(m.status="rejected",m.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),m}var v=G.S;G.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Z2(o,u),v!==null&&v(o,u)};var x=oe(null);function P(){var o=x.current;return o!==null?o:ur.pooledCache}function z(o,u){u===null?W(x,x.current):W(x,u.pool)}function Z(){var o=P();return o===null?null:{parent:ti._currentValue,pool:o}}var ne=Error(r(460)),ie=Error(r(474)),le=Error(r(542)),he={then:function(){}};function de(o){return o=o.status,o==="fulfilled"||o==="rejected"}function xe(){}function Me(o,u,f){switch(f=o[f],f===void 0?o.push(u):f!==u&&(u.then(xe,xe),u=f),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,$e(o),o;default:if(typeof u.status=="string")u.then(xe,xe);else{if(o=ur,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(m){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=m}},function(m){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,$e(o),o}throw Pe=u,ne}}var Pe=null;function ke(){if(Pe===null)throw Error(r(459));var o=Pe;return Pe=null,o}function $e(o){if(o===ne||o===le)throw Error(r(483))}var Ve=!1;function Se(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ae(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function He(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ge(o,u,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(qn&2)!==0){var w=m.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),m.pending=u,u=Ic(o),Ad(o,null,f),u}return El(o,m,u,f),Ic(o)}function We(o,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194048)!==0)){var m=u.lanes;m&=o.pendingLanes,f|=m,u.lanes=f,fn(o,f)}}function ft(o,u){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var w=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var X={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};C===null?w=C=X:C=C.next=X,f=f.next}while(f!==null);C===null?w=C=u:C=C.next=u}else w=C=u;f={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=u}var it=!1;function Et(){if(it){var o=zo;if(o!==null)throw o}}function at(o,u,f,m){it=!1;var w=o.updateQueue;Ve=!1;var C=w.firstBaseUpdate,X=w.lastBaseUpdate,ue=w.shared.pending;if(ue!==null){w.shared.pending=null;var ye=ue,Ie=ye.next;ye.next=null,X===null?C=Ie:X.next=Ie,X=ye;var qe=o.alternate;qe!==null&&(qe=qe.updateQueue,ue=qe.lastBaseUpdate,ue!==X&&(ue===null?qe.firstBaseUpdate=Ie:ue.next=Ie,qe.lastBaseUpdate=ye))}if(C!==null){var Ke=w.baseState;X=0,qe=Ie=ye=null,ue=C;do{var Oe=ue.lane&-536870913,Fe=Oe!==ue.lane;if(Fe?(xn&Oe)===Oe:(m&Oe)===Oe){Oe!==0&&Oe===Bc&&(it=!0),qe!==null&&(qe=qe.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Ut=o,Lt=ue;Oe=u;var nr=f;switch(Lt.tag){case 1:if(Ut=Lt.payload,typeof Ut=="function"){Ke=Ut.call(nr,Ke,Oe);break e}Ke=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Lt.payload,Oe=typeof Ut=="function"?Ut.call(nr,Ke,Oe):Ut,Oe==null)break e;Ke=d({},Ke,Oe);break e;case 2:Ve=!0}}Oe=ue.callback,Oe!==null&&(o.flags|=64,Fe&&(o.flags|=8192),Fe=w.callbacks,Fe===null?w.callbacks=[Oe]:Fe.push(Oe))}else Fe={lane:Oe,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},qe===null?(Ie=qe=Fe,ye=Ke):qe=qe.next=Fe,X|=Oe;if(ue=ue.next,ue===null){if(ue=w.shared.pending,ue===null)break;Fe=ue,ue=Fe.next,Fe.next=null,w.lastBaseUpdate=Fe,w.shared.pending=null}}while(!0);qe===null&&(ye=Ke),w.baseState=ye,w.firstBaseUpdate=Ie,w.lastBaseUpdate=qe,C===null&&(w.shared.lanes=0),rh|=X,o.lanes=X,o.memoizedState=Ke}}function wn(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function Nn(o,u){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)wn(f[o],u)}var en=oe(null),Qt=oe(0);function Vn(o,u){o=Xc,W(Qt,o),W(en,u),Xc=o|u.baseLanes}function Pn(){W(Qt,Xc),W(en,en.current)}function Wt(){Xc=Qt.current,F(en),F(Qt)}var Hn=0,kt=null,jt=null,bn=null,_n=!1,yi=!1,ni=!1,kr=0,Nr=0,zr=null,ta=0;function Rn(){throw Error(r(321))}function Hr(o,u){if(u===null)return!1;for(var f=0;f<u.length&&f<o.length;f++)if(!pi(o[f],u[f]))return!1;return!0}function Ca(o,u,f,m,w,C){return Hn=C,kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,G.H=o===null||o.memoizedState===null?jT:FT,ni=!1,C=f(m,w),ni=!1,yi&&(C=Uc(u,f,m,w)),Pl(o),C}function Pl(o){G.H=oy;var u=jt!==null&&jt.next!==null;if(Hn=0,bn=jt=kt=null,_n=!1,Nr=0,zr=null,u)throw Error(r(300));o===null||Ui||(o=o.dependencies,o!==null&&Pd(o)&&(Ui=!0))}function Uc(o,u,f,m){kt=o;var w=0;do{if(yi&&(zr=null),Nr=0,yi=!1,25<=w)throw Error(r(301));if(w+=1,bn=jt=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}G.H=IO,C=u(f,m)}while(yi);return C}function Rl(){var o=G.H,u=o.useState()[0];return u=typeof u.then=="function"?Ml(u):u,o=o.useState()[0],(jt!==null?jt.memoizedState:null)!==o&&(kt.flags|=1024),u}function cr(){var o=kr!==0;return kr=0,o}function df(o,u,f){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~f}function Md(o){if(_n){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}_n=!1}Hn=0,bn=jt=kt=null,yi=!1,Nr=kr=0,zr=null}function Qi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?kt.memoizedState=bn=o:bn=bn.next=o,bn}function fr(){if(jt===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=jt.next;var u=bn===null?kt.memoizedState:bn.next;if(u!==null)bn=u,jt=o;else{if(o===null)throw kt.alternate===null?Error(r(467)):Error(r(310));jt=o,o={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},bn===null?kt.memoizedState=bn=o:bn=bn.next=o}return bn}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(o){var u=Nr;return Nr+=1,zr===null&&(zr=[]),o=Me(zr,o,u),u=kt,(bn===null?u.memoizedState:bn.next)===null&&(u=u.alternate,G.H=u===null||u.memoizedState===null?jT:FT),o}function gs(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ml(o);if(o.$$typeof===N)return ei(o)}throw Error(r(438,String(o)))}function Ll(o){var u=null,f=kt.updateQueue;if(f!==null&&(u=f.memoCache),u==null){var m=kt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),f===null&&(f=zc(),kt.updateQueue=f),f.memoCache=u,f=u.data[u.index],f===void 0)for(f=u.data[u.index]=Array(o),m=0;m<o;m++)f[m]=H;return u.index++,f}function ys(o,u){return typeof u=="function"?u(o):u}function pf(o){var u=fr();return Yu(u,jt,o)}function Yu(o,u,f){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var w=o.baseQueue,C=m.pending;if(C!==null){if(w!==null){var X=w.next;w.next=C.next,C.next=X}u.baseQueue=w=C,m.pending=null}if(C=o.baseState,w===null)o.memoizedState=C;else{u=w.next;var ue=X=null,ye=null,Ie=u,qe=!1;do{var Ke=Ie.lane&-536870913;if(Ke!==Ie.lane?(xn&Ke)===Ke:(Hn&Ke)===Ke){var Oe=Ie.revertLane;if(Oe===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),Ke===Bc&&(qe=!0);else if((Hn&Oe)===Oe){Ie=Ie.next,Oe===Bc&&(qe=!0);continue}else Ke={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ye===null?(ue=ye=Ke,X=C):ye=ye.next=Ke,kt.lanes|=Oe,rh|=Oe;Ke=Ie.action,ni&&f(C,Ke),C=Ie.hasEagerState?Ie.eagerState:f(C,Ke)}else Oe={lane:Ke,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ye===null?(ue=ye=Oe,X=C):ye=ye.next=Oe,kt.lanes|=Ke,rh|=Ke;Ie=Ie.next}while(Ie!==null&&Ie!==u);if(ye===null?X=C:ye.next=ue,!pi(C,o.memoizedState)&&(Ui=!0,qe&&(f=zo,f!==null)))throw f;o.memoizedState=C,o.baseState=X,o.baseQueue=ye,m.lastRenderedState=C}return w===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Ld(o){var u=fr(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var m=f.dispatch,w=f.pending,C=u.memoizedState;if(w!==null){f.pending=null;var X=w=w.next;do C=o(C,X.action),X=X.next;while(X!==w);pi(C,u.memoizedState)||(Ui=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),f.lastRenderedState=C}return[C,m]}function mf(o,u,f){var m=kt,w=fr(),C=Tn;if(C){if(f===void 0)throw Error(r(407));f=f()}else f=u();var X=!pi((jt||w).memoizedState,f);X&&(w.memoizedState=f,Ui=!0),w=w.queue;var ue=$u.bind(null,m,w,o);if(Xu(2048,8,ue,[o]),w.getSnapshot!==u||X||bn!==null&&bn.memoizedState.tag&1){if(m.flags|=2048,qo(9,bf(),gf.bind(null,m,w,f,u),null),ur===null)throw Error(r(349));C||(Hn&124)!==0||Id(m,u,f)}return f}function Id(o,u,f){o.flags|=16384,o={getSnapshot:u,value:f},u=kt.updateQueue,u===null?(u=zc(),kt.updateQueue=u,u.stores=[o]):(f=u.stores,f===null?u.stores=[o]:f.push(o))}function gf(o,u,f,m){u.value=f,u.getSnapshot=m,X0(u)&&Q0(o)}function $u(o,u,f){return f(function(){X0(u)&&Q0(o)})}function X0(o){var u=o.getSnapshot;o=o.value;try{var f=u();return!pi(o,f)}catch{return!0}}function Q0(o){var u=Io(o,2);u!==null&&Ma(u,o,2)}function yf(o){var u=Qi();if(typeof o=="function"){var f=o;if(o=f(),ni){Kt(!0);try{f()}finally{Kt(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},u}function Ho(o,u,f,m){return o.baseState=f,Yu(o,jt,typeof m=="function"?m:ys)}function eb(o,u,f,m,w){if(ay(o))throw Error(r(485));if(o=u.action,o!==null){var C={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){C.listeners.push(X)}};G.T!==null?f(!0):C.isTransition=!1,m(C),f=u.pending,f===null?(C.next=u.pending=C,J0(u,C)):(C.next=f.next,u.pending=f.next=C)}}function J0(o,u){var f=u.action,m=u.payload,w=o.state;if(u.isTransition){var C=G.T,X={};G.T=X;try{var ue=f(w,m),ye=G.S;ye!==null&&ye(X,ue),Z0(o,u,ue)}catch(Ie){Gu(o,u,Ie)}finally{G.T=C}}else try{C=f(w,m),Z0(o,u,C)}catch(Ie){Gu(o,u,Ie)}}function Z0(o,u,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){hm(o,u,m)},function(m){return Gu(o,u,m)}):hm(o,u,f)}function hm(o,u,f){u.status="fulfilled",u.value=f,fm(u),o.state=f,u=o.pending,u!==null&&(f=u.next,f===u?o.pending=null:(f=f.next,u.next=f,J0(o,f)))}function Gu(o,u,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=f,fm(u),u=u.next;while(u!==m)}o.action=null}function fm(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function dm(o,u){return u}function vf(o,u){if(Tn){var f=ur.formState;if(f!==null){e:{var m=kt;if(Tn){if(Sr){t:{for(var w=Sr,C=Ja;w.nodeType!==8;){if(!C){w=null;break t}if(w=Go(w.nextSibling),w===null){w=null;break t}}C=w.data,w=C==="F!"||C==="F"?w:null}if(w){Sr=Go(w.nextSibling),m=w.data==="F!";break e}}Vc(m)}m=!1}m&&(u=f[0])}}return f=Qi(),f.memoizedState=f.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:u},f.queue=m,f=LT.bind(null,kt,m),m.dispatch=f,m=yf(!1),C=tb.bind(null,kt,!1,m.queue),m=Qi(),w={state:u,dispatch:null,action:o,pending:null},m.queue=w,f=eb.bind(null,kt,w,C,f),w.dispatch=f,m.memoizedState=o,[u,f,!1]}function Od(o){var u=fr();return Ku(u,jt,o)}function Ku(o,u,f){if(u=Yu(o,u,dm)[0],o=pf(ys)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=Ml(u)}catch(X){throw X===ne?le:X}else m=u;u=fr();var w=u.queue,C=w.dispatch;return f!==u.memoizedState&&(kt.flags|=2048,qo(9,bf(),ey.bind(null,w,f),null)),[m,C,o]}function ey(o,u){o.action=u}function ty(o){var u=fr(),f=jt;if(f!==null)return Ku(u,f,o);fr(),u=u.memoizedState,f=fr();var m=f.queue.dispatch;return f.memoizedState=o,[u,m,!1]}function qo(o,u,f,m){return o={tag:o,create:f,deps:m,inst:u,next:null},u=kt.updateQueue,u===null&&(u=zc(),kt.updateQueue=u),f=u.lastEffect,f===null?u.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,u.lastEffect=o),o}function bf(){return{destroy:void 0,resource:void 0}}function jd(){return fr().memoizedState}function Da(o,u,f,m){var w=Qi();m=m===void 0?null:m,kt.flags|=o,w.memoizedState=qo(1|u,bf(),f,m)}function Xu(o,u,f,m){var w=fr();m=m===void 0?null:m;var C=w.memoizedState.inst;jt!==null&&m!==null&&Hr(m,jt.memoizedState.deps)?w.memoizedState=qo(u,C,f,m):(kt.flags|=o,w.memoizedState=qo(1|u,C,f,m))}function pm(o,u){Da(8390656,8,o,u)}function ny(o,u){Xu(2048,8,o,u)}function mm(o,u){return Xu(4,2,o,u)}function Hc(o,u){return Xu(4,4,o,u)}function ry(o,u){if(typeof u=="function"){o=o();var f=u(o);return function(){typeof f=="function"?f():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function gm(o,u,f){f=f!=null?f.concat([o]):null,Xu(4,4,ry.bind(null,u,o),f)}function ym(){}function vm(o,u){var f=fr();u=u===void 0?null:u;var m=f.memoizedState;return u!==null&&Hr(u,m[1])?m[0]:(f.memoizedState=[o,u],o)}function iy(o,u){var f=fr();u=u===void 0?null:u;var m=f.memoizedState;if(u!==null&&Hr(u,m[1]))return m[0];if(m=o(),ni){Kt(!0);try{o()}finally{Kt(!1)}}return f.memoizedState=[m,u],m}function qc(o,u,f){return f===void 0||(Hn&1073741824)!==0?o.memoizedState=u:(o.memoizedState=f,o=NE(),kt.lanes|=o,rh|=o,f)}function Fd(o,u,f,m){return pi(f,u)?f:en.current!==null?(o=qc(o,f,m),pi(o,u)||(Ui=!0),o):(Hn&42)===0?(Ui=!0,o.memoizedState=f):(o=NE(),kt.lanes|=o,rh|=o,u)}function wf(o,u,f,m,w){var C=Q.p;Q.p=C!==0&&8>C?C:8;var X=G.T,ue={};G.T=ue,tb(o,!1,u,f);try{var ye=w(),Ie=G.S;if(Ie!==null&&Ie(ue,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var qe=K0(ye,m);xm(o,u,qe,Ra(o))}else xm(o,u,m,Ra(o))}catch(Ke){xm(o,u,{then:function(){},status:"rejected",reason:Ke},Ra())}finally{Q.p=C,G.T=X}}function Wo(){}function no(o,u,f,m){if(o.tag!==5)throw Error(r(476));var w=Yo(o).queue;wf(o,w,u,re,f===null?Wo:function(){return _f(o),f(m)})}function Yo(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:re},next:null};var f={};return u.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:f},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function _f(o){var u=Yo(o).next.queue;xm(o,u,{},Ra())}function xf(){return ei(Bm)}function bm(){return fr().memoizedState}function sy(){return fr().memoizedState}function wm(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var f=Ra();o=He(f);var m=Ge(u,o,f);m!==null&&(Ma(m,u,f),We(m,u,f)),u={cache:cm()},o.payload=u;return}u=u.return}}function _m(o,u,f){var m=Ra();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},ay(o)?IT(u,f):(f=Al(o,u,f,m),f!==null&&(Ma(f,o,m),OT(f,u,m)))}function LT(o,u,f){var m=Ra();xm(o,u,f,m)}function xm(o,u,f,m){var w={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(ay(o))IT(u,w);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var X=u.lastRenderedState,ue=C(X,f);if(w.hasEagerState=!0,w.eagerState=ue,pi(ue,X))return El(o,u,w,0),ur===null&&Js(),!1}catch{}finally{}if(f=Al(o,u,w,m),f!==null)return Ma(f,o,m),OT(f,u,m),!0}return!1}function tb(o,u,f,m){if(m={lane:2,revertLane:Mb(),action:m,hasEagerState:!1,eagerState:null,next:null},ay(o)){if(u)throw Error(r(479))}else u=Al(o,f,m,2),u!==null&&Ma(u,o,2)}function ay(o){var u=o.alternate;return o===kt||u!==null&&u===kt}function IT(o,u){yi=_n=!0;var f=o.pending;f===null?u.next=u:(u.next=f.next,f.next=u),o.pending=u}function OT(o,u,f){if((f&4194048)!==0){var m=u.lanes;m&=o.pendingLanes,f|=m,u.lanes=f,fn(o,f)}}var oy={readContext:ei,use:gs,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn},jT={readContext:ei,use:gs,useCallback:function(o,u){return Qi().memoizedState=[o,u===void 0?null:u],o},useContext:ei,useEffect:pm,useImperativeHandle:function(o,u,f){f=f!=null?f.concat([o]):null,Da(4194308,4,ry.bind(null,u,o),f)},useLayoutEffect:function(o,u){return Da(4194308,4,o,u)},useInsertionEffect:function(o,u){Da(4,2,o,u)},useMemo:function(o,u){var f=Qi();u=u===void 0?null:u;var m=o();if(ni){Kt(!0);try{o()}finally{Kt(!1)}}return f.memoizedState=[m,u],m},useReducer:function(o,u,f){var m=Qi();if(f!==void 0){var w=f(u);if(ni){Kt(!0);try{f(u)}finally{Kt(!1)}}}else w=u;return m.memoizedState=m.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},m.queue=o,o=o.dispatch=_m.bind(null,kt,o),[m.memoizedState,o]},useRef:function(o){var u=Qi();return o={current:o},u.memoizedState=o},useState:function(o){o=yf(o);var u=o.queue,f=LT.bind(null,kt,u);return u.dispatch=f,[o.memoizedState,f]},useDebugValue:ym,useDeferredValue:function(o,u){var f=Qi();return qc(f,o,u)},useTransition:function(){var o=yf(!1);return o=wf.bind(null,kt,o.queue,!0,!1),Qi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,f){var m=kt,w=Qi();if(Tn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),ur===null)throw Error(r(349));(xn&124)!==0||Id(m,u,f)}w.memoizedState=f;var C={value:f,getSnapshot:u};return w.queue=C,pm($u.bind(null,m,C,o),[o]),m.flags|=2048,qo(9,bf(),gf.bind(null,m,C,f,u),null),f},useId:function(){var o=Qi(),u=ur.identifierPrefix;if(Tn){var f=Vo,m=Fo;f=(m&~(1<<32-vt(m)-1)).toString(32)+f,u=""+u+"R"+f,f=kr++,0<f&&(u+="H"+f.toString(32)),u+=""}else f=ta++,u=""+u+"r"+f.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:xf,useFormState:vf,useActionState:vf,useOptimistic:function(o){var u=Qi();u.memoizedState=u.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=f,u=tb.bind(null,kt,!0,f),f.dispatch=u,[o,u]},useMemoCache:Ll,useCacheRefresh:function(){return Qi().memoizedState=wm.bind(null,kt)}},FT={readContext:ei,use:gs,useCallback:vm,useContext:ei,useEffect:ny,useImperativeHandle:gm,useInsertionEffect:mm,useLayoutEffect:Hc,useMemo:iy,useReducer:pf,useRef:jd,useState:function(){return pf(ys)},useDebugValue:ym,useDeferredValue:function(o,u){var f=fr();return Fd(f,jt.memoizedState,o,u)},useTransition:function(){var o=pf(ys)[0],u=fr().memoizedState;return[typeof o=="boolean"?o:Ml(o),u]},useSyncExternalStore:mf,useId:bm,useHostTransitionStatus:xf,useFormState:Od,useActionState:Od,useOptimistic:function(o,u){var f=fr();return Ho(f,jt,o,u)},useMemoCache:Ll,useCacheRefresh:sy},IO={readContext:ei,use:gs,useCallback:vm,useContext:ei,useEffect:ny,useImperativeHandle:gm,useInsertionEffect:mm,useLayoutEffect:Hc,useMemo:iy,useReducer:Ld,useRef:jd,useState:function(){return Ld(ys)},useDebugValue:ym,useDeferredValue:function(o,u){var f=fr();return jt===null?qc(f,o,u):Fd(f,jt.memoizedState,o,u)},useTransition:function(){var o=Ld(ys)[0],u=fr().memoizedState;return[typeof o=="boolean"?o:Ml(o),u]},useSyncExternalStore:mf,useId:bm,useHostTransitionStatus:xf,useFormState:ty,useActionState:ty,useOptimistic:function(o,u){var f=fr();return jt!==null?Ho(f,jt,o,u):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Ll,useCacheRefresh:sy},Vd=null,Sm=0;function ly(o){var u=Sm;return Sm+=1,Vd===null&&(Vd=[]),Me(Vd,o,u)}function Tm(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function cy(o,u){throw u.$$typeof===p?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function VT(o){var u=o._init;return u(o._payload)}function BT(o){function u(Ne,Te){if(o){var Re=Ne.deletions;Re===null?(Ne.deletions=[Te],Ne.flags|=16):Re.push(Te)}}function f(Ne,Te){if(!o)return null;for(;Te!==null;)u(Ne,Te),Te=Te.sibling;return null}function m(Ne){for(var Te=new Map;Ne!==null;)Ne.key!==null?Te.set(Ne.key,Ne):Te.set(Ne.index,Ne),Ne=Ne.sibling;return Te}function w(Ne,Te){return Ne=Qa(Ne,Te),Ne.index=0,Ne.sibling=null,Ne}function C(Ne,Te,Re){return Ne.index=Re,o?(Re=Ne.alternate,Re!==null?(Re=Re.index,Re<Te?(Ne.flags|=67108866,Te):Re):(Ne.flags|=67108866,Te)):(Ne.flags|=1048576,Te)}function X(Ne){return o&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function ue(Ne,Te,Re,Ye){return Te===null||Te.tag!==6?(Te=Cd(Re,Ne.mode,Ye),Te.return=Ne,Te):(Te=w(Te,Re),Te.return=Ne,Te)}function ye(Ne,Te,Re,Ye){var bt=Re.type;return bt===_?qe(Ne,Te,Re.props.children,Ye,Re.key):Te!==null&&(Te.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===k&&VT(bt)===Te.type)?(Te=w(Te,Re.props),Tm(Te,Re),Te.return=Ne,Te):(Te=Oc(Re.type,Re.key,Re.props,null,Ne.mode,Ye),Tm(Te,Re),Te.return=Ne,Te)}function Ie(Ne,Te,Re,Ye){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==Re.containerInfo||Te.stateNode.implementation!==Re.implementation?(Te=lf(Re,Ne.mode,Ye),Te.return=Ne,Te):(Te=w(Te,Re.children||[]),Te.return=Ne,Te)}function qe(Ne,Te,Re,Ye,bt){return Te===null||Te.tag!==7?(Te=Oo(Re,Ne.mode,Ye,bt),Te.return=Ne,Te):(Te=w(Te,Re),Te.return=Ne,Te)}function Ke(Ne,Te,Re){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=Cd(""+Te,Ne.mode,Re),Te.return=Ne,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case g:return Re=Oc(Te.type,Te.key,Te.props,null,Ne.mode,Re),Tm(Re,Te),Re.return=Ne,Re;case y:return Te=lf(Te,Ne.mode,Re),Te.return=Ne,Te;case k:var Ye=Te._init;return Te=Ye(Te._payload),Ke(Ne,Te,Re)}if(pe(Te)||L(Te))return Te=Oo(Te,Ne.mode,Re,null),Te.return=Ne,Te;if(typeof Te.then=="function")return Ke(Ne,ly(Te),Re);if(Te.$$typeof===N)return Ke(Ne,Nl(Ne,Te),Re);cy(Ne,Te)}return null}function Oe(Ne,Te,Re,Ye){var bt=Te!==null?Te.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return bt!==null?null:ue(Ne,Te,""+Re,Ye);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case g:return Re.key===bt?ye(Ne,Te,Re,Ye):null;case y:return Re.key===bt?Ie(Ne,Te,Re,Ye):null;case k:return bt=Re._init,Re=bt(Re._payload),Oe(Ne,Te,Re,Ye)}if(pe(Re)||L(Re))return bt!==null?null:qe(Ne,Te,Re,Ye,null);if(typeof Re.then=="function")return Oe(Ne,Te,ly(Re),Ye);if(Re.$$typeof===N)return Oe(Ne,Te,Nl(Ne,Re),Ye);cy(Ne,Re)}return null}function Fe(Ne,Te,Re,Ye,bt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Ne=Ne.get(Re)||null,ue(Te,Ne,""+Ye,bt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case g:return Ne=Ne.get(Ye.key===null?Re:Ye.key)||null,ye(Te,Ne,Ye,bt);case y:return Ne=Ne.get(Ye.key===null?Re:Ye.key)||null,Ie(Te,Ne,Ye,bt);case k:var ln=Ye._init;return Ye=ln(Ye._payload),Fe(Ne,Te,Re,Ye,bt)}if(pe(Ye)||L(Ye))return Ne=Ne.get(Re)||null,qe(Te,Ne,Ye,bt,null);if(typeof Ye.then=="function")return Fe(Ne,Te,Re,ly(Ye),bt);if(Ye.$$typeof===N)return Fe(Ne,Te,Re,Nl(Te,Ye),bt);cy(Te,Ye)}return null}function Ut(Ne,Te,Re,Ye){for(var bt=null,ln=null,At=Te,Ot=Te=0,Hi=null;At!==null&&Ot<Re.length;Ot++){At.index>Ot?(Hi=At,At=null):Hi=At.sibling;var Mn=Oe(Ne,At,Re[Ot],Ye);if(Mn===null){At===null&&(At=Hi);break}o&&At&&Mn.alternate===null&&u(Ne,At),Te=C(Mn,Te,Ot),ln===null?bt=Mn:ln.sibling=Mn,ln=Mn,At=Hi}if(Ot===Re.length)return f(Ne,At),Tn&&Fc(Ne,Ot),bt;if(At===null){for(;Ot<Re.length;Ot++)At=Ke(Ne,Re[Ot],Ye),At!==null&&(Te=C(At,Te,Ot),ln===null?bt=At:ln.sibling=At,ln=At);return Tn&&Fc(Ne,Ot),bt}for(At=m(At);Ot<Re.length;Ot++)Hi=Fe(At,Ne,Ot,Re[Ot],Ye),Hi!==null&&(o&&Hi.alternate!==null&&At.delete(Hi.key===null?Ot:Hi.key),Te=C(Hi,Te,Ot),ln===null?bt=Hi:ln.sibling=Hi,ln=Hi);return o&&At.forEach(function(fh){return u(Ne,fh)}),Tn&&Fc(Ne,Ot),bt}function Lt(Ne,Te,Re,Ye){if(Re==null)throw Error(r(151));for(var bt=null,ln=null,At=Te,Ot=Te=0,Hi=null,Mn=Re.next();At!==null&&!Mn.done;Ot++,Mn=Re.next()){At.index>Ot?(Hi=At,At=null):Hi=At.sibling;var fh=Oe(Ne,At,Mn.value,Ye);if(fh===null){At===null&&(At=Hi);break}o&&At&&fh.alternate===null&&u(Ne,At),Te=C(fh,Te,Ot),ln===null?bt=fh:ln.sibling=fh,ln=fh,At=Hi}if(Mn.done)return f(Ne,At),Tn&&Fc(Ne,Ot),bt;if(At===null){for(;!Mn.done;Ot++,Mn=Re.next())Mn=Ke(Ne,Mn.value,Ye),Mn!==null&&(Te=C(Mn,Te,Ot),ln===null?bt=Mn:ln.sibling=Mn,ln=Mn);return Tn&&Fc(Ne,Ot),bt}for(At=m(At);!Mn.done;Ot++,Mn=Re.next())Mn=Fe(At,Ne,Ot,Mn.value,Ye),Mn!==null&&(o&&Mn.alternate!==null&&At.delete(Mn.key===null?Ot:Mn.key),Te=C(Mn,Te,Ot),ln===null?bt=Mn:ln.sibling=Mn,ln=Mn);return o&&At.forEach(function(O8){return u(Ne,O8)}),Tn&&Fc(Ne,Ot),bt}function nr(Ne,Te,Re,Ye){if(typeof Re=="object"&&Re!==null&&Re.type===_&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case g:e:{for(var bt=Re.key;Te!==null;){if(Te.key===bt){if(bt=Re.type,bt===_){if(Te.tag===7){f(Ne,Te.sibling),Ye=w(Te,Re.props.children),Ye.return=Ne,Ne=Ye;break e}}else if(Te.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===k&&VT(bt)===Te.type){f(Ne,Te.sibling),Ye=w(Te,Re.props),Tm(Ye,Re),Ye.return=Ne,Ne=Ye;break e}f(Ne,Te);break}else u(Ne,Te);Te=Te.sibling}Re.type===_?(Ye=Oo(Re.props.children,Ne.mode,Ye,Re.key),Ye.return=Ne,Ne=Ye):(Ye=Oc(Re.type,Re.key,Re.props,null,Ne.mode,Ye),Tm(Ye,Re),Ye.return=Ne,Ne=Ye)}return X(Ne);case y:e:{for(bt=Re.key;Te!==null;){if(Te.key===bt)if(Te.tag===4&&Te.stateNode.containerInfo===Re.containerInfo&&Te.stateNode.implementation===Re.implementation){f(Ne,Te.sibling),Ye=w(Te,Re.children||[]),Ye.return=Ne,Ne=Ye;break e}else{f(Ne,Te);break}else u(Ne,Te);Te=Te.sibling}Ye=lf(Re,Ne.mode,Ye),Ye.return=Ne,Ne=Ye}return X(Ne);case k:return bt=Re._init,Re=bt(Re._payload),nr(Ne,Te,Re,Ye)}if(pe(Re))return Ut(Ne,Te,Re,Ye);if(L(Re)){if(bt=L(Re),typeof bt!="function")throw Error(r(150));return Re=bt.call(Re),Lt(Ne,Te,Re,Ye)}if(typeof Re.then=="function")return nr(Ne,Te,ly(Re),Ye);if(Re.$$typeof===N)return nr(Ne,Te,Nl(Ne,Re),Ye);cy(Ne,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,Te!==null&&Te.tag===6?(f(Ne,Te.sibling),Ye=w(Te,Re),Ye.return=Ne,Ne=Ye):(f(Ne,Te),Ye=Cd(Re,Ne.mode,Ye),Ye.return=Ne,Ne=Ye),X(Ne)):f(Ne,Te)}return function(Ne,Te,Re,Ye){try{Sm=0;var bt=nr(Ne,Te,Re,Ye);return Vd=null,bt}catch(At){if(At===ne||At===le)throw At;var ln=Bi(29,At,null,Ne.mode);return ln.lanes=Ye,ln.return=Ne,ln}finally{}}}var Bd=BT(!0),UT=BT(!1),ro=oe(null),Il=null;function Qu(o){var u=o.alternate;W(ki,ki.current&1),W(ro,o),Il===null&&(u===null||en.current!==null||u.memoizedState!==null)&&(Il=o)}function zT(o){if(o.tag===22){if(W(ki,ki.current),W(ro,o),Il===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(Il=o)}}else Ju()}function Ju(){W(ki,ki.current),W(ro,ro.current)}function Wc(o){F(ro),Il===o&&(Il=null),F(ki)}var ki=oe(0);function uy(o){for(var u=o;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Wb(f)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function nb(o,u,f,m){u=o.memoizedState,f=f(m,u),f=f==null?u:d({},u,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var rb={enqueueSetState:function(o,u,f){o=o._reactInternals;var m=Ra(),w=He(m);w.payload=u,f!=null&&(w.callback=f),u=Ge(o,w,m),u!==null&&(Ma(u,o,m),We(u,o,m))},enqueueReplaceState:function(o,u,f){o=o._reactInternals;var m=Ra(),w=He(m);w.tag=1,w.payload=u,f!=null&&(w.callback=f),u=Ge(o,w,m),u!==null&&(Ma(u,o,m),We(u,o,m))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var f=Ra(),m=He(f);m.tag=2,u!=null&&(m.callback=u),u=Ge(o,m,f),u!==null&&(Ma(u,o,f),We(u,o,f))}};function HT(o,u,f,m,w,C,X){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,C,X):u.prototype&&u.prototype.isPureReactComponent?!vl(f,m)||!vl(w,C):!0}function qT(o,u,f,m){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,m),u.state!==o&&rb.enqueueReplaceState(u,u.state,null)}function Sf(o,u){var f=u;if("ref"in u){f={};for(var m in u)m!=="ref"&&(f[m]=u[m])}if(o=o.defaultProps){f===u&&(f=d({},f));for(var w in o)f[w]===void 0&&(f[w]=o[w])}return f}var hy=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function WT(o){hy(o)}function YT(o){console.error(o)}function $T(o){hy(o)}function fy(o,u){try{var f=o.onUncaughtError;f(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function GT(o,u,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function ib(o,u,f){return f=He(f),f.tag=3,f.payload={element:null},f.callback=function(){fy(o,u)},f}function KT(o){return o=He(o),o.tag=3,o}function XT(o,u,f,m){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var C=m.value;o.payload=function(){return w(C)},o.callback=function(){GT(u,f,m)}}var X=f.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(o.callback=function(){GT(u,f,m),typeof w!="function"&&(ih===null?ih=new Set([this]):ih.add(this));var ue=m.stack;this.componentDidCatch(m.value,{componentStack:ue!==null?ue:""})})}function OO(o,u,f,m,w){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=f.alternate,u!==null&&Wu(u,f,w,!0),f=ro.current,f!==null){switch(f.tag){case 13:return Il===null?Db():f.alternate===null&&qr===0&&(qr=3),f.flags&=-257,f.flags|=65536,f.lanes=w,m===he?f.flags|=16384:(u=f.updateQueue,u===null?f.updateQueue=new Set([m]):u.add(m),Nb(o,m,w)),!1;case 22:return f.flags|=65536,m===he?f.flags|=16384:(u=f.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=u):(f=u.retryQueue,f===null?u.retryQueue=new Set([m]):f.add(m)),Nb(o,m,w)),!1}throw Error(r(435,f.tag))}return Nb(o,m,w),Db(),!1}if(Tn)return u=ro.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,m!==lm&&(o=Error(r(422),{cause:m}),qu(nn(o,f)))):(m!==lm&&(u=Error(r(423),{cause:m}),qu(nn(u,f))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,m=nn(m,f),w=ib(o.stateNode,m,w),ft(o,w),qr!==4&&(qr=2)),!1;var C=Error(r(520),{cause:m});if(C=nn(C,f),Pm===null?Pm=[C]:Pm.push(C),qr!==4&&(qr=2),u===null)return!0;m=nn(m,f),f=u;do{switch(f.tag){case 3:return f.flags|=65536,o=w&-w,f.lanes|=o,o=ib(f.stateNode,m,o),ft(f,o),!1;case 1:if(u=f.type,C=f.stateNode,(f.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ih===null||!ih.has(C))))return f.flags|=65536,w&=-w,f.lanes|=w,w=KT(w),XT(w,o,f,m),ft(f,w),!1}f=f.return}while(f!==null);return!1}var QT=Error(r(461)),Ui=!1;function Ji(o,u,f,m){u.child=o===null?UT(u,null,f,m):Bd(u,o.child,f,m)}function JT(o,u,f,m,w){f=f.render;var C=u.ref;if("ref"in m){var X={};for(var ue in m)ue!=="ref"&&(X[ue]=m[ue])}else X=m;return to(u),m=Ca(o,u,f,X,C,w),ue=cr(),o!==null&&!Ui?(df(o,u,w),Yc(o,u,w)):(Tn&&ue&&cf(u),u.flags|=1,Ji(o,u,m,w),u.child)}function ZT(o,u,f,m,w){if(o===null){var C=f.type;return typeof C=="function"&&!zu(C)&&C.defaultProps===void 0&&f.compare===null?(u.tag=15,u.type=C,eE(o,u,C,m,w)):(o=Oc(f.type,null,m,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(C=o.child,!fb(o,w)){var X=C.memoizedProps;if(f=f.compare,f=f!==null?f:vl,f(X,m)&&o.ref===u.ref)return Yc(o,u,w)}return u.flags|=1,o=Qa(C,m),o.ref=u.ref,o.return=u,u.child=o}function eE(o,u,f,m,w){if(o!==null){var C=o.memoizedProps;if(vl(C,m)&&o.ref===u.ref)if(Ui=!1,u.pendingProps=m=C,fb(o,w))(o.flags&131072)!==0&&(Ui=!0);else return u.lanes=o.lanes,Yc(o,u,w)}return sb(o,u,f,m,w)}function tE(o,u,f){var m=u.pendingProps,w=m.children,C=o!==null?o.memoizedState:null;if(m.mode==="hidden"){if((u.flags&128)!==0){if(m=C!==null?C.baseLanes|f:f,o!==null){for(w=u.child=o.child,C=0;w!==null;)C=C|w.lanes|w.childLanes,w=w.sibling;u.childLanes=C&~m}else u.childLanes=0,u.child=null;return nE(o,u,m,f)}if((f&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&z(u,C!==null?C.cachePool:null),C!==null?Vn(u,C):Pn(),zT(u);else return u.lanes=u.childLanes=536870912,nE(o,u,C!==null?C.baseLanes|f:f,f)}else C!==null?(z(u,C.cachePool),Vn(u,C),Ju(),u.memoizedState=null):(o!==null&&z(u,null),Pn(),Ju());return Ji(o,u,w,f),u.child}function nE(o,u,f,m){var w=P();return w=w===null?null:{parent:ti._currentValue,pool:w},u.memoizedState={baseLanes:f,cachePool:w},o!==null&&z(u,null),Pn(),zT(u),o!==null&&Wu(o,u,m,!0),null}function dy(o,u){var f=u.ref;if(f===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(u.flags|=4194816)}}function sb(o,u,f,m,w){return to(u),f=Ca(o,u,f,m,void 0,w),m=cr(),o!==null&&!Ui?(df(o,u,w),Yc(o,u,w)):(Tn&&m&&cf(u),u.flags|=1,Ji(o,u,f,w),u.child)}function rE(o,u,f,m,w,C){return to(u),u.updateQueue=null,f=Uc(u,m,f,w),Pl(o),m=cr(),o!==null&&!Ui?(df(o,u,C),Yc(o,u,C)):(Tn&&m&&cf(u),u.flags|=1,Ji(o,u,f,C),u.child)}function iE(o,u,f,m,w){if(to(u),u.stateNode===null){var C=mi,X=f.contextType;typeof X=="object"&&X!==null&&(C=ei(X)),C=new f(m,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=rb,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=m,C.state=u.memoizedState,C.refs={},Se(u),X=f.contextType,C.context=typeof X=="object"&&X!==null?ei(X):mi,C.state=u.memoizedState,X=f.getDerivedStateFromProps,typeof X=="function"&&(nb(u,f,X,m),C.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(X=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),X!==C.state&&rb.enqueueReplaceState(C,C.state,null),at(u,m,C,w),Et(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(o===null){C=u.stateNode;var ue=u.memoizedProps,ye=Sf(f,ue);C.props=ye;var Ie=C.context,qe=f.contextType;X=mi,typeof qe=="object"&&qe!==null&&(X=ei(qe));var Ke=f.getDerivedStateFromProps;qe=typeof Ke=="function"||typeof C.getSnapshotBeforeUpdate=="function",ue=u.pendingProps!==ue,qe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ue||Ie!==X)&&qT(u,C,m,X),Ve=!1;var Oe=u.memoizedState;C.state=Oe,at(u,m,C,w),Et(),Ie=u.memoizedState,ue||Oe!==Ie||Ve?(typeof Ke=="function"&&(nb(u,f,Ke,m),Ie=u.memoizedState),(ye=Ve||HT(u,f,ye,m,Oe,Ie,X))?(qe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=Ie),C.props=m,C.state=Ie,C.context=X,m=ye):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{C=u.stateNode,Ae(o,u),X=u.memoizedProps,qe=Sf(f,X),C.props=qe,Ke=u.pendingProps,Oe=C.context,Ie=f.contextType,ye=mi,typeof Ie=="object"&&Ie!==null&&(ye=ei(Ie)),ue=f.getDerivedStateFromProps,(Ie=typeof ue=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(X!==Ke||Oe!==ye)&&qT(u,C,m,ye),Ve=!1,Oe=u.memoizedState,C.state=Oe,at(u,m,C,w),Et();var Fe=u.memoizedState;X!==Ke||Oe!==Fe||Ve||o!==null&&o.dependencies!==null&&Pd(o.dependencies)?(typeof ue=="function"&&(nb(u,f,ue,m),Fe=u.memoizedState),(qe=Ve||HT(u,f,qe,m,Oe,Fe,ye)||o!==null&&o.dependencies!==null&&Pd(o.dependencies))?(Ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,Fe,ye),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,Fe,ye)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||X===o.memoizedProps&&Oe===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&Oe===o.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=Fe),C.props=m,C.state=Fe,C.context=ye,m=qe):(typeof C.componentDidUpdate!="function"||X===o.memoizedProps&&Oe===o.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&Oe===o.memoizedState||(u.flags|=1024),m=!1)}return C=m,dy(o,u),m=(u.flags&128)!==0,C||m?(C=u.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,o!==null&&m?(u.child=Bd(u,o.child,null,w),u.child=Bd(u,null,f,w)):Ji(o,u,f,w),u.memoizedState=C.state,o=u.child):o=Yc(o,u,w),o}function sE(o,u,f,m){return js(),u.flags|=256,Ji(o,u,f,m),u.child}var ab={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ob(o){return{baseLanes:o,cachePool:Z()}}function lb(o,u,f){return o=o!==null?o.childLanes&~f:0,u&&(o|=io),o}function aE(o,u,f){var m=u.pendingProps,w=!1,C=(u.flags&128)!==0,X;if((X=C)||(X=o!==null&&o.memoizedState===null?!1:(ki.current&2)!==0),X&&(w=!0,u.flags&=-129),X=(u.flags&32)!==0,u.flags&=-33,o===null){if(Tn){if(w?Qu(u):Ju(),Tn){var ue=Sr,ye;if(ye=ue){e:{for(ye=ue,ue=Ja;ye.nodeType!==8;){if(!ue){ue=null;break e}if(ye=Go(ye.nextSibling),ye===null){ue=null;break e}}ue=ye}ue!==null?(u.memoizedState={dehydrated:ue,treeContext:jc!==null?{id:Fo,overflow:Vo}:null,retryLane:536870912,hydrationErrors:null},ye=Bi(18,null,null,0),ye.stateNode=ue,ye.return=u,u.child=ye,Zr=u,Sr=null,ye=!0):ye=!1}ye||Vc(u)}if(ue=u.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return Wb(ue)?u.lanes=32:u.lanes=536870912,null;Wc(u)}return ue=m.children,m=m.fallback,w?(Ju(),w=u.mode,ue=py({mode:"hidden",children:ue},w),m=Oo(m,w,f,null),ue.return=u,m.return=u,ue.sibling=m,u.child=ue,w=u.child,w.memoizedState=ob(f),w.childLanes=lb(o,X,f),u.memoizedState=ab,m):(Qu(u),cb(u,ue))}if(ye=o.memoizedState,ye!==null&&(ue=ye.dehydrated,ue!==null)){if(C)u.flags&256?(Qu(u),u.flags&=-257,u=ub(o,u,f)):u.memoizedState!==null?(Ju(),u.child=o.child,u.flags|=128,u=null):(Ju(),w=m.fallback,ue=u.mode,m=py({mode:"visible",children:m.children},ue),w=Oo(w,ue,f,null),w.flags|=2,m.return=u,w.return=u,m.sibling=w,u.child=m,Bd(u,o.child,null,f),m=u.child,m.memoizedState=ob(f),m.childLanes=lb(o,X,f),u.memoizedState=ab,u=w);else if(Qu(u),Wb(ue)){if(X=ue.nextSibling&&ue.nextSibling.dataset,X)var Ie=X.dgst;X=Ie,m=Error(r(419)),m.stack="",m.digest=X,qu({value:m,source:null,stack:null}),u=ub(o,u,f)}else if(Ui||Wu(o,u,f,!1),X=(f&o.childLanes)!==0,Ui||X){if(X=ur,X!==null&&(m=f&-f,m=(m&42)!==0?1:as(m),m=(m&(X.suspendedLanes|f))!==0?0:m,m!==0&&m!==ye.retryLane))throw ye.retryLane=m,Io(o,m),Ma(X,o,m),QT;ue.data==="$?"||Db(),u=ub(o,u,f)}else ue.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=ye.treeContext,Sr=Go(ue.nextSibling),Zr=u,Tn=!0,Dl=null,Ja=!1,o!==null&&(ea[Os++]=Fo,ea[Os++]=Vo,ea[Os++]=jc,Fo=o.id,Vo=o.overflow,jc=u),u=cb(u,m.children),u.flags|=4096);return u}return w?(Ju(),w=m.fallback,ue=u.mode,ye=o.child,Ie=ye.sibling,m=Qa(ye,{mode:"hidden",children:m.children}),m.subtreeFlags=ye.subtreeFlags&65011712,Ie!==null?w=Qa(Ie,w):(w=Oo(w,ue,f,null),w.flags|=2),w.return=u,m.return=u,m.sibling=w,u.child=m,m=w,w=u.child,ue=o.child.memoizedState,ue===null?ue=ob(f):(ye=ue.cachePool,ye!==null?(Ie=ti._currentValue,ye=ye.parent!==Ie?{parent:Ie,pool:Ie}:ye):ye=Z(),ue={baseLanes:ue.baseLanes|f,cachePool:ye}),w.memoizedState=ue,w.childLanes=lb(o,X,f),u.memoizedState=ab,m):(Qu(u),f=o.child,o=f.sibling,f=Qa(f,{mode:"visible",children:m.children}),f.return=u,f.sibling=null,o!==null&&(X=u.deletions,X===null?(u.deletions=[o],u.flags|=16):X.push(o)),u.child=f,u.memoizedState=null,f)}function cb(o,u){return u=py({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function py(o,u){return o=Bi(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function ub(o,u,f){return Bd(u,o.child,null,f),o=cb(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function oE(o,u,f){o.lanes|=u;var m=o.alternate;m!==null&&(m.lanes|=u),kd(o.return,u,f)}function hb(o,u,f,m,w){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:w}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=f,C.tailMode=w)}function lE(o,u,f){var m=u.pendingProps,w=m.revealOrder,C=m.tail;if(Ji(o,u,m.children,f),m=ki.current,(m&2)!==0)m=m&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&oE(o,f,u);else if(o.tag===19)oE(o,f,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(W(ki,m),w){case"forwards":for(f=u.child,w=null;f!==null;)o=f.alternate,o!==null&&uy(o)===null&&(w=f),f=f.sibling;f=w,f===null?(w=u.child,u.child=null):(w=f.sibling,f.sibling=null),hb(u,!1,w,f,C);break;case"backwards":for(f=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&uy(o)===null){u.child=w;break}o=w.sibling,w.sibling=f,f=w,w=o}hb(u,!0,f,null,C);break;case"together":hb(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Yc(o,u,f){if(o!==null&&(u.dependencies=o.dependencies),rh|=u.lanes,(f&u.childLanes)===0)if(o!==null){if(Wu(o,u,f,!1),(f&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,f=Qa(o,o.pendingProps),u.child=f,f.return=u;o.sibling!==null;)o=o.sibling,f=f.sibling=Qa(o,o.pendingProps),f.return=u;f.sibling=null}return u.child}function fb(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Pd(o)))}function jO(o,u,f){switch(u.tag){case 3:ve(u,u.stateNode.containerInfo),kl(u,ti,o.memoizedState.cache),js();break;case 27:case 5:je(u);break;case 4:ve(u,u.stateNode.containerInfo);break;case 10:kl(u,u.type,u.memoizedProps.value);break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(Qu(u),u.flags|=128,null):(f&u.child.childLanes)!==0?aE(o,u,f):(Qu(u),o=Yc(o,u,f),o!==null?o.sibling:null);Qu(u);break;case 19:var w=(o.flags&128)!==0;if(m=(f&u.childLanes)!==0,m||(Wu(o,u,f,!1),m=(f&u.childLanes)!==0),w){if(m)return lE(o,u,f);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),W(ki,ki.current),m)break;return null;case 22:case 23:return u.lanes=0,tE(o,u,f);case 24:kl(u,ti,o.memoizedState.cache)}return Yc(o,u,f)}function cE(o,u,f){if(o!==null)if(o.memoizedProps!==u.pendingProps)Ui=!0;else{if(!fb(o,f)&&(u.flags&128)===0)return Ui=!1,jO(o,u,f);Ui=(o.flags&131072)!==0}else Ui=!1,Tn&&(u.flags&1048576)!==0&&q0(u,Dd,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var m=u.elementType,w=m._init;if(m=w(m._payload),u.type=m,typeof m=="function")zu(m)?(o=Sf(m,o),u.tag=1,u=iE(null,u,m,o,f)):(u.tag=0,u=sb(null,u,m,o,f));else{if(m!=null){if(w=m.$$typeof,w===j){u.tag=11,u=JT(null,u,m,o,f);break e}else if(w===M){u.tag=14,u=ZT(null,u,m,o,f);break e}}throw u=se(m)||m,Error(r(306,u,""))}}return u;case 0:return sb(o,u,u.type,u.pendingProps,f);case 1:return m=u.type,w=Sf(m,u.pendingProps),iE(o,u,m,w,f);case 3:e:{if(ve(u,u.stateNode.containerInfo),o===null)throw Error(r(387));m=u.pendingProps;var C=u.memoizedState;w=C.element,Ae(o,u),at(u,m,null,f);var X=u.memoizedState;if(m=X.cache,kl(u,ti,m),m!==C.cache&&Nd(u,[ti],f,!0),Et(),m=X.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:X.cache},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){u=sE(o,u,m,f);break e}else if(m!==w){w=nn(Error(r(424)),u),qu(w),u=sE(o,u,m,f);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Sr=Go(o.firstChild),Zr=u,Tn=!0,Dl=null,Ja=!0,f=UT(u,null,m,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(js(),m===w){u=Yc(o,u,f);break e}Ji(o,u,m,f)}u=u.child}return u;case 26:return dy(o,u),o===null?(f=dA(u.type,null,u.pendingProps,null))?u.memoizedState=f:Tn||(f=u.type,o=u.pendingProps,m=Dy(fe.current).createElement(f),m[In]=u,m[On]=o,es(m,f,o),Cn(m),u.stateNode=m):u.memoizedState=dA(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return je(u),o===null&&Tn&&(m=u.stateNode=uA(u.type,u.pendingProps,fe.current),Zr=u,Ja=!0,w=Sr,oh(u.type)?(Yb=w,Sr=Go(m.firstChild)):Sr=w),Ji(o,u,u.pendingProps.children,f),dy(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Tn&&((w=m=Sr)&&(m=h8(m,u.type,u.pendingProps,Ja),m!==null?(u.stateNode=m,Zr=u,Sr=Go(m.firstChild),Ja=!1,w=!0):w=!1),w||Vc(u)),je(u),w=u.type,C=u.pendingProps,X=o!==null?o.memoizedProps:null,m=C.children,zb(w,C)?m=null:X!==null&&zb(w,X)&&(u.flags|=32),u.memoizedState!==null&&(w=Ca(o,u,Rl,null,null,f),Bm._currentValue=w),dy(o,u),Ji(o,u,m,f),u.child;case 6:return o===null&&Tn&&((o=f=Sr)&&(f=f8(f,u.pendingProps,Ja),f!==null?(u.stateNode=f,Zr=u,Sr=null,o=!0):o=!1),o||Vc(u)),null;case 13:return aE(o,u,f);case 4:return ve(u,u.stateNode.containerInfo),m=u.pendingProps,o===null?u.child=Bd(u,null,m,f):Ji(o,u,m,f),u.child;case 11:return JT(o,u,u.type,u.pendingProps,f);case 7:return Ji(o,u,u.pendingProps,f),u.child;case 8:return Ji(o,u,u.pendingProps.children,f),u.child;case 12:return Ji(o,u,u.pendingProps.children,f),u.child;case 10:return m=u.pendingProps,kl(u,u.type,m.value),Ji(o,u,m.children,f),u.child;case 9:return w=u.type._context,m=u.pendingProps.children,to(u),w=ei(w),m=m(w),u.flags|=1,Ji(o,u,m,f),u.child;case 14:return ZT(o,u,u.type,u.pendingProps,f);case 15:return eE(o,u,u.type,u.pendingProps,f);case 19:return lE(o,u,f);case 31:return m=u.pendingProps,f=u.mode,m={mode:m.mode,children:m.children},o===null?(f=py(m,f),f.ref=u.ref,u.child=f,f.return=u,u=f):(f=Qa(o.child,m),f.ref=u.ref,u.child=f,f.return=u,u=f),u;case 22:return tE(o,u,f);case 24:return to(u),m=ei(ti),o===null?(w=P(),w===null&&(w=ur,C=cm(),w.pooledCache=C,C.refCount++,C!==null&&(w.pooledCacheLanes|=f),w=C),u.memoizedState={parent:m,cache:w},Se(u),kl(u,ti,w)):((o.lanes&f)!==0&&(Ae(o,u),at(u,null,null,f),Et()),w=o.memoizedState,C=u.memoizedState,w.parent!==m?(w={parent:m,cache:m},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),kl(u,ti,m)):(m=C.cache,kl(u,ti,m),m!==w.cache&&Nd(u,[ti],f,!0))),Ji(o,u,u.pendingProps.children,f),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function $c(o){o.flags|=4}function uE(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!vA(u)){if(u=ro.current,u!==null&&((xn&4194048)===xn?Il!==null:(xn&62914560)!==xn&&(xn&536870912)===0||u!==Il))throw Pe=he,ie;o.flags|=8192}}function my(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Xn():536870912,o.lanes|=u,qd|=u)}function Em(o,u){if(!Tn)switch(o.tailMode){case"hidden":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Pr(o){var u=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(u)for(var w=o.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=m,o.childLanes=f,u}function FO(o,u,f){var m=u.pendingProps;switch(uf(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(u),null;case 1:return Pr(u),null;case 3:return f=u.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),eo(ti),be(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Xi(u)?$c(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Y0())),Pr(u),null;case 26:return f=u.memoizedState,o===null?($c(u),f!==null?(Pr(u),uE(u,f)):(Pr(u),u.flags&=-16777217)):f?f!==o.memoizedState?($c(u),Pr(u),uE(u,f)):(Pr(u),u.flags&=-16777217):(o.memoizedProps!==m&&$c(u),Pr(u),u.flags&=-16777217),null;case 27:Be(u),f=fe.current;var w=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==m&&$c(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Pr(u),null}o=te.current,Xi(u)?W0(u):(o=uA(w,m,f),u.stateNode=o,$c(u))}return Pr(u),null;case 5:if(Be(u),f=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==m&&$c(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Pr(u),null}if(o=te.current,Xi(u))W0(u);else{switch(w=Dy(fe.current),o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?w.createElement(f,{is:m.is}):w.createElement(f)}}o[In]=u,o[On]=m;e:for(w=u.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===u)break e;for(;w.sibling===null;){if(w.return===null||w.return===u)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}u.stateNode=o;e:switch(es(o,f,m),f){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&$c(u)}}return Pr(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==m&&$c(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(o=fe.current,Xi(u)){if(o=u.stateNode,f=u.memoizedProps,m=null,w=Zr,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}o[In]=u,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||rA(o.nodeValue,f)),o||Vc(u)}else o=Dy(o).createTextNode(m),o[In]=u,u.stateNode=o}return Pr(u),null;case 13:if(m=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Xi(u),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[In]=u}else js(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Pr(u),w=!1}else w=Y0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Wc(u),u):(Wc(u),null)}if(Wc(u),(u.flags&128)!==0)return u.lanes=f,u;if(f=m!==null,o=o!==null&&o.memoizedState!==null,f){m=u.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool);var C=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==w&&(m.flags|=2048)}return f!==o&&f&&(u.child.flags|=8192),my(u,u.updateQueue),Pr(u),null;case 4:return be(),o===null&&jb(u.stateNode.containerInfo),Pr(u),null;case 10:return eo(u.type),Pr(u),null;case 19:if(F(ki),w=u.memoizedState,w===null)return Pr(u),null;if(m=(u.flags&128)!==0,C=w.rendering,C===null)if(m)Em(w,!1);else{if(qr!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(C=uy(o),C!==null){for(u.flags|=128,Em(w,!1),o=C.updateQueue,u.updateQueue=o,my(u,o),u.subtreeFlags=0,o=f,f=u.child;f!==null;)of(f,o),f=f.sibling;return W(ki,ki.current&1|2),u.child}o=o.sibling}w.tail!==null&&Tt()>vy&&(u.flags|=128,m=!0,Em(w,!1),u.lanes=4194304)}else{if(!m)if(o=uy(C),o!==null){if(u.flags|=128,m=!0,o=o.updateQueue,u.updateQueue=o,my(u,o),Em(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!Tn)return Pr(u),null}else 2*Tt()-w.renderingStartTime>vy&&f!==536870912&&(u.flags|=128,m=!0,Em(w,!1),u.lanes=4194304);w.isBackwards?(C.sibling=u.child,u.child=C):(o=w.last,o!==null?o.sibling=C:u.child=C,w.last=C)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=Tt(),u.sibling=null,o=ki.current,W(ki,m?o&1|2:o&1),u):(Pr(u),null);case 22:case 23:return Wc(u),Wt(),m=u.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(f&536870912)!==0&&(u.flags&128)===0&&(Pr(u),u.subtreeFlags&6&&(u.flags|=8192)):Pr(u),f=u.updateQueue,f!==null&&my(u,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048),o!==null&&F(x),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),u.memoizedState.cache!==f&&(u.flags|=2048),eo(ti),Pr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function VO(o,u){switch(uf(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return eo(ti),be(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Be(u),null;case 13:if(Wc(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));js()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return F(ki),null;case 4:return be(),null;case 10:return eo(u.type),null;case 22:case 23:return Wc(u),Wt(),o!==null&&F(x),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return eo(ti),null;case 25:return null;default:return null}}function hE(o,u){switch(uf(u),u.tag){case 3:eo(ti),be();break;case 26:case 27:case 5:Be(u);break;case 4:be();break;case 13:Wc(u);break;case 19:F(ki);break;case 10:eo(u.type);break;case 22:case 23:Wc(u),Wt(),o!==null&&F(x);break;case 24:eo(ti)}}function Am(o,u){try{var f=u.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var w=m.next;f=w;do{if((f.tag&o)===o){m=void 0;var C=f.create,X=f.inst;m=C(),X.destroy=m}f=f.next}while(f!==w)}}catch(ue){sr(u,u.return,ue)}}function Zu(o,u,f){try{var m=u.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var C=w.next;m=C;do{if((m.tag&o)===o){var X=m.inst,ue=X.destroy;if(ue!==void 0){X.destroy=void 0,w=u;var ye=f,Ie=ue;try{Ie()}catch(qe){sr(w,ye,qe)}}}m=m.next}while(m!==C)}}catch(qe){sr(u,u.return,qe)}}function fE(o){var u=o.updateQueue;if(u!==null){var f=o.stateNode;try{Nn(u,f)}catch(m){sr(o,o.return,m)}}}function dE(o,u,f){f.props=Sf(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){sr(o,u,m)}}function Cm(o,u){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof f=="function"?o.refCleanup=f(m):f.current=m}}catch(w){sr(o,u,w)}}function Ol(o,u){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(w){sr(o,u,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){sr(o,u,w)}else f.current=null}function pE(o){var u=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(w){sr(o,o.return,w)}}function db(o,u,f){try{var m=o.stateNode;a8(m,o.type,f,u),m[On]=u}catch(w){sr(o,o.return,w)}}function mE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&oh(o.type)||o.tag===4}function pb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||mE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&oh(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function mb(o,u,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,u):(u=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,u.appendChild(o),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=Cy));else if(m!==4&&(m===27&&oh(o.type)&&(f=o.stateNode,u=null),o=o.child,o!==null))for(mb(o,u,f),o=o.sibling;o!==null;)mb(o,u,f),o=o.sibling}function gy(o,u,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?f.insertBefore(o,u):f.appendChild(o);else if(m!==4&&(m===27&&oh(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(gy(o,u,f),o=o.sibling;o!==null;)gy(o,u,f),o=o.sibling}function gE(o){var u=o.stateNode,f=o.memoizedProps;try{for(var m=o.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);es(u,m,f),u[In]=o,u[On]=f}catch(C){sr(o,o.return,C)}}var Gc=!1,ri=!1,gb=!1,yE=typeof WeakSet=="function"?WeakSet:Set,zi=null;function BO(o,u){if(o=o.containerInfo,Bb=Ly,o=Ki(o),Di(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var w=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var X=0,ue=-1,ye=-1,Ie=0,qe=0,Ke=o,Oe=null;t:for(;;){for(var Fe;Ke!==f||w!==0&&Ke.nodeType!==3||(ue=X+w),Ke!==C||m!==0&&Ke.nodeType!==3||(ye=X+m),Ke.nodeType===3&&(X+=Ke.nodeValue.length),(Fe=Ke.firstChild)!==null;)Oe=Ke,Ke=Fe;for(;;){if(Ke===o)break t;if(Oe===f&&++Ie===w&&(ue=X),Oe===C&&++qe===m&&(ye=X),(Fe=Ke.nextSibling)!==null)break;Ke=Oe,Oe=Ke.parentNode}Ke=Fe}f=ue===-1||ye===-1?null:{start:ue,end:ye}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ub={focusedElem:o,selectionRange:f},Ly=!1,zi=u;zi!==null;)if(u=zi,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,zi=o;else for(;zi!==null;){switch(u=zi,C=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,f=u,w=C.memoizedProps,C=C.memoizedState,m=f.stateNode;try{var Ut=Sf(f.type,w,f.elementType===f.type);o=m.getSnapshotBeforeUpdate(Ut,C),m.__reactInternalSnapshotBeforeUpdate=o}catch(Lt){sr(f,f.return,Lt)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,f=o.nodeType,f===9)qb(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":qb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,zi=o;break}zi=u.return}}function vE(o,u,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:eh(o,f),m&4&&Am(5,f);break;case 1:if(eh(o,f),m&4)if(o=f.stateNode,u===null)try{o.componentDidMount()}catch(X){sr(f,f.return,X)}else{var w=Sf(f.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(w,u,o.__reactInternalSnapshotBeforeUpdate)}catch(X){sr(f,f.return,X)}}m&64&&fE(f),m&512&&Cm(f,f.return);break;case 3:if(eh(o,f),m&64&&(o=f.updateQueue,o!==null)){if(u=null,f.child!==null)switch(f.child.tag){case 27:case 5:u=f.child.stateNode;break;case 1:u=f.child.stateNode}try{Nn(o,u)}catch(X){sr(f,f.return,X)}}break;case 27:u===null&&m&4&&gE(f);case 26:case 5:eh(o,f),u===null&&m&4&&pE(f),m&512&&Cm(f,f.return);break;case 12:eh(o,f);break;case 13:eh(o,f),m&4&&_E(o,f),m&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=KO.bind(null,f),d8(o,f))));break;case 22:if(m=f.memoizedState!==null||Gc,!m){u=u!==null&&u.memoizedState!==null||ri,w=Gc;var C=ri;Gc=m,(ri=u)&&!C?th(o,f,(f.subtreeFlags&8772)!==0):eh(o,f),Gc=w,ri=C}break;case 30:break;default:eh(o,f)}}function bE(o){var u=o.alternate;u!==null&&(o.alternate=null,bE(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&fi(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Tr=null,na=!1;function Kc(o,u,f){for(f=f.child;f!==null;)wE(o,u,f),f=f.sibling}function wE(o,u,f){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(xt,f)}catch{}switch(f.tag){case 26:ri||Ol(f,u),Kc(o,u,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:ri||Ol(f,u);var m=Tr,w=na;oh(f.type)&&(Tr=f.stateNode,na=!1),Kc(o,u,f),Om(f.stateNode),Tr=m,na=w;break;case 5:ri||Ol(f,u);case 6:if(m=Tr,w=na,Tr=null,Kc(o,u,f),Tr=m,na=w,Tr!==null)if(na)try{(Tr.nodeType===9?Tr.body:Tr.nodeName==="HTML"?Tr.ownerDocument.body:Tr).removeChild(f.stateNode)}catch(C){sr(f,u,C)}else try{Tr.removeChild(f.stateNode)}catch(C){sr(f,u,C)}break;case 18:Tr!==null&&(na?(o=Tr,lA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),qm(o)):lA(Tr,f.stateNode));break;case 4:m=Tr,w=na,Tr=f.stateNode.containerInfo,na=!0,Kc(o,u,f),Tr=m,na=w;break;case 0:case 11:case 14:case 15:ri||Zu(2,f,u),ri||Zu(4,f,u),Kc(o,u,f);break;case 1:ri||(Ol(f,u),m=f.stateNode,typeof m.componentWillUnmount=="function"&&dE(f,u,m)),Kc(o,u,f);break;case 21:Kc(o,u,f);break;case 22:ri=(m=ri)||f.memoizedState!==null,Kc(o,u,f),ri=m;break;default:Kc(o,u,f)}}function _E(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{qm(o)}catch(f){sr(u,u.return,f)}}function UO(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new yE),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new yE),u;default:throw Error(r(435,o.tag))}}function yb(o,u){var f=UO(o);u.forEach(function(m){var w=XO.bind(null,o,m);f.has(m)||(f.add(m),m.then(w,w))})}function ka(o,u){var f=u.deletions;if(f!==null)for(var m=0;m<f.length;m++){var w=f[m],C=o,X=u,ue=X;e:for(;ue!==null;){switch(ue.tag){case 27:if(oh(ue.type)){Tr=ue.stateNode,na=!1;break e}break;case 5:Tr=ue.stateNode,na=!1;break e;case 3:case 4:Tr=ue.stateNode.containerInfo,na=!0;break e}ue=ue.return}if(Tr===null)throw Error(r(160));wE(C,X,w),Tr=null,na=!1,C=w.alternate,C!==null&&(C.return=null),w.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)xE(u,o),u=u.sibling}var $o=null;function xE(o,u){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ka(u,o),Na(o),m&4&&(Zu(3,o,o.return),Am(3,o),Zu(5,o,o.return));break;case 1:ka(u,o),Na(o),m&512&&(ri||f===null||Ol(f,f.return)),m&64&&Gc&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var w=$o;if(ka(u,o),Na(o),m&512&&(ri||f===null||Ol(f,f.return)),m&4){var C=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":C=w.getElementsByTagName("title")[0],(!C||C[$i]||C[In]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=w.createElement(m),w.head.insertBefore(C,w.querySelector("head > title"))),es(C,m,f),C[In]=o,Cn(C),m=C;break e;case"link":var X=gA("link","href",w).get(m+(f.href||""));if(X){for(var ue=0;ue<X.length;ue++)if(C=X[ue],C.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&C.getAttribute("rel")===(f.rel==null?null:f.rel)&&C.getAttribute("title")===(f.title==null?null:f.title)&&C.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){X.splice(ue,1);break t}}C=w.createElement(m),es(C,m,f),w.head.appendChild(C);break;case"meta":if(X=gA("meta","content",w).get(m+(f.content||""))){for(ue=0;ue<X.length;ue++)if(C=X[ue],C.getAttribute("content")===(f.content==null?null:""+f.content)&&C.getAttribute("name")===(f.name==null?null:f.name)&&C.getAttribute("property")===(f.property==null?null:f.property)&&C.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&C.getAttribute("charset")===(f.charSet==null?null:f.charSet)){X.splice(ue,1);break t}}C=w.createElement(m),es(C,m,f),w.head.appendChild(C);break;default:throw Error(r(468,m))}C[In]=o,Cn(C),m=C}o.stateNode=m}else yA(w,o.type,o.stateNode);else o.stateNode=mA(w,m,o.memoizedProps);else C!==m?(C===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):C.count--,m===null?yA(w,o.type,o.stateNode):mA(w,m,o.memoizedProps)):m===null&&o.stateNode!==null&&db(o,o.memoizedProps,f.memoizedProps)}break;case 27:ka(u,o),Na(o),m&512&&(ri||f===null||Ol(f,f.return)),f!==null&&m&4&&db(o,o.memoizedProps,f.memoizedProps);break;case 5:if(ka(u,o),Na(o),m&512&&(ri||f===null||Ol(f,f.return)),o.flags&32){w=o.stateNode;try{ls(w,"")}catch(Fe){sr(o,o.return,Fe)}}m&4&&o.stateNode!=null&&(w=o.memoizedProps,db(o,w,f!==null?f.memoizedProps:w)),m&1024&&(gb=!0);break;case 6:if(ka(u,o),Na(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Fe){sr(o,o.return,Fe)}}break;case 3:if(Py=null,w=$o,$o=ky(u.containerInfo),ka(u,o),$o=w,Na(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{qm(u.containerInfo)}catch(Fe){sr(o,o.return,Fe)}gb&&(gb=!1,SE(o));break;case 4:m=$o,$o=ky(o.stateNode.containerInfo),ka(u,o),Na(o),$o=m;break;case 12:ka(u,o),Na(o);break;case 13:ka(u,o),Na(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Sb=Tt()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,yb(o,m)));break;case 22:w=o.memoizedState!==null;var ye=f!==null&&f.memoizedState!==null,Ie=Gc,qe=ri;if(Gc=Ie||w,ri=qe||ye,ka(u,o),ri=qe,Gc=Ie,Na(o),m&8192)e:for(u=o.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(f===null||ye||Gc||ri||Tf(o)),f=null,u=o;;){if(u.tag===5||u.tag===26){if(f===null){ye=f=u;try{if(C=ye.stateNode,w)X=C.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{ue=ye.stateNode;var Ke=ye.memoizedProps.style,Oe=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;ue.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(Fe){sr(ye,ye.return,Fe)}}}else if(u.tag===6){if(f===null){ye=u;try{ye.stateNode.nodeValue=w?"":ye.memoizedProps}catch(Fe){sr(ye,ye.return,Fe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,yb(o,f))));break;case 19:ka(u,o),Na(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,yb(o,m)));break;case 30:break;case 21:break;default:ka(u,o),Na(o)}}function Na(o){var u=o.flags;if(u&2){try{for(var f,m=o.return;m!==null;){if(mE(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,C=pb(o);gy(o,C,w);break;case 5:var X=f.stateNode;f.flags&32&&(ls(X,""),f.flags&=-33);var ue=pb(o);gy(o,ue,X);break;case 3:case 4:var ye=f.stateNode.containerInfo,Ie=pb(o);mb(o,Ie,ye);break;default:throw Error(r(161))}}catch(qe){sr(o,o.return,qe)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function SE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;SE(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function eh(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)vE(o,u.alternate,u),u=u.sibling}function Tf(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Zu(4,u,u.return),Tf(u);break;case 1:Ol(u,u.return);var f=u.stateNode;typeof f.componentWillUnmount=="function"&&dE(u,u.return,f),Tf(u);break;case 27:Om(u.stateNode);case 26:case 5:Ol(u,u.return),Tf(u);break;case 22:u.memoizedState===null&&Tf(u);break;case 30:Tf(u);break;default:Tf(u)}o=o.sibling}}function th(o,u,f){for(f=f&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,w=o,C=u,X=C.flags;switch(C.tag){case 0:case 11:case 15:th(w,C,f),Am(4,C);break;case 1:if(th(w,C,f),m=C,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ie){sr(m,m.return,Ie)}if(m=C,w=m.updateQueue,w!==null){var ue=m.stateNode;try{var ye=w.shared.hiddenCallbacks;if(ye!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ye.length;w++)wn(ye[w],ue)}catch(Ie){sr(m,m.return,Ie)}}f&&X&64&&fE(C),Cm(C,C.return);break;case 27:gE(C);case 26:case 5:th(w,C,f),f&&m===null&&X&4&&pE(C),Cm(C,C.return);break;case 12:th(w,C,f);break;case 13:th(w,C,f),f&&X&4&&_E(w,C);break;case 22:C.memoizedState===null&&th(w,C,f),Cm(C,C.return);break;case 30:break;default:th(w,C,f)}u=u.sibling}}function vb(o,u){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&hf(f))}function bb(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&hf(o))}function jl(o,u,f,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)TE(o,u,f,m),u=u.sibling}function TE(o,u,f,m){var w=u.flags;switch(u.tag){case 0:case 11:case 15:jl(o,u,f,m),w&2048&&Am(9,u);break;case 1:jl(o,u,f,m);break;case 3:jl(o,u,f,m),w&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&hf(o)));break;case 12:if(w&2048){jl(o,u,f,m),o=u.stateNode;try{var C=u.memoizedProps,X=C.id,ue=C.onPostCommit;typeof ue=="function"&&ue(X,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ye){sr(u,u.return,ye)}}else jl(o,u,f,m);break;case 13:jl(o,u,f,m);break;case 23:break;case 22:C=u.stateNode,X=u.alternate,u.memoizedState!==null?C._visibility&2?jl(o,u,f,m):Dm(o,u):C._visibility&2?jl(o,u,f,m):(C._visibility|=2,Ud(o,u,f,m,(u.subtreeFlags&10256)!==0)),w&2048&&vb(X,u);break;case 24:jl(o,u,f,m),w&2048&&bb(u.alternate,u);break;default:jl(o,u,f,m)}}function Ud(o,u,f,m,w){for(w=w&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var C=o,X=u,ue=f,ye=m,Ie=X.flags;switch(X.tag){case 0:case 11:case 15:Ud(C,X,ue,ye,w),Am(8,X);break;case 23:break;case 22:var qe=X.stateNode;X.memoizedState!==null?qe._visibility&2?Ud(C,X,ue,ye,w):Dm(C,X):(qe._visibility|=2,Ud(C,X,ue,ye,w)),w&&Ie&2048&&vb(X.alternate,X);break;case 24:Ud(C,X,ue,ye,w),w&&Ie&2048&&bb(X.alternate,X);break;default:Ud(C,X,ue,ye,w)}u=u.sibling}}function Dm(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var f=o,m=u,w=m.flags;switch(m.tag){case 22:Dm(f,m),w&2048&&vb(m.alternate,m);break;case 24:Dm(f,m),w&2048&&bb(m.alternate,m);break;default:Dm(f,m)}u=u.sibling}}var km=8192;function zd(o){if(o.subtreeFlags&km)for(o=o.child;o!==null;)EE(o),o=o.sibling}function EE(o){switch(o.tag){case 26:zd(o),o.flags&km&&o.memoizedState!==null&&A8($o,o.memoizedState,o.memoizedProps);break;case 5:zd(o);break;case 3:case 4:var u=$o;$o=ky(o.stateNode.containerInfo),zd(o),$o=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=km,km=16777216,zd(o),km=u):zd(o));break;default:zd(o)}}function AE(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Nm(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];zi=m,DE(m,o)}AE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)CE(o),o=o.sibling}function CE(o){switch(o.tag){case 0:case 11:case 15:Nm(o),o.flags&2048&&Zu(9,o,o.return);break;case 3:Nm(o);break;case 12:Nm(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,yy(o)):Nm(o);break;default:Nm(o)}}function yy(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];zi=m,DE(m,o)}AE(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Zu(8,u,u.return),yy(u);break;case 22:f=u.stateNode,f._visibility&2&&(f._visibility&=-3,yy(u));break;default:yy(u)}o=o.sibling}}function DE(o,u){for(;zi!==null;){var f=zi;switch(f.tag){case 0:case 11:case 15:Zu(8,f,u);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:hf(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,zi=m;else e:for(f=o;zi!==null;){m=zi;var w=m.sibling,C=m.return;if(bE(m),m===f){zi=null;break e}if(w!==null){w.return=C,zi=w;break e}zi=C}}}var zO={getCacheForType:function(o){var u=ei(ti),f=u.data.get(o);return f===void 0&&(f=o(),u.data.set(o,f)),f}},HO=typeof WeakMap=="function"?WeakMap:Map,qn=0,ur=null,cn=null,xn=0,Wn=0,Pa=null,nh=!1,Hd=!1,wb=!1,Xc=0,qr=0,rh=0,Ef=0,_b=0,io=0,qd=0,Pm=null,ra=null,xb=!1,Sb=0,vy=1/0,by=null,ih=null,Zi=0,sh=null,Wd=null,Yd=0,Tb=0,Eb=null,kE=null,Rm=0,Ab=null;function Ra(){if((qn&2)!==0&&xn!==0)return xn&-xn;if(G.T!==null){var o=Bc;return o!==0?o:Mb()}return Ti()}function NE(){io===0&&(io=(xn&536870912)===0||Tn?fa():536870912);var o=ro.current;return o!==null&&(o.flags|=32),io}function Ma(o,u,f){(o===ur&&(Wn===2||Wn===9)||o.cancelPendingCommit!==null)&&($d(o,0),ah(o,xn,io,!1)),Si(o,f),((qn&2)===0||o!==ur)&&(o===ur&&((qn&2)===0&&(Ef|=f),qr===4&&ah(o,xn,io,!1)),Fl(o))}function PE(o,u,f){if((qn&6)!==0)throw Error(r(327));var m=!f&&(u&124)===0&&(u&o.expiredLanes)===0||Li(o,u),w=m?YO(o,u):kb(o,u,!0),C=m;do{if(w===0){Hd&&!m&&ah(o,u,0,!1);break}else{if(f=o.current.alternate,C&&!qO(f)){w=kb(o,u,!1),C=!1;continue}if(w===2){if(C=u,o.errorRecoveryDisabledLanes&C)var X=0;else X=o.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){u=X;e:{var ue=o;w=Pm;var ye=ue.current.memoizedState.isDehydrated;if(ye&&($d(ue,X).flags|=256),X=kb(ue,X,!1),X!==2){if(wb&&!ye){ue.errorRecoveryDisabledLanes|=C,Ef|=C,w=4;break e}C=ra,ra=w,C!==null&&(ra===null?ra=C:ra.push.apply(ra,C))}w=X}if(C=!1,w!==2)continue}}if(w===1){$d(o,0),ah(o,u,0,!0);break}e:{switch(m=o,C=w,C){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:ah(m,u,io,!nh);break e;case 2:ra=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(w=Sb+300-Tt(),10<w)){if(ah(m,u,io,!nh),Ln(m,0,!0)!==0)break e;m.timeoutHandle=aA(RE.bind(null,m,f,ra,by,xb,u,io,Ef,qd,nh,C,2,-0,0),w);break e}RE(m,f,ra,by,xb,u,io,Ef,qd,nh,C,0,-0,0)}}break}while(!0);Fl(o)}function RE(o,u,f,m,w,C,X,ue,ye,Ie,qe,Ke,Oe,Fe){if(o.timeoutHandle=-1,Ke=u.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(Vm={stylesheets:null,count:0,unsuspend:E8},EE(u),Ke=C8(),Ke!==null)){o.cancelPendingCommit=Ke(VE.bind(null,o,u,C,f,m,w,X,ue,ye,qe,1,Oe,Fe)),ah(o,C,X,!Ie);return}VE(o,u,C,f,m,w,X,ue,ye)}function qO(o){for(var u=o;;){var f=u.tag;if((f===0||f===11||f===15)&&u.flags&16384&&(f=u.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var w=f[m],C=w.getSnapshot;w=w.value;try{if(!pi(C(),w))return!1}catch{return!1}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ah(o,u,f,m){u&=~_b,u&=~Ef,o.suspendedLanes|=u,o.pingedLanes&=~u,m&&(o.warmLanes|=u),m=o.expirationTimes;for(var w=u;0<w;){var C=31-vt(w),X=1<<C;m[C]=-1,w&=~X}f!==0&&Dt(o,f,u)}function wy(){return(qn&6)===0?(Mm(0),!1):!0}function Cb(){if(cn!==null){if(Wn===0)var o=cn.return;else o=cn,Uo=gi=null,Md(o),Vd=null,Sm=0,o=cn;for(;o!==null;)hE(o.alternate,o),o=o.return;cn=null}}function $d(o,u){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,l8(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Cb(),ur=o,cn=f=Qa(o.current,null),xn=u,Wn=0,Pa=null,nh=!1,Hd=Li(o,u),wb=!1,qd=io=_b=Ef=rh=qr=0,ra=Pm=null,xb=!1,(u&8)!==0&&(u|=u&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=u;0<m;){var w=31-vt(m),C=1<<w;u|=o[w],m&=~C}return Xc=u,Js(),f}function ME(o,u){kt=null,G.H=oy,u===ne||u===le?(u=ke(),Wn=3):u===ie?(u=ke(),Wn=4):Wn=u===QT?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Pa=u,cn===null&&(qr=1,fy(o,nn(u,o.current)))}function LE(){var o=G.H;return G.H=oy,o===null?oy:o}function IE(){var o=G.A;return G.A=zO,o}function Db(){qr=4,nh||(xn&4194048)!==xn&&ro.current!==null||(Hd=!0),(rh&134217727)===0&&(Ef&134217727)===0||ur===null||ah(ur,xn,io,!1)}function kb(o,u,f){var m=qn;qn|=2;var w=LE(),C=IE();(ur!==o||xn!==u)&&(by=null,$d(o,u)),u=!1;var X=qr;e:do try{if(Wn!==0&&cn!==null){var ue=cn,ye=Pa;switch(Wn){case 8:Cb(),X=6;break e;case 3:case 2:case 9:case 6:ro.current===null&&(u=!0);var Ie=Wn;if(Wn=0,Pa=null,Gd(o,ue,ye,Ie),f&&Hd){X=0;break e}break;default:Ie=Wn,Wn=0,Pa=null,Gd(o,ue,ye,Ie)}}WO(),X=qr;break}catch(qe){ME(o,qe)}while(!0);return u&&o.shellSuspendCounter++,Uo=gi=null,qn=m,G.H=w,G.A=C,cn===null&&(ur=null,xn=0,Js()),X}function WO(){for(;cn!==null;)OE(cn)}function YO(o,u){var f=qn;qn|=2;var m=LE(),w=IE();ur!==o||xn!==u?(by=null,vy=Tt()+500,$d(o,u)):Hd=Li(o,u);e:do try{if(Wn!==0&&cn!==null){u=cn;var C=Pa;t:switch(Wn){case 1:Wn=0,Pa=null,Gd(o,u,C,1);break;case 2:case 9:if(de(C)){Wn=0,Pa=null,jE(u);break}u=function(){Wn!==2&&Wn!==9||ur!==o||(Wn=7),Fl(o)},C.then(u,u);break e;case 3:Wn=7;break e;case 4:Wn=5;break e;case 7:de(C)?(Wn=0,Pa=null,jE(u)):(Wn=0,Pa=null,Gd(o,u,C,7));break;case 5:var X=null;switch(cn.tag){case 26:X=cn.memoizedState;case 5:case 27:var ue=cn;if(!X||vA(X)){Wn=0,Pa=null;var ye=ue.sibling;if(ye!==null)cn=ye;else{var Ie=ue.return;Ie!==null?(cn=Ie,_y(Ie)):cn=null}break t}}Wn=0,Pa=null,Gd(o,u,C,5);break;case 6:Wn=0,Pa=null,Gd(o,u,C,6);break;case 8:Cb(),qr=6;break e;default:throw Error(r(462))}}$O();break}catch(qe){ME(o,qe)}while(!0);return Uo=gi=null,G.H=m,G.A=w,qn=f,cn!==null?0:(ur=null,xn=0,Js(),qr)}function $O(){for(;cn!==null&&!Ue();)OE(cn)}function OE(o){var u=cE(o.alternate,o,Xc);o.memoizedProps=o.pendingProps,u===null?_y(o):cn=u}function jE(o){var u=o,f=u.alternate;switch(u.tag){case 15:case 0:u=rE(f,u,u.pendingProps,u.type,void 0,xn);break;case 11:u=rE(f,u,u.pendingProps,u.type.render,u.ref,xn);break;case 5:Md(u);default:hE(f,u),u=cn=of(u,Xc),u=cE(f,u,Xc)}o.memoizedProps=o.pendingProps,u===null?_y(o):cn=u}function Gd(o,u,f,m){Uo=gi=null,Md(u),Vd=null,Sm=0;var w=u.return;try{if(OO(o,w,u,f,xn)){qr=1,fy(o,nn(f,o.current)),cn=null;return}}catch(C){if(w!==null)throw cn=w,C;qr=1,fy(o,nn(f,o.current)),cn=null;return}u.flags&32768?(Tn||m===1?o=!0:Hd||(xn&536870912)!==0?o=!1:(nh=o=!0,(m===2||m===9||m===3||m===6)&&(m=ro.current,m!==null&&m.tag===13&&(m.flags|=16384))),FE(u,o)):_y(u)}function _y(o){var u=o;do{if((u.flags&32768)!==0){FE(u,nh);return}o=u.return;var f=FO(u.alternate,u,Xc);if(f!==null){cn=f;return}if(u=u.sibling,u!==null){cn=u;return}cn=u=o}while(u!==null);qr===0&&(qr=5)}function FE(o,u){do{var f=VO(o.alternate,o);if(f!==null){f.flags&=32767,cn=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!u&&(o=o.sibling,o!==null)){cn=o;return}cn=o=f}while(o!==null);qr=6,cn=null}function VE(o,u,f,m,w,C,X,ue,ye){o.cancelPendingCommit=null;do xy();while(Zi!==0);if((qn&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(C=u.lanes|u.childLanes,C|=Dr,Qn(o,f,C,X,ue,ye),o===ur&&(cn=ur=null,xn=0),Wd=u,sh=o,Yd=f,Tb=C,Eb=w,kE=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,QO(ot,function(){return qE(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,w=Q.p,Q.p=2,X=qn,qn|=4;try{BO(o,u,f)}finally{qn=X,Q.p=w,G.T=m}}Zi=1,BE(),UE(),zE()}}function BE(){if(Zi===1){Zi=0;var o=sh,u=Wd,f=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||f){f=G.T,G.T=null;var m=Q.p;Q.p=2;var w=qn;qn|=4;try{xE(u,o);var C=Ub,X=Ki(o.containerInfo),ue=C.focusedElem,ye=C.selectionRange;if(X!==ue&&ue&&ue.ownerDocument&&bl(ue.ownerDocument.documentElement,ue)){if(ye!==null&&Di(ue)){var Ie=ye.start,qe=ye.end;if(qe===void 0&&(qe=Ie),"selectionStart"in ue)ue.selectionStart=Ie,ue.selectionEnd=Math.min(qe,ue.value.length);else{var Ke=ue.ownerDocument||document,Oe=Ke&&Ke.defaultView||window;if(Oe.getSelection){var Fe=Oe.getSelection(),Ut=ue.textContent.length,Lt=Math.min(ye.start,Ut),nr=ye.end===void 0?Lt:Math.min(ye.end,Ut);!Fe.extend&&Lt>nr&&(X=nr,nr=Lt,Lt=X);var Ne=Mo(ue,Lt),Te=Mo(ue,nr);if(Ne&&Te&&(Fe.rangeCount!==1||Fe.anchorNode!==Ne.node||Fe.anchorOffset!==Ne.offset||Fe.focusNode!==Te.node||Fe.focusOffset!==Te.offset)){var Re=Ke.createRange();Re.setStart(Ne.node,Ne.offset),Fe.removeAllRanges(),Lt>nr?(Fe.addRange(Re),Fe.extend(Te.node,Te.offset)):(Re.setEnd(Te.node,Te.offset),Fe.addRange(Re))}}}}for(Ke=[],Fe=ue;Fe=Fe.parentNode;)Fe.nodeType===1&&Ke.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<Ke.length;ue++){var Ye=Ke[ue];Ye.element.scrollLeft=Ye.left,Ye.element.scrollTop=Ye.top}}Ly=!!Bb,Ub=Bb=null}finally{qn=w,Q.p=m,G.T=f}}o.current=u,Zi=2}}function UE(){if(Zi===2){Zi=0;var o=sh,u=Wd,f=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||f){f=G.T,G.T=null;var m=Q.p;Q.p=2;var w=qn;qn|=4;try{vE(o,u.alternate,u)}finally{qn=w,Q.p=m,G.T=f}}Zi=3}}function zE(){if(Zi===4||Zi===3){Zi=0,ge();var o=sh,u=Wd,f=Yd,m=kE;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Zi=5:(Zi=0,Wd=sh=null,HE(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(ih=null),br(f),u=u.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(xt,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=G.T,w=Q.p,Q.p=2,G.T=null;try{for(var C=o.onRecoverableError,X=0;X<m.length;X++){var ue=m[X];C(ue.value,{componentStack:ue.stack})}}finally{G.T=u,Q.p=w}}(Yd&3)!==0&&xy(),Fl(o),w=o.pendingLanes,(f&4194090)!==0&&(w&42)!==0?o===Ab?Rm++:(Rm=0,Ab=o):Rm=0,Mm(0)}}function HE(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,hf(u)))}function xy(o){return BE(),UE(),zE(),qE()}function qE(){if(Zi!==5)return!1;var o=sh,u=Tb;Tb=0;var f=br(Yd),m=G.T,w=Q.p;try{Q.p=32>f?32:f,G.T=null,f=Eb,Eb=null;var C=sh,X=Yd;if(Zi=0,Wd=sh=null,Yd=0,(qn&6)!==0)throw Error(r(331));var ue=qn;if(qn|=4,CE(C.current),TE(C,C.current,X,f),qn=ue,Mm(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(xt,C)}catch{}return!0}finally{Q.p=w,G.T=m,HE(o,u)}}function WE(o,u,f){u=nn(f,u),u=ib(o.stateNode,u,2),o=Ge(o,u,2),o!==null&&(Si(o,2),Fl(o))}function sr(o,u,f){if(o.tag===3)WE(o,o,f);else for(;u!==null;){if(u.tag===3){WE(u,o,f);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ih===null||!ih.has(m))){o=nn(f,o),f=KT(2),m=Ge(u,f,2),m!==null&&(XT(f,m,u,o),Si(m,2),Fl(m));break}}u=u.return}}function Nb(o,u,f){var m=o.pingCache;if(m===null){m=o.pingCache=new HO;var w=new Set;m.set(u,w)}else w=m.get(u),w===void 0&&(w=new Set,m.set(u,w));w.has(f)||(wb=!0,w.add(f),o=GO.bind(null,o,u,f),u.then(o,o))}function GO(o,u,f){var m=o.pingCache;m!==null&&m.delete(u),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,ur===o&&(xn&f)===f&&(qr===4||qr===3&&(xn&62914560)===xn&&300>Tt()-Sb?(qn&2)===0&&$d(o,0):_b|=f,qd===xn&&(qd=0)),Fl(o)}function YE(o,u){u===0&&(u=Xn()),o=Io(o,u),o!==null&&(Si(o,u),Fl(o))}function KO(o){var u=o.memoizedState,f=0;u!==null&&(f=u.retryLane),YE(o,f)}function XO(o,u){var f=0;switch(o.tag){case 13:var m=o.stateNode,w=o.memoizedState;w!==null&&(f=w.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),YE(o,f)}function QO(o,u){return tt(o,u)}var Sy=null,Kd=null,Pb=!1,Ty=!1,Rb=!1,Af=0;function Fl(o){o!==Kd&&o.next===null&&(Kd===null?Sy=Kd=o:Kd=Kd.next=o),Ty=!0,Pb||(Pb=!0,ZO())}function Mm(o,u){if(!Rb&&Ty){Rb=!0;do for(var f=!1,m=Sy;m!==null;){if(o!==0){var w=m.pendingLanes;if(w===0)var C=0;else{var X=m.suspendedLanes,ue=m.pingedLanes;C=(1<<31-vt(42|o)+1)-1,C&=w&~(X&~ue),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(f=!0,XE(m,C))}else C=xn,C=Ln(m,m===ur?C:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(C&3)===0||Li(m,C)||(f=!0,XE(m,C));m=m.next}while(f);Rb=!1}}function JO(){$E()}function $E(){Ty=Pb=!1;var o=0;Af!==0&&(o8()&&(o=Af),Af=0);for(var u=Tt(),f=null,m=Sy;m!==null;){var w=m.next,C=GE(m,u);C===0?(m.next=null,f===null?Sy=w:f.next=w,w===null&&(Kd=f)):(f=m,(o!==0||(C&3)!==0)&&(Ty=!0)),m=w}Mm(o)}function GE(o,u){for(var f=o.suspendedLanes,m=o.pingedLanes,w=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var X=31-vt(C),ue=1<<X,ye=w[X];ye===-1?((ue&f)===0||(ue&m)!==0)&&(w[X]=hn(ue,u)):ye<=u&&(o.expiredLanes|=ue),C&=~ue}if(u=ur,f=xn,f=Ln(o,o===u?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,f===0||o===u&&(Wn===2||Wn===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&pt(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Li(o,f)){if(u=f&-f,u===o.callbackPriority)return u;switch(m!==null&&pt(m),br(f)){case 2:case 8:f=rt;break;case 32:f=ot;break;case 268435456:f=_t;break;default:f=ot}return m=KE.bind(null,o),f=tt(f,m),o.callbackPriority=u,o.callbackNode=f,u}return m!==null&&m!==null&&pt(m),o.callbackPriority=2,o.callbackNode=null,2}function KE(o,u){if(Zi!==0&&Zi!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(xy()&&o.callbackNode!==f)return null;var m=xn;return m=Ln(o,o===ur?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(PE(o,m,u),GE(o,Tt()),o.callbackNode!=null&&o.callbackNode===f?KE.bind(null,o):null)}function XE(o,u){if(xy())return null;PE(o,u,!0)}function ZO(){c8(function(){(qn&6)!==0?tt(nt,JO):$E()})}function Mb(){return Af===0&&(Af=fa()),Af}function QE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ba(""+o)}function JE(o,u){var f=u.ownerDocument.createElement("input");return f.name=u.name,f.value=u.value,o.id&&f.setAttribute("form",o.id),u.parentNode.insertBefore(f,u),o=new FormData(o),f.parentNode.removeChild(f),o}function e8(o,u,f,m,w){if(u==="submit"&&f&&f.stateNode===w){var C=QE((w[On]||null).action),X=m.submitter;X&&(u=(u=X[On]||null)?QE(u.formAction):X.getAttribute("formAction"),u!==null&&(C=u,X=null));var ue=new za("action","action",null,m,w);o.push({event:ue,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Af!==0){var ye=X?JE(w,X):new FormData(w);no(f,{pending:!0,data:ye,method:w.method,action:C},null,ye)}}else typeof C=="function"&&(ue.preventDefault(),ye=X?JE(w,X):new FormData(w),no(f,{pending:!0,data:ye,method:w.method,action:C},C,ye))},currentTarget:w}]})}}for(var Lb=0;Lb<Lc.length;Lb++){var Ib=Lc[Lb],t8=Ib.toLowerCase(),n8=Ib[0].toUpperCase()+Ib.slice(1);xr(t8,"on"+n8)}xr(Bu,"onAnimationEnd"),xr(_l,"onAnimationIteration"),xr(xl,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Sl,"onTransitionRun"),xr(Mc,"onTransitionStart"),xr(Uu,"onTransitionCancel"),xr(Tl,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lm));function ZE(o,u){u=(u&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],w=m.event;m=m.listeners;e:{var C=void 0;if(u)for(var X=m.length-1;0<=X;X--){var ue=m[X],ye=ue.instance,Ie=ue.currentTarget;if(ue=ue.listener,ye!==C&&w.isPropagationStopped())break e;C=ue,w.currentTarget=Ie;try{C(w)}catch(qe){hy(qe)}w.currentTarget=null,C=ye}else for(X=0;X<m.length;X++){if(ue=m[X],ye=ue.instance,Ie=ue.currentTarget,ue=ue.listener,ye!==C&&w.isPropagationStopped())break e;C=ue,w.currentTarget=Ie;try{C(w)}catch(qe){hy(qe)}w.currentTarget=null,C=ye}}}}function un(o,u){var f=u[hr];f===void 0&&(f=u[hr]=new Set);var m=o+"__bubble";f.has(m)||(eA(u,o,2,!1),f.add(m))}function Ob(o,u,f){var m=0;u&&(m|=4),eA(f,o,m,u)}var Ey="_reactListening"+Math.random().toString(36).slice(2);function jb(o){if(!o[Ey]){o[Ey]=!0,da.forEach(function(f){f!=="selectionchange"&&(r8.has(f)||Ob(f,!1,o),Ob(f,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Ey]||(u[Ey]=!0,Ob("selectionchange",!1,u))}}function eA(o,u,f,m){switch(TA(u)){case 2:var w=N8;break;case 8:w=P8;break;default:w=Qb}f=w.bind(null,u,f,o),w=void 0,!Gi||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),m?w!==void 0?o.addEventListener(u,f,{capture:!0,passive:w}):o.addEventListener(u,f,!0):w!==void 0?o.addEventListener(u,f,{passive:w}):o.addEventListener(u,f,!1)}function Fb(o,u,f,m,w){var C=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var X=m.tag;if(X===3||X===4){var ue=m.stateNode.containerInfo;if(ue===w)break;if(X===4)for(X=m.return;X!==null;){var ye=X.tag;if((ye===3||ye===4)&&X.stateNode.containerInfo===w)return;X=X.return}for(;ue!==null;){if(X=Kr(ue),X===null)return;if(ye=X.tag,ye===5||ye===6||ye===26||ye===27){m=C=X;continue e}ue=ue.parentNode}}m=m.return}Iu(function(){var Ie=C,qe=zn(f),Ke=[];e:{var Oe=Lo.get(o);if(Oe!==void 0){var Fe=za,Ut=o;switch(o){case"keypress":if(hs(f)===0)break e;case"keydown":case"keyup":Fe=Sa;break;case"focusin":Ut="focus",Fe=qa;break;case"focusout":Ut="blur",Fe=qa;break;case"beforeblur":case"afterblur":Fe=qa;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Br;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Ha;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=ml;break;case Bu:case _l:case xl:Fe=fl;break;case Tl:Fe=ee;break;case"scroll":case"scrollend":Fe=Cc;break;case"wheel":Fe=we;break;case"copy":case"cut":case"paste":Fe=dl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Ro;break;case"toggle":case"beforetoggle":Fe=ze}var Lt=(u&4)!==0,nr=!Lt&&(o==="scroll"||o==="scrollend"),Ne=Lt?Oe!==null?Oe+"Capture":null:Oe;Lt=[];for(var Te=Ie,Re;Te!==null;){var Ye=Te;if(Re=Ye.stateNode,Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||Re===null||Ne===null||(Ye=Oi(Te,Ne),Ye!=null&&Lt.push(Im(Te,Ye,Re))),nr)break;Te=Te.return}0<Lt.length&&(Oe=new Fe(Oe,Ut,null,f,qe),Ke.push({event:Oe,listeners:Lt}))}}if((u&7)===0){e:{if(Oe=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",Oe&&f!==qs&&(Ut=f.relatedTarget||f.fromElement)&&(Kr(Ut)||Ut[ir]))break e;if((Fe||Oe)&&(Oe=qe.window===qe?qe:(Oe=qe.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Fe?(Ut=f.relatedTarget||f.toElement,Fe=Ie,Ut=Ut?Kr(Ut):null,Ut!==null&&(nr=s(Ut),Lt=Ut.tag,Ut!==nr||Lt!==5&&Lt!==27&&Lt!==6)&&(Ut=null)):(Fe=null,Ut=Ie),Fe!==Ut)){if(Lt=Br,Ye="onMouseLeave",Ne="onMouseEnter",Te="mouse",(o==="pointerout"||o==="pointerover")&&(Lt=Ro,Ye="onPointerLeave",Ne="onPointerEnter",Te="pointer"),nr=Fe==null?Oe:Xr(Fe),Re=Ut==null?Oe:Xr(Ut),Oe=new Lt(Ye,Te+"leave",Fe,f,qe),Oe.target=nr,Oe.relatedTarget=Re,Ye=null,Kr(qe)===Ie&&(Lt=new Lt(Ne,Te+"enter",Ut,f,qe),Lt.target=Re,Lt.relatedTarget=nr,Ye=Lt),nr=Ye,Fe&&Ut)t:{for(Lt=Fe,Ne=Ut,Te=0,Re=Lt;Re;Re=Xd(Re))Te++;for(Re=0,Ye=Ne;Ye;Ye=Xd(Ye))Re++;for(;0<Te-Re;)Lt=Xd(Lt),Te--;for(;0<Re-Te;)Ne=Xd(Ne),Re--;for(;Te--;){if(Lt===Ne||Ne!==null&&Lt===Ne.alternate)break t;Lt=Xd(Lt),Ne=Xd(Ne)}Lt=null}else Lt=null;Fe!==null&&tA(Ke,Oe,Fe,Lt,!1),Ut!==null&&nr!==null&&tA(Ke,nr,Ut,Lt,!0)}}e:{if(Oe=Ie?Xr(Ie):window,Fe=Oe.nodeName&&Oe.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Oe.type==="file")var bt=Fu;else if(Fn(Oe))if(kc)bt=Ed;else{bt=om;var ln=ds}else Fe=Oe.nodeName,!Fe||Fe.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Ie&&Ec(Ie.elementType)&&(bt=Fu):bt=sf;if(bt&&(bt=bt(o,Ie))){Xs(Ke,bt,f,qe);break e}ln&&ln(o,Oe,Ie),o==="focusout"&&Ie&&Oe.type==="number"&&Ie.memoizedProps.value!=null&&Va(Oe,"number",Oe.value)}switch(ln=Ie?Xr(Ie):window,o){case"focusin":(Fn(ln)||ln.contentEditable==="true")&&(ps=ln,Ta=Ie,Ka=null);break;case"focusout":Ka=Ta=ps=null;break;case"mousedown":Ea=!0;break;case"contextmenu":case"mouseup":case"dragend":Ea=!1,_r(Ke,f,qe);break;case"selectionchange":if(wl)break;case"keydown":case"keyup":_r(Ke,f,qe)}var At;if(st)e:{switch(o){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else Mt?Le(o,f)&&(Ot="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Ot="onCompositionStart");Ot&&(Y&&f.locale!=="ko"&&(Mt||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Mt&&(At=Ac()):(us=qe,Ua="value"in us?us.value:us.textContent,Mt=!0)),ln=Ay(Ie,Ot),0<ln.length&&(Ot=new ko(Ot,o,null,f,qe),Ke.push({event:Ot,listeners:ln}),At?Ot.data=At:(At=Je(f),At!==null&&(Ot.data=At)))),(At=I?on(o,f):qt(o,f))&&(Ot=Ay(Ie,"onBeforeInput"),0<Ot.length&&(ln=new ko("onBeforeInput","beforeinput",null,f,qe),Ke.push({event:ln,listeners:Ot}),ln.data=At)),e8(Ke,o,Ie,f,qe)}ZE(Ke,u)})}function Im(o,u,f){return{instance:o,listener:u,currentTarget:f}}function Ay(o,u){for(var f=u+"Capture",m=[];o!==null;){var w=o,C=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||C===null||(w=Oi(o,f),w!=null&&m.unshift(Im(o,w,C)),w=Oi(o,u),w!=null&&m.push(Im(o,w,C))),o.tag===3)return m;o=o.return}return[]}function Xd(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function tA(o,u,f,m,w){for(var C=u._reactName,X=[];f!==null&&f!==m;){var ue=f,ye=ue.alternate,Ie=ue.stateNode;if(ue=ue.tag,ye!==null&&ye===m)break;ue!==5&&ue!==26&&ue!==27||Ie===null||(ye=Ie,w?(Ie=Oi(f,C),Ie!=null&&X.unshift(Im(f,Ie,ye))):w||(Ie=Oi(f,C),Ie!=null&&X.push(Im(f,Ie,ye)))),f=f.return}X.length!==0&&o.push({event:u,listeners:X})}var i8=/\r\n?/g,s8=/\u0000|\uFFFD/g;function nA(o){return(typeof o=="string"?o:""+o).replace(i8,`
`).replace(s8,"")}function rA(o,u){return u=nA(u),nA(o)===u}function Cy(){}function tr(o,u,f,m,w,C){switch(f){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||ls(o,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&ls(o,""+m);break;case"className":Ms(o,"class",m);break;case"tabIndex":Ms(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(o,f,m);break;case"style":Tc(o,m,C);break;case"data":if(u!=="object"){Ms(o,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=ba(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(f==="formAction"?(u!=="input"&&tr(o,u,"name",w.name,w,null),tr(o,u,"formEncType",w.formEncType,w,null),tr(o,u,"formMethod",w.formMethod,w,null),tr(o,u,"formTarget",w.formTarget,w,null)):(tr(o,u,"encType",w.encType,w,null),tr(o,u,"method",w.method,w,null),tr(o,u,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=ba(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=Cy);break;case"onScroll":m!=null&&un("scroll",o);break;case"onScrollEnd":m!=null&&un("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=ba(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":un("beforetoggle",o),un("toggle",o),Rs(o,"popover",m);break;case"xlinkActuate":Qr(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Qr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Qr(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Qr(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Qr(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Qr(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Qr(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Qr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Qr(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Rs(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=va.get(f)||f,Rs(o,f,m))}}function Vb(o,u,f,m,w,C){switch(f){case"style":Tc(o,m,C);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof m=="string"?ls(o,m):(typeof m=="number"||typeof m=="bigint")&&ls(o,""+m);break;case"onScroll":m!=null&&un("scroll",o);break;case"onScrollEnd":m!=null&&un("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Cy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),u=f.slice(2,w?f.length-7:void 0),C=o[On]||null,C=C!=null?C[f]:null,typeof C=="function"&&o.removeEventListener(u,C,w),typeof m=="function")){typeof C!="function"&&C!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(u,m,w);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):Rs(o,f,m)}}}function es(o,u,f){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":un("error",o),un("load",o);var m=!1,w=!1,C;for(C in f)if(f.hasOwnProperty(C)){var X=f[C];if(X!=null)switch(C){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:tr(o,u,C,X,f,null)}}w&&tr(o,u,"srcSet",f.srcSet,f,null),m&&tr(o,u,"src",f.src,f,null);return;case"input":un("invalid",o);var ue=C=X=w=null,ye=null,Ie=null;for(m in f)if(f.hasOwnProperty(m)){var qe=f[m];if(qe!=null)switch(m){case"name":w=qe;break;case"type":X=qe;break;case"checked":ye=qe;break;case"defaultChecked":Ie=qe;break;case"value":C=qe;break;case"defaultValue":ue=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,u));break;default:tr(o,u,m,qe,f,null)}}Fa(o,C,ue,ye,Ie,X,w,!1),ja(o);return;case"select":un("invalid",o),m=X=C=null;for(w in f)if(f.hasOwnProperty(w)&&(ue=f[w],ue!=null))switch(w){case"value":C=ue;break;case"defaultValue":X=ue;break;case"multiple":m=ue;default:tr(o,u,w,ue,f,null)}u=C,f=X,o.multiple=!!m,u!=null?Hs(o,!!m,u,!1):f!=null&&Hs(o,!!m,f,!0);return;case"textarea":un("invalid",o),C=w=m=null;for(X in f)if(f.hasOwnProperty(X)&&(ue=f[X],ue!=null))switch(X){case"value":m=ue;break;case"defaultValue":w=ue;break;case"children":C=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(91));break;default:tr(o,u,X,ue,f,null)}Ba(o,m,w,C),ja(o);return;case"option":for(ye in f)if(f.hasOwnProperty(ye)&&(m=f[ye],m!=null))switch(ye){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:tr(o,u,ye,m,f,null)}return;case"dialog":un("beforetoggle",o),un("toggle",o),un("cancel",o),un("close",o);break;case"iframe":case"object":un("load",o);break;case"video":case"audio":for(m=0;m<Lm.length;m++)un(Lm[m],o);break;case"image":un("error",o),un("load",o);break;case"details":un("toggle",o);break;case"embed":case"source":case"link":un("error",o),un("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in f)if(f.hasOwnProperty(Ie)&&(m=f[Ie],m!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:tr(o,u,Ie,m,f,null)}return;default:if(Ec(u)){for(qe in f)f.hasOwnProperty(qe)&&(m=f[qe],m!==void 0&&Vb(o,u,qe,m,f,void 0));return}}for(ue in f)f.hasOwnProperty(ue)&&(m=f[ue],m!=null&&tr(o,u,ue,m,f,null))}function a8(o,u,f,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,C=null,X=null,ue=null,ye=null,Ie=null,qe=null;for(Fe in f){var Ke=f[Fe];if(f.hasOwnProperty(Fe)&&Ke!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":ye=Ke;default:m.hasOwnProperty(Fe)||tr(o,u,Fe,null,m,Ke)}}for(var Oe in m){var Fe=m[Oe];if(Ke=f[Oe],m.hasOwnProperty(Oe)&&(Fe!=null||Ke!=null))switch(Oe){case"type":C=Fe;break;case"name":w=Fe;break;case"checked":Ie=Fe;break;case"defaultChecked":qe=Fe;break;case"value":X=Fe;break;case"defaultValue":ue=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,u));break;default:Fe!==Ke&&tr(o,u,Oe,Fe,m,Ke)}}Ai(o,X,ue,ye,Ie,qe,C,w);return;case"select":Fe=X=ue=Oe=null;for(C in f)if(ye=f[C],f.hasOwnProperty(C)&&ye!=null)switch(C){case"value":break;case"multiple":Fe=ye;default:m.hasOwnProperty(C)||tr(o,u,C,null,m,ye)}for(w in m)if(C=m[w],ye=f[w],m.hasOwnProperty(w)&&(C!=null||ye!=null))switch(w){case"value":Oe=C;break;case"defaultValue":ue=C;break;case"multiple":X=C;default:C!==ye&&tr(o,u,w,C,m,ye)}u=ue,f=X,m=Fe,Oe!=null?Hs(o,!!f,Oe,!1):!!m!=!!f&&(u!=null?Hs(o,!!f,u,!0):Hs(o,!!f,f?[]:"",!1));return;case"textarea":Fe=Oe=null;for(ue in f)if(w=f[ue],f.hasOwnProperty(ue)&&w!=null&&!m.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:tr(o,u,ue,null,m,w)}for(X in m)if(w=m[X],C=f[X],m.hasOwnProperty(X)&&(w!=null||C!=null))switch(X){case"value":Oe=w;break;case"defaultValue":Fe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==C&&tr(o,u,X,w,m,C)}Dn(o,Oe,Fe);return;case"option":for(var Ut in f)if(Oe=f[Ut],f.hasOwnProperty(Ut)&&Oe!=null&&!m.hasOwnProperty(Ut))switch(Ut){case"selected":o.selected=!1;break;default:tr(o,u,Ut,null,m,Oe)}for(ye in m)if(Oe=m[ye],Fe=f[ye],m.hasOwnProperty(ye)&&Oe!==Fe&&(Oe!=null||Fe!=null))switch(ye){case"selected":o.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:tr(o,u,ye,Oe,m,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in f)Oe=f[Lt],f.hasOwnProperty(Lt)&&Oe!=null&&!m.hasOwnProperty(Lt)&&tr(o,u,Lt,null,m,Oe);for(Ie in m)if(Oe=m[Ie],Fe=f[Ie],m.hasOwnProperty(Ie)&&Oe!==Fe&&(Oe!=null||Fe!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,u));break;default:tr(o,u,Ie,Oe,m,Fe)}return;default:if(Ec(u)){for(var nr in f)Oe=f[nr],f.hasOwnProperty(nr)&&Oe!==void 0&&!m.hasOwnProperty(nr)&&Vb(o,u,nr,void 0,m,Oe);for(qe in m)Oe=m[qe],Fe=f[qe],!m.hasOwnProperty(qe)||Oe===Fe||Oe===void 0&&Fe===void 0||Vb(o,u,qe,Oe,m,Fe);return}}for(var Ne in f)Oe=f[Ne],f.hasOwnProperty(Ne)&&Oe!=null&&!m.hasOwnProperty(Ne)&&tr(o,u,Ne,null,m,Oe);for(Ke in m)Oe=m[Ke],Fe=f[Ke],!m.hasOwnProperty(Ke)||Oe===Fe||Oe==null&&Fe==null||tr(o,u,Ke,Oe,m,Fe)}var Bb=null,Ub=null;function Dy(o){return o.nodeType===9?o:o.ownerDocument}function iA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sA(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function zb(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Hb=null;function o8(){var o=window.event;return o&&o.type==="popstate"?o===Hb?!1:(Hb=o,!0):(Hb=null,!1)}var aA=typeof setTimeout=="function"?setTimeout:void 0,l8=typeof clearTimeout=="function"?clearTimeout:void 0,oA=typeof Promise=="function"?Promise:void 0,c8=typeof queueMicrotask=="function"?queueMicrotask:typeof oA<"u"?function(o){return oA.resolve(null).then(o).catch(u8)}:aA;function u8(o){setTimeout(function(){throw o})}function oh(o){return o==="head"}function lA(o,u){var f=u,m=0,w=0;do{var C=f.nextSibling;if(o.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"){if(0<m&&8>m){f=m;var X=o.ownerDocument;if(f&1&&Om(X.documentElement),f&2&&Om(X.body),f&4)for(f=X.head,Om(f),X=f.firstChild;X;){var ue=X.nextSibling,ye=X.nodeName;X[$i]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&X.rel.toLowerCase()==="stylesheet"||f.removeChild(X),X=ue}}if(w===0){o.removeChild(C),qm(u);return}w--}else f==="$"||f==="$?"||f==="$!"?w++:m=f.charCodeAt(0)-48;else m=0;f=C}while(f);qm(u)}function qb(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var f=u;switch(u=u.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":qb(f),fi(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function h8(o,u,f,m){for(;o.nodeType===1;){var w=f;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[$i])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var C=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=Go(o.nextSibling),o===null)break}return null}function f8(o,u,f){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Go(o.nextSibling),o===null))return null;return o}function Wb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function d8(o,u){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")u();else{var m=function(){u(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function Go(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var Yb=null;function cA(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return o;u--}else f==="/$"&&u++}o=o.previousSibling}return null}function uA(o,u,f){switch(u=Dy(f),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Om(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);fi(o)}var so=new Map,hA=new Set;function ky(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Qc=Q.d;Q.d={f:p8,r:m8,D:g8,C:y8,L:v8,m:b8,X:_8,S:w8,M:x8};function p8(){var o=Qc.f(),u=wy();return o||u}function m8(o){var u=Fr(o);u!==null&&u.tag===5&&u.type==="form"?_f(u):Qc.r(o)}var Qd=typeof document>"u"?null:document;function fA(o,u,f){var m=Qd;if(m&&typeof u=="string"&&u){var w=vn(u);w='link[rel="'+o+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),hA.has(w)||(hA.add(w),o={rel:o,crossOrigin:f,href:u},m.querySelector(w)===null&&(u=m.createElement("link"),es(u,"link",o),Cn(u),m.head.appendChild(u)))}}function g8(o){Qc.D(o),fA("dns-prefetch",o,null)}function y8(o,u){Qc.C(o,u),fA("preconnect",o,u)}function v8(o,u,f){Qc.L(o,u,f);var m=Qd;if(m&&o&&u){var w='link[rel="preload"][as="'+vn(u)+'"]';u==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+vn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+vn(f.imageSizes)+'"]')):w+='[href="'+vn(o)+'"]';var C=w;switch(u){case"style":C=Jd(o);break;case"script":C=Zd(o)}so.has(C)||(o=d({rel:"preload",href:u==="image"&&f&&f.imageSrcSet?void 0:o,as:u},f),so.set(C,o),m.querySelector(w)!==null||u==="style"&&m.querySelector(jm(C))||u==="script"&&m.querySelector(Fm(C))||(u=m.createElement("link"),es(u,"link",o),Cn(u),m.head.appendChild(u)))}}function b8(o,u){Qc.m(o,u);var f=Qd;if(f&&o){var m=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+vn(m)+'"][href="'+vn(o)+'"]',C=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Zd(o)}if(!so.has(C)&&(o=d({rel:"modulepreload",href:o},u),so.set(C,o),f.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Fm(C)))return}m=f.createElement("link"),es(m,"link",o),Cn(m),f.head.appendChild(m)}}}function w8(o,u,f){Qc.S(o,u,f);var m=Qd;if(m&&o){var w=Jn(m).hoistableStyles,C=Jd(o);u=u||"default";var X=w.get(C);if(!X){var ue={loading:0,preload:null};if(X=m.querySelector(jm(C)))ue.loading=5;else{o=d({rel:"stylesheet",href:o,"data-precedence":u},f),(f=so.get(C))&&$b(o,f);var ye=X=m.createElement("link");Cn(ye),es(ye,"link",o),ye._p=new Promise(function(Ie,qe){ye.onload=Ie,ye.onerror=qe}),ye.addEventListener("load",function(){ue.loading|=1}),ye.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,Ny(X,u,m)}X={type:"stylesheet",instance:X,count:1,state:ue},w.set(C,X)}}}function _8(o,u){Qc.X(o,u);var f=Qd;if(f&&o){var m=Jn(f).hoistableScripts,w=Zd(o),C=m.get(w);C||(C=f.querySelector(Fm(w)),C||(o=d({src:o,async:!0},u),(u=so.get(w))&&Gb(o,u),C=f.createElement("script"),Cn(C),es(C,"link",o),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(w,C))}}function x8(o,u){Qc.M(o,u);var f=Qd;if(f&&o){var m=Jn(f).hoistableScripts,w=Zd(o),C=m.get(w);C||(C=f.querySelector(Fm(w)),C||(o=d({src:o,async:!0,type:"module"},u),(u=so.get(w))&&Gb(o,u),C=f.createElement("script"),Cn(C),es(C,"link",o),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(w,C))}}function dA(o,u,f,m){var w=(w=fe.current)?ky(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(u=Jd(f.href),f=Jn(w).hoistableStyles,m=f.get(u),m||(m={type:"style",instance:null,count:0,state:null},f.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Jd(f.href);var C=Jn(w).hoistableStyles,X=C.get(o);if(X||(w=w.ownerDocument||w,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,X),(C=w.querySelector(jm(o)))&&!C._p&&(X.instance=C,X.state.loading=5),so.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},so.set(o,f),C||S8(w,o,f,X.state))),u&&m===null)throw Error(r(528,""));return X}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=f.async,f=f.src,typeof f=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Zd(f),f=Jn(w).hoistableScripts,m=f.get(u),m||(m={type:"script",instance:null,count:0,state:null},f.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Jd(o){return'href="'+vn(o)+'"'}function jm(o){return'link[rel="stylesheet"]['+o+"]"}function pA(o){return d({},o,{"data-precedence":o.precedence,precedence:null})}function S8(o,u,f,m){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=o.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),es(u,"link",f),Cn(u),o.head.appendChild(u))}function Zd(o){return'[src="'+vn(o)+'"]'}function Fm(o){return"script[async]"+o}function mA(o,u,f){if(u.count++,u.instance===null)switch(u.type){case"style":var m=o.querySelector('style[data-href~="'+vn(f.href)+'"]');if(m)return u.instance=m,Cn(m),m;var w=d({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Cn(m),es(m,"style",w),Ny(m,f.precedence,o),u.instance=m;case"stylesheet":w=Jd(f.href);var C=o.querySelector(jm(w));if(C)return u.state.loading|=4,u.instance=C,Cn(C),C;m=pA(f),(w=so.get(w))&&$b(m,w),C=(o.ownerDocument||o).createElement("link"),Cn(C);var X=C;return X._p=new Promise(function(ue,ye){X.onload=ue,X.onerror=ye}),es(C,"link",m),u.state.loading|=4,Ny(C,f.precedence,o),u.instance=C;case"script":return C=Zd(f.src),(w=o.querySelector(Fm(C)))?(u.instance=w,Cn(w),w):(m=f,(w=so.get(C))&&(m=d({},f),Gb(m,w)),o=o.ownerDocument||o,w=o.createElement("script"),Cn(w),es(w,"link",m),o.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,Ny(m,f.precedence,o));return u.instance}function Ny(o,u,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,C=w,X=0;X<m.length;X++){var ue=m[X];if(ue.dataset.precedence===u)C=ue;else if(C!==w)break}C?C.parentNode.insertBefore(o,C.nextSibling):(u=f.nodeType===9?f.head:f,u.insertBefore(o,u.firstChild))}function $b(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function Gb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Py=null;function gA(o,u,f){if(Py===null){var m=new Map,w=Py=new Map;w.set(f,m)}else w=Py,m=w.get(f),m||(m=new Map,w.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),w=0;w<f.length;w++){var C=f[w];if(!(C[$i]||C[In]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var X=C.getAttribute(u)||"";X=o+X;var ue=m.get(X);ue?ue.push(C):m.set(X,[C])}}return m}function yA(o,u,f){o=o.ownerDocument||o,o.head.insertBefore(f,u==="title"?o.querySelector("head > title"):null)}function T8(o,u,f){if(f===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function vA(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Vm=null;function E8(){}function A8(o,u,f){if(Vm===null)throw Error(r(475));var m=Vm;if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=Jd(f.href),C=o.querySelector(jm(w));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=Ry.bind(m),o.then(m,m)),u.state.loading|=4,u.instance=C,Cn(C);return}C=o.ownerDocument||o,f=pA(f),(w=so.get(w))&&$b(f,w),C=C.createElement("link"),Cn(C);var X=C;X._p=new Promise(function(ue,ye){X.onload=ue,X.onerror=ye}),es(C,"link",f),u.instance=C}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(m.count++,u=Ry.bind(m),o.addEventListener("load",u),o.addEventListener("error",u))}}function C8(){if(Vm===null)throw Error(r(475));var o=Vm;return o.stylesheets&&o.count===0&&Kb(o,o.stylesheets),0<o.count?function(u){var f=setTimeout(function(){if(o.stylesheets&&Kb(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Ry(){if(this.count--,this.count===0){if(this.stylesheets)Kb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var My=null;function Kb(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,My=new Map,u.forEach(D8,o),My=null,Ry.call(o))}function D8(o,u){if(!(u.state.loading&4)){var f=My.get(o);if(f)var m=f.get(null);else{f=new Map,My.set(o,f);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<w.length;C++){var X=w[C];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(f.set(X.dataset.precedence,X),m=X)}m&&f.set(null,m)}w=u.instance,X=w.getAttribute("data-precedence"),C=f.get(X)||m,C===m&&f.set(null,w),f.set(X,w),this.count++,m=Ry.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),C?C.parentNode.insertBefore(w,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),u.state.loading|=4}}var Bm={$$typeof:N,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function k8(o,u,f,m,w,C,X,ue){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=C,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function bA(o,u,f,m,w,C,X,ue,ye,Ie,qe,Ke){return o=new k8(o,u,f,X,ue,ye,Ie,Ke),u=1,C===!0&&(u|=24),C=Bi(3,null,null,u),o.current=C,C.stateNode=o,u=cm(),u.refCount++,o.pooledCache=u,u.refCount++,C.memoizedState={element:m,isDehydrated:f,cache:u},Se(C),o}function wA(o){return o?(o=mi,o):mi}function _A(o,u,f,m,w,C){w=wA(w),m.context===null?m.context=w:m.pendingContext=w,m=He(u),m.payload={element:f},C=C===void 0?null:C,C!==null&&(m.callback=C),f=Ge(o,m,u),f!==null&&(Ma(f,o,u),We(f,o,u))}function xA(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<u?f:u}}function Xb(o,u){xA(o,u),(o=o.alternate)&&xA(o,u)}function SA(o){if(o.tag===13){var u=Io(o,67108864);u!==null&&Ma(u,o,67108864),Xb(o,67108864)}}var Ly=!0;function N8(o,u,f,m){var w=G.T;G.T=null;var C=Q.p;try{Q.p=2,Qb(o,u,f,m)}finally{Q.p=C,G.T=w}}function P8(o,u,f,m){var w=G.T;G.T=null;var C=Q.p;try{Q.p=8,Qb(o,u,f,m)}finally{Q.p=C,G.T=w}}function Qb(o,u,f,m){if(Ly){var w=Jb(m);if(w===null)Fb(o,u,m,Iy,f),EA(o,m);else if(M8(w,o,u,f,m))m.stopPropagation();else if(EA(o,m),u&4&&-1<R8.indexOf(o)){for(;w!==null;){var C=Fr(w);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var X=tn(C.pendingLanes);if(X!==0){var ue=C;for(ue.pendingLanes|=2,ue.entangledLanes|=2;X;){var ye=1<<31-vt(X);ue.entanglements[1]|=ye,X&=~ye}Fl(C),(qn&6)===0&&(vy=Tt()+500,Mm(0))}}break;case 13:ue=Io(C,2),ue!==null&&Ma(ue,C,2),wy(),Xb(C,2)}if(C=Jb(m),C===null&&Fb(o,u,m,Iy,f),C===w)break;w=C}w!==null&&m.stopPropagation()}else Fb(o,u,m,null,f)}}function Jb(o){return o=zn(o),Zb(o)}var Iy=null;function Zb(o){if(Iy=null,o=Kr(o),o!==null){var u=s(o);if(u===null)o=null;else{var f=u.tag;if(f===13){if(o=a(u),o!==null)return o;o=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Iy=o,null}function TA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case nt:return 2;case rt:return 8;case ot:case lt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var ew=!1,lh=null,ch=null,uh=null,Um=new Map,zm=new Map,hh=[],R8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EA(o,u){switch(o){case"focusin":case"focusout":lh=null;break;case"dragenter":case"dragleave":ch=null;break;case"mouseover":case"mouseout":uh=null;break;case"pointerover":case"pointerout":Um.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":zm.delete(u.pointerId)}}function Hm(o,u,f,m,w,C){return o===null||o.nativeEvent!==C?(o={blockedOn:u,domEventName:f,eventSystemFlags:m,nativeEvent:C,targetContainers:[w]},u!==null&&(u=Fr(u),u!==null&&SA(u)),o):(o.eventSystemFlags|=m,u=o.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),o)}function M8(o,u,f,m,w){switch(u){case"focusin":return lh=Hm(lh,o,u,f,m,w),!0;case"dragenter":return ch=Hm(ch,o,u,f,m,w),!0;case"mouseover":return uh=Hm(uh,o,u,f,m,w),!0;case"pointerover":var C=w.pointerId;return Um.set(C,Hm(Um.get(C)||null,o,u,f,m,w)),!0;case"gotpointercapture":return C=w.pointerId,zm.set(C,Hm(zm.get(C)||null,o,u,f,m,w)),!0}return!1}function AA(o){var u=Kr(o.target);if(u!==null){var f=s(u);if(f!==null){if(u=f.tag,u===13){if(u=a(f),u!==null){o.blockedOn=u,Ps(o.priority,function(){if(f.tag===13){var m=Ra();m=as(m);var w=Io(f,m);w!==null&&Ma(w,f,m),Xb(f,m)}});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Oy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var f=Jb(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);qs=m,f.target.dispatchEvent(m),qs=null}else return u=Fr(f),u!==null&&SA(u),o.blockedOn=f,!1;u.shift()}return!0}function CA(o,u,f){Oy(o)&&f.delete(u)}function L8(){ew=!1,lh!==null&&Oy(lh)&&(lh=null),ch!==null&&Oy(ch)&&(ch=null),uh!==null&&Oy(uh)&&(uh=null),Um.forEach(CA),zm.forEach(CA)}function jy(o,u){o.blockedOn===u&&(o.blockedOn=null,ew||(ew=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,L8)))}var Fy=null;function DA(o){Fy!==o&&(Fy=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fy===o&&(Fy=null);for(var u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],w=o[u+2];if(typeof m!="function"){if(Zb(m||f)===null)continue;break}var C=Fr(f);C!==null&&(o.splice(u,3),u-=3,no(C,{pending:!0,data:w,method:f.method,action:m},m,w))}}))}function qm(o){function u(ye){return jy(ye,o)}lh!==null&&jy(lh,o),ch!==null&&jy(ch,o),uh!==null&&jy(uh,o),Um.forEach(u),zm.forEach(u);for(var f=0;f<hh.length;f++){var m=hh[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<hh.length&&(f=hh[0],f.blockedOn===null);)AA(f),f.blockedOn===null&&hh.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var w=f[m],C=f[m+1],X=w[On]||null;if(typeof C=="function")X||DA(f);else if(X){var ue=null;if(C&&C.hasAttribute("formAction")){if(w=C,X=C[On]||null)ue=X.formAction;else if(Zb(w)!==null)continue}else ue=X.action;typeof ue=="function"?f[m+1]=ue:(f.splice(m,3),m-=3),DA(f)}}}function tw(o){this._internalRoot=o}Vy.prototype.render=tw.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var f=u.current,m=Ra();_A(f,m,o,u,null,null)},Vy.prototype.unmount=tw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;_A(o.current,2,null,o,null,null),wy(),u[ir]=null}};function Vy(o){this._internalRoot=o}Vy.prototype.unstable_scheduleHydration=function(o){if(o){var u=Ti();o={blockedOn:null,target:o,priority:u};for(var f=0;f<hh.length&&u!==0&&u<hh[f].priority;f++);hh.splice(f,0,o),f===0&&AA(o)}};var kA=e.version;if(kA!=="19.1.1")throw Error(r(527,kA,"19.1.1"));Q.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var I8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var By=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!By.isDisabled&&By.supportsFiber)try{xt=By.inject(I8),wt=By}catch{}}return Ym.createRoot=function(o,u){if(!i(o))throw Error(r(299));var f=!1,m="",w=WT,C=YT,X=$T,ue=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(X=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ue=u.unstable_transitionCallbacks)),u=bA(o,1,!1,null,null,f,m,w,C,X,ue,null),o[ir]=u.current,jb(o),new tw(u)},Ym.hydrateRoot=function(o,u,f){if(!i(o))throw Error(r(299));var m=!1,w="",C=WT,X=YT,ue=$T,ye=null,Ie=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(X=f.onCaughtError),f.onRecoverableError!==void 0&&(ue=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ye=f.unstable_transitionCallbacks),f.formState!==void 0&&(Ie=f.formState)),u=bA(o,1,!0,u,f??null,m,w,C,X,ue,ye,Ie),u.context=wA(null),f=u.current,m=Ra(),m=as(m),w=He(m),w.callback=null,Ge(f,w,m),f=m,u.current.lanes=f,Si(u,f),Fl(u),o[ir]=u.current,jb(o),new Vy(u)},Ym.version="19.1.1",Ym}var VA;function $8(){if(VA)return iw.exports;VA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),iw.exports=Y8(),iw.exports}var G8=$8();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BA="popstate";function K8(n={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return U_("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Hg(i)}return Q8(e,t,null,n)}function Ir(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X8(){return Math.random().toString(36).substring(2,10)}function UA(n,e){return{usr:n.state,key:n.key,idx:e}}function U_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wp(e):e,state:t,key:e&&e.key||r||X8()}}function Hg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wp(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Q8(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",c=null,h=d();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function d(){return(a.state||{idx:null}).idx}function p(){l="POP";let T=d(),E=T==null?null:T-h;h=T,c&&c({action:l,location:S.location,delta:E})}function g(T,E){l="PUSH";let A=U_(S.location,T,E);h=d()+1;let N=UA(A,h),j=S.createHref(A);try{a.pushState(N,"",j)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(j)}s&&c&&c({action:l,location:S.location,delta:1})}function y(T,E){l="REPLACE";let A=U_(S.location,T,E);h=d();let N=UA(A,h),j=S.createHref(A);a.replaceState(N,"",j),s&&c&&c({action:l,location:S.location,delta:0})}function _(T){return J8(T)}let S={get action(){return l},get location(){return n(i,a)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(BA,p),c=T,()=>{i.removeEventListener(BA,p),c=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let E=_(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(T){return a.go(T)}};return S}function J8(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ir(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Hg(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function FN(n,e,t="/"){return Z8(n,e,t,!1)}function Z8(n,e,t,r){let i=typeof e=="string"?Wp(e):e,s=yu(i.pathname||"/",t);if(s==null)return null;let a=VN(n);e7(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=h7(s);l=c7(a[c],h,r)}return l}function VN(n,e=[],t=[],r="",i=!1){let s=(a,l,c=i,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Ir(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=lu([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Ir(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),VN(a.children,e,g,p,c)),!(a.path==null&&!a.index)&&e.push({path:p,score:o7(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let c of BN(a.path))s(a,l,!0,c)}),e}function BN(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=BN(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function e7(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:l7(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var t7=/^:[\w-]+$/,n7=3,r7=2,i7=1,s7=10,a7=-2,zA=n=>n==="*";function o7(n,e){let t=n.split("/"),r=t.length;return t.some(zA)&&(r+=a7),e&&(r+=r7),t.filter(i=>!zA(i)).reduce((i,s)=>i+(t7.test(s)?n7:s===""?i7:s7),r)}function l7(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function c7(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Qv({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),g=c.route;if(!p&&h&&t&&!r[r.length-1].route.index&&(p=Qv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:lu([s,p.pathname]),pathnameBase:m7(lu([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=lu([s,p.pathnameBase]))}return a}function Qv(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=u7(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:p},g)=>{if(d==="*"){let _=l[g]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?h[d]=void 0:h[d]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:n}}function u7(n,e=!1,t=!0){hc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function h7(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hc(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function f7(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Wp(n):n;return{pathname:t?t.startsWith("/")?t:d7(t,e):e,search:g7(r),hash:y7(i)}}function d7(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function lw(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p7(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function UN(n){let e=p7(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function zN(n,e,t,r=!1){let i;typeof n=="string"?i=Wp(n):(i={...n},Ir(!i.pathname||!i.pathname.includes("?"),lw("?","pathname","search",i)),Ir(!i.pathname||!i.pathname.includes("#"),lw("#","pathname","hash",i)),Ir(!i.search||!i.search.includes("#"),lw("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=t;else{let p=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let c=f7(i,l),h=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}var lu=n=>n.join("/").replace(/\/\/+/g,"/"),m7=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),g7=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,y7=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function v7(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var HN=["POST","PUT","PATCH","DELETE"];new Set(HN);var b7=["GET",...HN];new Set(b7);var Yp=$.createContext(null);Yp.displayName="DataRouter";var J1=$.createContext(null);J1.displayName="DataRouterState";$.createContext(!1);var qN=$.createContext({isTransitioning:!1});qN.displayName="ViewTransition";var w7=$.createContext(new Map);w7.displayName="Fetchers";var _7=$.createContext(null);_7.displayName="Await";var mc=$.createContext(null);mc.displayName="Navigation";var y0=$.createContext(null);y0.displayName="Location";var Cu=$.createContext({outlet:null,matches:[],isDataRoute:!1});Cu.displayName="Route";var vx=$.createContext(null);vx.displayName="RouteError";function x7(n,{relative:e}={}){Ir(v0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(mc),{hash:i,pathname:s,search:a}=b0(n,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:lu([t,s])),r.createHref({pathname:l,search:a,hash:i})}function v0(){return $.useContext(y0)!=null}function gc(){return Ir(v0(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(y0).location}var WN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YN(n){$.useContext(mc).static||$.useLayoutEffect(n)}function gd(){let{isDataRoute:n}=$.useContext(Cu);return n?I7():S7()}function S7(){Ir(v0(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Yp),{basename:e,navigator:t}=$.useContext(mc),{matches:r}=$.useContext(Cu),{pathname:i}=gc(),s=JSON.stringify(UN(r)),a=$.useRef(!1);return YN(()=>{a.current=!0}),$.useCallback((c,h={})=>{if(hc(a.current,WN),!a.current)return;if(typeof c=="number"){t.go(c);return}let d=zN(c,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:lu([e,d.pathname])),(h.replace?t.replace:t.push)(d,h.state,h)},[e,t,s,i,n])}$.createContext(null);function b0(n,{relative:e}={}){let{matches:t}=$.useContext(Cu),{pathname:r}=gc(),i=JSON.stringify(UN(t));return $.useMemo(()=>zN(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function T7(n,e){return $N(n,e)}function $N(n,e,t,r,i){Ir(v0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=$.useContext(mc),{matches:a}=$.useContext(Cu),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let A=p&&p.path||"";GN(h,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=gc(),y;if(e){let A=typeof e=="string"?Wp(e):e;Ir(d==="/"||A.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=g;let _=y.pathname||"/",S=_;if(d!=="/"){let A=d.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=FN(n,{pathname:S});hc(p||T!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),hc(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=k7(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:lu([d,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:lu([d,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,r,i);return e&&E?$.createElement(y0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function E7(){let n=L7(),e=v7(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:s},"ErrorBoundary")," or"," ",$.createElement("code",{style:s},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:i},t):null,a)}var A7=$.createElement(E7,null),C7=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?$.createElement(Cu.Provider,{value:this.props.routeContext},$.createElement(vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D7({routeContext:n,match:e,children:t}){let r=$.useContext(Yp);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Cu.Provider,{value:n},t)}function k7(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let h=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Ir(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:g}=t,y=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let g,y=!1,_=null,S=null;t&&(g=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||A7,l&&(c<0&&p===0?(GN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):c===p&&(y=!0,S=d.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,p+1)),E=()=>{let A;return g?A=_:y?A=S:d.route.Component?A=$.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,$.createElement(D7,{match:d,routeContext:{outlet:h,matches:T,isDataRoute:t!=null},children:A})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?$.createElement(C7,{location:t.location,revalidation:t.revalidation,component:_,error:g,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):E()},null)}function bx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N7(n){let e=$.useContext(Yp);return Ir(e,bx(n)),e}function P7(n){let e=$.useContext(J1);return Ir(e,bx(n)),e}function R7(n){let e=$.useContext(Cu);return Ir(e,bx(n)),e}function wx(n){let e=R7(n),t=e.matches[e.matches.length-1];return Ir(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function M7(){return wx("useRouteId")}function L7(){let n=$.useContext(vx),e=P7("useRouteError"),t=wx("useRouteError");return n!==void 0?n:e.errors?.[t]}function I7(){let{router:n}=N7("useNavigate"),e=wx("useNavigate"),t=$.useRef(!1);return YN(()=>{t.current=!0}),$.useCallback(async(i,s={})=>{hc(t.current,WN),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var HA={};function GN(n,e,t){!e&&!HA[n]&&(HA[n]=!0,hc(!1,t))}$.memo(O7);function O7({routes:n,future:e,state:t,unstable_onError:r}){return $N(n,void 0,t,r,e)}function co(n){Ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j7({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Ir(!v0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),l=$.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=Wp(t));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:g="default"}=t,y=$.useMemo(()=>{let _=yu(c,a);return _==null?null:{location:{pathname:_,search:h,hash:d,state:p,key:g},navigationType:r}},[a,c,h,d,p,g,r]);return hc(y!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:$.createElement(mc.Provider,{value:l},$.createElement(y0.Provider,{children:e,value:y}))}function qA({children:n,location:e}){return T7(z_(n),e)}function z_(n,e=[]){let t=[];return $.Children.forEach(n,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){t.push.apply(t,z_(r.props.children,s));return}Ir(r.type===co,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ir(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=z_(r.props.children,s)),t.push(a)}),t}var Tv="get",Ev="application/x-www-form-urlencoded";function Z1(n){return n!=null&&typeof n.tagName=="string"}function F7(n){return Z1(n)&&n.tagName.toLowerCase()==="button"}function V7(n){return Z1(n)&&n.tagName.toLowerCase()==="form"}function B7(n){return Z1(n)&&n.tagName.toLowerCase()==="input"}function U7(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function z7(n,e){return n.button===0&&(!e||e==="_self")&&!U7(n)}var Uy=null;function H7(){if(Uy===null)try{new FormData(document.createElement("form"),0),Uy=!1}catch{Uy=!0}return Uy}var q7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cw(n){return n!=null&&!q7.has(n)?(hc(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ev}"`),null):n}function W7(n,e){let t,r,i,s,a;if(V7(n)){let l=n.getAttribute("action");r=l?yu(l,e):null,t=n.getAttribute("method")||Tv,i=cw(n.getAttribute("enctype"))||Ev,s=new FormData(n)}else if(F7(n)||B7(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||l.getAttribute("action");if(r=c?yu(c,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||Tv,i=cw(n.getAttribute("formenctype"))||cw(l.getAttribute("enctype"))||Ev,s=new FormData(l,n),!H7()){let{name:h,type:d,value:p}=n;if(d==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,p)}}else{if(Z1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tv,r=null,i=Ev,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _x(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Y7(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&yu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function $7(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G7(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function K7(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await $7(s,t);return a.links?a.links():[]}return[]}));return Z7(r.flat(1).filter(G7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function WA(n,e,t,r,i,s){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,l=(c,h)=>t[h].pathname!==c.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,h)=>a(c,h)||l(c,h)):s==="data"?e.filter((c,h)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function X7(n,e,{includeHydrateFallback:t}={}){return Q7(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Q7(n){return[...new Set(n)]}function J7(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Z7(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(J7(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function KN(){let n=$.useContext(Yp);return _x(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ej(){let n=$.useContext(J1);return _x(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xx=$.createContext(void 0);xx.displayName="FrameworkContext";function XN(){let n=$.useContext(xx);return _x(n,"You must render this element inside a <HydratedRouter> element"),n}function tj(n,e){let t=$.useContext(xx),[r,i]=$.useState(!1),[s,a]=$.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:p}=e,g=$.useRef(null);$.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let S=E=>{E.forEach(A=>{a(A.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return g.current&&T.observe(g.current),()=>{T.disconnect()}}},[n]),$.useEffect(()=>{if(r){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{i(!0)},_=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:$m(l,y),onBlur:$m(c,_),onMouseEnter:$m(h,y),onMouseLeave:$m(d,_),onTouchStart:$m(p,y)}]:[!1,g,{}]}function $m(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function nj({page:n,...e}){let{router:t}=KN(),r=$.useMemo(()=>FN(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(ij,{page:n,matches:r,...e}):null}function rj(n){let{manifest:e,routeModules:t}=XN(),[r,i]=$.useState([]);return $.useEffect(()=>{let s=!1;return K7(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function ij({page:n,matches:e,...t}){let r=gc(),{manifest:i,routeModules:s}=XN(),{basename:a}=KN(),{loaderData:l,matches:c}=ej(),h=$.useMemo(()=>WA(n,e,c,i,r,"data"),[n,e,c,i,r]),d=$.useMemo(()=>WA(n,e,c,i,r,"assets"),[n,e,c,i,r]),p=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(E=>{let A=i.routes[E.route.id];!A||!A.hasLoader||(!h.some(N=>N.route.id===E.route.id)&&E.route.id in l&&s[E.route.id]?.shouldRevalidate||A.hasClientLoader?S=!0:_.add(E.route.id))}),_.size===0)return[];let T=Y7(n,a,"data");return S&&_.size>0&&T.searchParams.set("_routes",e.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[a,l,r,i,h,e,n,s]),g=$.useMemo(()=>X7(d,i),[d,i]),y=rj(d);return $.createElement($.Fragment,null,p.map(_=>$.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),g.map(_=>$.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),y.map(({key:_,link:S})=>$.createElement("link",{key:_,nonce:t.nonce,...S})))}function sj(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QN&&(window.__reactRouterVersion="7.8.2")}catch{}function aj({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=K8({window:t,v5Compat:!0}));let i=r.current,[s,a]=$.useState({action:i.action,location:i.location}),l=$.useCallback(c=>{$.startTransition(()=>a(c))},[a]);return $.useLayoutEffect(()=>i.listen(l),[i,l]),$.createElement(j7,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var JN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e2=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:d,viewTransition:p,...g},y){let{basename:_}=$.useContext(mc),S=typeof h=="string"&&JN.test(h),T,E=!1;if(typeof h=="string"&&S&&(T=h,QN))try{let O=new URL(window.location.href),H=h.startsWith("//")?new URL(O.protocol+h):new URL(h),R=yu(H.pathname,_);H.origin===O.origin&&R!=null?h=R+H.search+H.hash:E=!0}catch{hc(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=x7(h,{relative:i}),[N,j,U]=tj(r,g),K=uj(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:p});function M(O){e&&e(O),O.defaultPrevented||K(O)}let k=$.createElement("a",{...g,...U,href:T||A,onClick:E||s?e:M,ref:sj(y,j),target:c,"data-discover":!S&&t==="render"?"true":void 0});return N&&!S?$.createElement($.Fragment,null,k,$.createElement(nj,{page:A})):k});e2.displayName="Link";var oj=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:c,...h},d){let p=b0(a,{relative:h.relative}),g=gc(),y=$.useContext(J1),{navigator:_,basename:S}=$.useContext(mc),T=y!=null&&mj(p)&&l===!0,E=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,A=g.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(A=A.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&S&&(N=yu(N,S)||N);const j=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let U=A===E||!i&&A.startsWith(E)&&A.charAt(j)==="/",K=N!=null&&(N===E||!i&&N.startsWith(E)&&N.charAt(E.length)==="/"),M={isActive:U,isPending:K,isTransitioning:T},k=U?e:void 0,O;typeof r=="function"?O=r(M):O=[r,U?"active":null,K?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(M):s;return $.createElement(e2,{...h,"aria-current":k,className:O,ref:d,style:H,to:a,viewTransition:l},typeof c=="function"?c(M):c)});oj.displayName="NavLink";var lj=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Tv,action:l,onSubmit:c,relative:h,preventScrollReset:d,viewTransition:p,...g},y)=>{let _=dj(),S=pj(l,{relative:h}),T=a.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&JN.test(l),A=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let j=N.nativeEvent.submitter,U=j?.getAttribute("formmethod")||a;_(j||N.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:s,relative:h,preventScrollReset:d,viewTransition:p})};return $.createElement("form",{ref:y,method:T,action:S,onSubmit:r?c:A,...g,"data-discover":!E&&n==="render"?"true":void 0})});lj.displayName="Form";function cj(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZN(n){let e=$.useContext(Yp);return Ir(e,cj(n)),e}function uj(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=gd(),c=gc(),h=b0(n,{relative:s});return $.useCallback(d=>{if(z7(d,e)){d.preventDefault();let p=t!==void 0?t:Hg(c)===Hg(h);l(n,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[c,l,h,t,r,e,n,i,s,a])}var hj=0,fj=()=>`__${String(++hj)}__`;function dj(){let{router:n}=ZN("useSubmit"),{basename:e}=$.useContext(mc),t=M7();return $.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:c,body:h}=W7(r,e);if(i.navigate===!1){let d=i.fetcherKey||fj();await n.fetch(d,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function pj(n,{relative:e}={}){let{basename:t}=$.useContext(mc),r=$.useContext(Cu);Ir(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...b0(n||".",{relative:e})},a=gc();if(n==null){s.search=a.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:lu([t,s.pathname])),Hg(s)}function mj(n,{relative:e}={}){let t=$.useContext(qN);Ir(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZN("useViewTransitionState"),i=b0(n,{relative:e});if(!t.isTransitioning)return!1;let s=yu(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=yu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qv(i.pathname,a)!=null||Qv(i.pathname,s)!=null}var Sx=jN();const gj=yx(Sx),yj=()=>{};var YA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},vj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],l=n[t++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},tP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,l=a?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(g=64)),r.push(t[d],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(eP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new bj;const g=s<<2|l>>4;if(r.push(g),h!==64){const y=l<<4&240|h>>2;if(r.push(y),p!==64){const _=h<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wj=function(n){const e=eP(n);return tP.encodeByteArray(e,!0)},Jv=function(n){return wj(n).replace(/\./g,"")},nP=function(n){try{return tP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=()=>_j().__FIREBASE_DEFAULTS__,Sj=()=>{if(typeof process>"u"||typeof YA>"u")return;const n=YA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Tj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nP(n[1]);return e&&JSON.parse(e)},t2=()=>{try{return yj()||xj()||Sj()||Tj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rP=n=>t2()?.emulatorHosts?.[n],Ej=n=>{const e=rP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},iP=()=>t2()?.config,sP=n=>t2()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aP(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Jv(JSON.stringify(t)),Jv(JSON.stringify(a)),""].join(".")}const _g={};function Dj(){const n={prod:[],emulator:[]};for(const e of Object.keys(_g))_g[e]?n.emulator.push(e):n.prod.push(e);return n}function kj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $A=!1;function oP(n,e){if(typeof window>"u"||typeof document>"u"||!$p(window.location.host)||_g[n]===e||_g[n]||$A)return;_g[n]=e;function t(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=Dj().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{$A=!0,a()},g}function d(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=kj(r),y=t("text"),_=document.getElementById(y)||document.createElement("span"),S=t("learnmore"),T=document.getElementById(S)||document.createElement("a"),E=t("preprendIcon"),A=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;l(N),d(T,S);const j=h();c(A,E),N.append(A,_,T,j),document.body.appendChild(N)}s?(_.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ns())}function Pj(){const n=t2()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mj(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Lj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ij(){const n=Ns();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Oj(){return!Pj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jj(){try{return typeof indexedDB=="object"}catch{return!1}}function Fj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="FirebaseError";class Du extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Vj,Object.setPrototypeOf(this,Du.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w0.prototype.create)}}class w0{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Bj(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Du(i,l,r)}}function Bj(n,e){return n.replace(Uj,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Uj=/\{\$([^}]+)}/g;function zj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function id(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(GA(s)&&GA(a)){if(!id(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function GA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function og(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function lg(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Hj(n,e){const t=new qj(n,e);return t.subscribe.bind(t)}class qj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Wj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=uw),i.error===void 0&&(i.error=uw),i.complete===void 0&&(i.complete=uw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function uw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(n){return n&&n._delegate?n._delegate:n}class sd{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Aj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gj(e))try{this.getOrInitializeService({instanceIdentifier:Pf})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pf){return this.instances.has(e)}getOptions(e=Pf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$j(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pf){return this.component?this.component.multipleInstances?e:Pf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $j(n){return n===Pf?void 0:n}function Gj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Yj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mn||(mn={}));const Xj={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},Qj=mn.INFO,Jj={[mn.DEBUG]:"log",[mn.VERBOSE]:"log",[mn.INFO]:"info",[mn.WARN]:"warn",[mn.ERROR]:"error"},Zj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Jj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tx{constructor(e){this.name=e,this._logLevel=Qj,this._logHandler=Zj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mn.DEBUG,...e),this._logHandler(this,mn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mn.VERBOSE,...e),this._logHandler(this,mn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mn.INFO,...e),this._logHandler(this,mn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mn.WARN,...e),this._logHandler(this,mn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mn.ERROR,...e),this._logHandler(this,mn.ERROR,...e)}}const e9=(n,e)=>e.some(t=>n instanceof t);let KA,XA;function t9(){return KA||(KA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n9(){return XA||(XA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lP=new WeakMap,H_=new WeakMap,cP=new WeakMap,hw=new WeakMap,Ex=new WeakMap;function r9(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Ph(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&lP.set(t,n)}).catch(()=>{}),Ex.set(e,n),e}function i9(n){if(H_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});H_.set(n,e)}let q_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return H_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ph(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function s9(n){q_=n(q_)}function a9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(fw(this),e,...t);return cP.set(r,e.sort?e.sort():[e]),Ph(r)}:n9().includes(n)?function(...e){return n.apply(fw(this),e),Ph(lP.get(this))}:function(...e){return Ph(n.apply(fw(this),e))}}function o9(n){return typeof n=="function"?a9(n):(n instanceof IDBTransaction&&i9(n),e9(n,t9())?new Proxy(n,q_):n)}function Ph(n){if(n instanceof IDBRequest)return r9(n);if(hw.has(n))return hw.get(n);const e=o9(n);return e!==n&&(hw.set(n,e),Ex.set(e,n)),e}const fw=n=>Ex.get(n);function l9(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),l=Ph(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ph(a.result),c.oldVersion,c.newVersion,Ph(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const c9=["get","getKey","getAll","getAllKeys","count"],u9=["put","add","delete","clear"],dw=new Map;function QA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dw.get(e))return dw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=u9.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c9.includes(t)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),i&&c.done]))[0]};return dw.set(e,s),s}s9(n=>({...n,get:(e,t,r)=>QA(e,t)||n.get(e,t,r),has:(e,t)=>!!QA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(f9(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function f9(n){return n.getComponent()?.type==="VERSION"}const W_="@firebase/app",JA="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Tx("@firebase/app"),d9="@firebase/app-compat",p9="@firebase/analytics-compat",m9="@firebase/analytics",g9="@firebase/app-check-compat",y9="@firebase/app-check",v9="@firebase/auth",b9="@firebase/auth-compat",w9="@firebase/database",_9="@firebase/data-connect",x9="@firebase/database-compat",S9="@firebase/functions",T9="@firebase/functions-compat",E9="@firebase/installations",A9="@firebase/installations-compat",C9="@firebase/messaging",D9="@firebase/messaging-compat",k9="@firebase/performance",N9="@firebase/performance-compat",P9="@firebase/remote-config",R9="@firebase/remote-config-compat",M9="@firebase/storage",L9="@firebase/storage-compat",I9="@firebase/firestore",O9="@firebase/ai",j9="@firebase/firestore-compat",F9="firebase",V9="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="[DEFAULT]",B9={[W_]:"fire-core",[d9]:"fire-core-compat",[m9]:"fire-analytics",[p9]:"fire-analytics-compat",[y9]:"fire-app-check",[g9]:"fire-app-check-compat",[v9]:"fire-auth",[b9]:"fire-auth-compat",[w9]:"fire-rtdb",[_9]:"fire-data-connect",[x9]:"fire-rtdb-compat",[S9]:"fire-fn",[T9]:"fire-fn-compat",[E9]:"fire-iid",[A9]:"fire-iid-compat",[C9]:"fire-fcm",[D9]:"fire-fcm-compat",[k9]:"fire-perf",[N9]:"fire-perf-compat",[P9]:"fire-rc",[R9]:"fire-rc-compat",[M9]:"fire-gcs",[L9]:"fire-gcs-compat",[I9]:"fire-fst",[j9]:"fire-fst-compat",[O9]:"fire-vertex","fire-js":"fire-js",[F9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map,U9=new Map,$_=new Map;function ZA(n,e){try{n.container.addComponent(e)}catch(t){vu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dp(n){const e=n.name;if($_.has(e))return vu.debug(`There were multiple attempts to register component ${e}.`),!1;$_.set(e,n);for(const t of Zv.values())ZA(t,n);for(const t of U9.values())ZA(t,n);return!0}function Ax(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rh=new w0("app","Firebase",z9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=V9;function uP(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Y_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Rh.create("bad-app-name",{appName:String(i)});if(t||(t=iP()),!t)throw Rh.create("no-options");const s=Zv.get(i);if(s){if(id(t,s.options)&&id(r,s.config))return s;throw Rh.create("duplicate-app",{appName:i})}const a=new Kj(i);for(const c of $_.values())a.addComponent(c);const l=new H9(t,r,a);return Zv.set(i,l),l}function hP(n=Y_){const e=Zv.get(n);if(!e&&n===Y_&&iP())return uP();if(!e)throw Rh.create("no-app",{appName:n});return e}function Mh(n,e,t){let r=B9[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vu.warn(a.join(" "));return}Dp(new sd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="firebase-heartbeat-database",W9=1,qg="firebase-heartbeat-store";let pw=null;function fP(){return pw||(pw=l9(q9,W9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qg)}catch(t){console.warn(t)}}}}).catch(n=>{throw Rh.create("idb-open",{originalErrorMessage:n.message})})),pw}async function Y9(n){try{const t=(await fP()).transaction(qg),r=await t.objectStore(qg).get(dP(n));return await t.done,r}catch(e){if(e instanceof Du)vu.warn(e.message);else{const t=Rh.create("idb-get",{originalErrorMessage:e?.message});vu.warn(t.message)}}}async function e4(n,e){try{const r=(await fP()).transaction(qg,"readwrite");await r.objectStore(qg).put(e,dP(n)),await r.done}catch(t){if(t instanceof Du)vu.warn(t.message);else{const r=Rh.create("idb-set",{originalErrorMessage:t?.message});vu.warn(r.message)}}}function dP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=1024,G9=30;class K9{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Q9(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>G9){const i=J9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t4(),{heartbeatsToSend:t,unsentEntries:r}=X9(this._heartbeatsCache.heartbeats),i=Jv(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return vu.warn(e),""}}}function t4(){return new Date().toISOString().substring(0,10)}function X9(n,e=$9){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),n4(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),n4(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Q9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jj()?Fj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Y9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function n4(n){return Jv(JSON.stringify({version:2,heartbeats:n})).length}function J9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(n){Dp(new sd("platform-logger",e=>new h9(e),"PRIVATE")),Dp(new sd("heartbeat",e=>new K9(e),"PRIVATE")),Mh(W_,JA,n),Mh(W_,JA,"esm2020"),Mh("fire-js","")}Z9("");function pP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eF=pP,mP=new w0("auth","Firebase",pP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Tx("@firebase/auth");function tF(n,...e){e1.logLevel<=mn.WARN&&e1.warn(`Auth (${Gp}): ${n}`,...e)}function Av(n,...e){e1.logLevel<=mn.ERROR&&e1.error(`Auth (${Gp}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(n,...e){throw Cx(n,...e)}function Zl(n,...e){return Cx(n,...e)}function gP(n,e,t){const r={...eF(),[e]:t};return new w0("auth","Firebase",r).create(e,{appName:n.name})}function cu(n){return gP(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cx(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mP.create(n,...e)}function Vt(n,e,...t){if(!n)throw Cx(e,...t)}function iu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Av(e),new Error(e)}function bu(n,e){n||iu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(){return typeof self<"u"&&self.location?.href||""}function nF(){return r4()==="http:"||r4()==="https:"}function r4(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nF()||Mj()||"connection"in navigator)?navigator.onLine:!0}function iF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,t){this.shortDelay=e,this.longDelay=t,bu(t>e,"Short delay should be less than long delay!"),this.isMobile=Nj()||Lj()}get(){return rF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(n,e){bu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;iu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;iu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;iu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oF=new x0(3e4,6e4);function tf(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function nf(n,e,t,r,i={}){return vP(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=_0({key:n.config.apiKey,...a}).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:c,...s};return Rj()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&$p(n.emulatorConfig.host)&&(h.credentials="include"),yP.fetch()(await bP(n,n.config.apiHost,t,l),h)})}async function vP(n,e,t){n._canInitEmulator=!1;const r={...sF,...e};try{const i=new cF(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw zy(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zy(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw zy(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw zy(n,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw gP(n,d,h);rl(n,d)}}catch(i){if(i instanceof Du)throw i;rl(n,"network-request-failed",{message:String(i)})}}async function S0(n,e,t,r,i={}){const s=await nf(n,e,t,r,i);return"mfaPendingCredential"in s&&rl(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function bP(n,e,t,r){const i=`${e}${t}?${r}`,s=n,a=s.config.emulator?Dx(n.config,i):`${n.config.apiScheme}://${i}`;return aF.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function lF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zl(this.auth,"network-request-failed")),oF.get())})}}function zy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Zl(n,e,r);return i.customData._tokenResponse=t,i}function i4(n){return n!==void 0&&n.enterprise!==void 0}class uF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hF(n,e){return nf(n,"GET","/v2/recaptchaConfig",tf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(n,e){return nf(n,"POST","/v1/accounts:delete",e)}async function t1(n,e){return nf(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dF(n,e=!1){const t=bo(n),r=await t.getIdToken(e),i=kx(r);Vt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:xg(mw(i.auth_time)),issuedAtTime:xg(mw(i.iat)),expirationTime:xg(mw(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function mw(n){return Number(n)*1e3}function kx(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Av("JWT malformed, contained fewer than 3 sections"),null;try{const i=nP(t);return i?JSON.parse(i):(Av("Failed to decode base64 JWT payload"),null)}catch(i){return Av("Caught error parsing JWT payload as JSON",i?.toString()),null}}function s4(n){const e=kx(n);return Vt(e,"internal-error"),Vt(typeof e.exp<"u","internal-error"),Vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wg(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Du&&pF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function pF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xg(this.lastLoginAt),this.creationTime=xg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(n){const e=n.auth,t=await n.getIdToken(),r=await Wg(n,t1(e,{idToken:t}));Vt(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?wP(i.providerUserInfo):[],a=yF(n.providerData,s),l=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!a?.length,h=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new K_(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(n,d)}async function gF(n){const e=bo(n);await n1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wP(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(n,e){const t=await vP(n,{},async()=>{const r=_0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await bP(n,i,"/v1/token",`key=${s}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return n.emulatorConfig&&$p(n.emulatorConfig.host)&&(c.credentials="include"),yP.fetch()(a,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bF(n,e){return nf(n,"POST","/v2/accounts:revokeToken",tf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vt(e.idToken,"internal-error"),Vt(typeof e.idToken<"u","internal-error"),Vt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Vt(e.length!==0,"internal-error");const t=s4(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await vF(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new bp;return r&&(Vt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Vt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Vt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bp,this.toJSON())}_performRefresh(){return iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n,e){Vt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zo{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new mF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new K_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wg(this,this.stsTokenManager.getToken(this.auth,e));return Vt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dF(this,e)}reload(){return gF(this)}_assign(e){this!==e&&(Vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await n1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mo(this.auth.app))return Promise.reject(cu(this.auth));const e=await this.getIdToken();return await Wg(this,fF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,a=t.photoURL??void 0,l=t.tenantId??void 0,c=t._redirectEventId??void 0,h=t.createdAt??void 0,d=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:_,stsTokenManager:S}=t;Vt(p&&S,e,"internal-error");const T=bp.fromJSON(this.name,S);Vt(typeof p=="string",e,"internal-error"),dh(r,e.name),dh(i,e.name),Vt(typeof g=="boolean",e,"internal-error"),Vt(typeof y=="boolean",e,"internal-error"),dh(s,e.name),dh(a,e.name),dh(l,e.name),dh(c,e.name),dh(h,e.name),dh(d,e.name);const E=new Zo({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:T,createdAt:h,lastLoginAt:d});return _&&Array.isArray(_)&&(E.providerData=_.map(A=>({...A}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,t,r=!1){const i=new bp;i.updateFromServerResponse(t);const s=new Zo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await n1(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Vt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wP(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new bp;l.updateFromIdToken(r);const c=new Zo({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new K_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new Map;function su(n){bu(n instanceof Function,"Expected a class definition");let e=a4.get(n);return e?(bu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,a4.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_P.type="NONE";const o4=_P;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n,e,t){return`firebase:${n}:${e}:${t}`}class wp{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cv("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await t1(this.auth,{idToken:e}).catch(()=>{});return t?Zo._fromGetAccountInfoResponse(this.auth,t,e):null}return Zo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new wp(su(o4),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||su(o4);const a=Cv(r,e.config.apiKey,e.name);let l=null;for(const h of t)try{const d=await h._get(a);if(d){let p;if(typeof d=="string"){const g=await t1(e,{idToken:d}).catch(()=>{});if(!g)break;p=await Zo._fromGetAccountInfoResponse(e,g,d)}else p=Zo._fromJSON(e,d);h!==s&&(l=p),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new wp(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new wp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CP(e))return"Blackberry";if(DP(e))return"Webos";if(SP(e))return"Safari";if((e.includes("chrome/")||TP(e))&&!e.includes("edge/"))return"Chrome";if(AP(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function xP(n=Ns()){return/firefox\//i.test(n)}function SP(n=Ns()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TP(n=Ns()){return/crios\//i.test(n)}function EP(n=Ns()){return/iemobile/i.test(n)}function AP(n=Ns()){return/android/i.test(n)}function CP(n=Ns()){return/blackberry/i.test(n)}function DP(n=Ns()){return/webos/i.test(n)}function Nx(n=Ns()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wF(n=Ns()){return Nx(n)&&!!window.navigator?.standalone}function _F(){return Ij()&&document.documentMode===10}function kP(n=Ns()){return Nx(n)||AP(n)||DP(n)||CP(n)||/windows phone/i.test(n)||EP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(n,e=[]){let t;switch(n){case"Browser":t=l4(Ns());break;case"Worker":t=`${l4(Ns())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gp}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(n,e={}){return nf(n,"GET","/v2/passwordPolicy",tf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=6;class EF{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??TF,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c4(this),this.idTokenSubscription=new c4(this),this.beforeStateQueue=new xF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=su(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await t1(this,{idToken:e}),r=await Zo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await n1(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mo(this.app))return Promise.reject(cu(this));const t=e?bo(e):null;return t&&Vt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mo(this.app)?Promise.reject(cu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mo(this.app)?Promise.reject(cu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(su(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SF(this),t=new EF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new w0("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await bF(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&su(e)||this._popupRedirectResolver;Vt(t,this,"argument-error"),this.redirectPersistenceManager=await wp.create(this,[su(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(mo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tF(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yd(n){return bo(n)}class c4{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hj(t=>this.observer=t)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CF(n){n2=n}function PP(n){return n2.loadJS(n)}function DF(){return n2.recaptchaEnterpriseScript}function kF(){return n2.gapiScript}function NF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class PF{constructor(){this.enterprise=new RF}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RF{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const MF="recaptcha-enterprise",RP="NO_RECAPTCHA";class LF{constructor(e){this.type=MF,this.auth=yd(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{hF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new uF(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;i4(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(RP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PF().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!t&&i4(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=DF();c.length!==0&&(c+=l),PP(c).then(()=>{i(l,s,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function u4(n,e,t,r=!1,i=!1){const s=new LF(n);let a;if(i)a=RP;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const l={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function X_(n,e,t,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await u4(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await u4(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(n,e){const t=Ax(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(id(s,e??{}))return i;rl(i,"already-initialized")}return t.initialize({options:e})}function OF(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(su);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function jF(n,e,t){const r=yd(n);Vt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=MP(e),{host:a,port:l}=FF(e),c=l===null?"":`:${l}`,h={url:`${s}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Vt(id(h,r.config.emulator)&&id(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,$p(a)?(aP(`${s}//${a}${c}`),oP("Auth",!0)):VF()}function MP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FF(n){const e=MP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:h4(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:h4(a)}}}function h4(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function VF(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return iu("not implemented")}_getIdTokenResponse(e){return iu("not implemented")}_linkToIdToken(e,t){return iu("not implemented")}_getReauthenticationResolver(e){return iu("not implemented")}}async function BF(n,e){return nf(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(n,e){return S0(n,"POST","/v1/accounts:signInWithPassword",tf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(n,e){return S0(n,"POST","/v1/accounts:signInWithEmailLink",tf(n,e))}async function HF(n,e){return S0(n,"POST","/v1/accounts:signInWithEmailLink",tf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends Px{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Yg(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Yg(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,t,"signInWithPassword",UF);case"emailLink":return zF(e,{email:this._email,oobCode:this._password});default:rl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,r,"signUpPassword",BF);case"emailLink":return HF(e,{idToken:t,email:this._email,oobCode:this._password});default:rl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _p(n,e){return S0(n,"POST","/v1/accounts:signInWithIdp",tf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="http://localhost";class ad extends Px{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ad(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const a=new ad(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return _p(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,_p(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_p(e,t)}buildRequest(){const e={requestUri:qF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_0(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YF(n){const e=og(lg(n)).link,t=e?og(lg(e)).deep_link_id:null,r=og(lg(n)).deep_link_id;return(r?og(lg(r)).link:null)||r||t||e||n}class Rx{constructor(e){const t=og(lg(e)),r=t.apiKey??null,i=t.oobCode??null,s=WF(t.mode??null);Vt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=YF(e);try{return new Rx(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.providerId=Kp.PROVIDER_ID}static credential(e,t){return Yg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Rx.parseLink(t);return Vt(r,"argument-error"),Yg._fromEmailAndCode(e,r.code,r.tenantId)}}Kp.PROVIDER_ID="password";Kp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends LP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends T0{constructor(){super("facebook.com")}static credential(e){return ad._fromParams({providerId:vh.PROVIDER_ID,signInMethod:vh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vh.credentialFromTaggedObject(e)}static credentialFromError(e){return vh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vh.credential(e.oauthAccessToken)}catch{return null}}}vh.FACEBOOK_SIGN_IN_METHOD="facebook.com";vh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends T0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ad._fromParams({providerId:bh.PROVIDER_ID,signInMethod:bh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bh.credentialFromTaggedObject(e)}static credentialFromError(e){return bh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return bh.credential(t,r)}catch{return null}}}bh.GOOGLE_SIGN_IN_METHOD="google.com";bh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends T0{constructor(){super("github.com")}static credential(e){return ad._fromParams({providerId:wh.PROVIDER_ID,signInMethod:wh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wh.credentialFromTaggedObject(e)}static credentialFromError(e){return wh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wh.credential(e.oauthAccessToken)}catch{return null}}}wh.GITHUB_SIGN_IN_METHOD="github.com";wh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends T0{constructor(){super("twitter.com")}static credential(e,t){return ad._fromParams({providerId:_h.PROVIDER_ID,signInMethod:_h.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _h.credentialFromTaggedObject(e)}static credentialFromError(e){return _h.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _h.credential(t,r)}catch{return null}}}_h.TWITTER_SIGN_IN_METHOD="twitter.com";_h.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(n,e){return S0(n,"POST","/v1/accounts:signUp",tf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Zo._fromIdTokenResponse(e,r,i),a=f4(r);return new od({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=f4(r);return new od({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function f4(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends Du{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,r1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new r1(e,t,r,i)}}function IP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?r1._fromErrorAndOperation(n,s,e,r):s})}async function GF(n,e,t=!1){const r=await Wg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return od._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(n,e,t=!1){const{auth:r}=n;if(mo(r.app))return Promise.reject(cu(r));const i="reauthenticate";try{const s=await Wg(n,IP(r,i,e,n),t);Vt(s.idToken,r,"internal-error");const a=kx(s.idToken);Vt(a,r,"internal-error");const{sub:l}=a;return Vt(n.uid===l,r,"user-mismatch"),od._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&rl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(n,e,t=!1){if(mo(n.app))return Promise.reject(cu(n));const r="signIn",i=await IP(n,r,e),s=await od._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function XF(n,e){return OP(yd(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(n){const e=yd(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QF(n,e,t){if(mo(n.app))return Promise.reject(cu(n));const r=yd(n),a=await X_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$F).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&jP(n),c}),l=await od._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function JF(n,e,t){return mo(n.app)?Promise.reject(cu(n)):XF(bo(n),Kp.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jP(n),r})}function ZF(n,e,t,r){return bo(n).onIdTokenChanged(e,t,r)}function eV(n,e,t){return bo(n).beforeAuthStateChanged(e,t)}function tV(n){return bo(n).signOut()}const i1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(i1,"1"),this.storage.removeItem(i1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=1e3,rV=10;class VP extends FP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);_F()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rV):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},nV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VP.type="LOCAL";const iV=VP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP extends FP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BP.type="SESSION";const UP=BP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new r2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async h=>h(t.origin,s)),c=await sV(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}r2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const h=Mx("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(){return window}function oV(n){ec().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){return typeof ec().WorkerGlobalScope<"u"&&typeof ec().importScripts=="function"}async function lV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cV(){return navigator?.serviceWorker?.controller||null}function uV(){return zP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebaseLocalStorageDb",hV=1,s1="firebaseLocalStorage",qP="fbase_key";class E0{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function i2(n,e){return n.transaction([s1],e?"readwrite":"readonly").objectStore(s1)}function fV(){const n=indexedDB.deleteDatabase(HP);return new E0(n).toPromise()}function Q_(){const n=indexedDB.open(HP,hV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(s1,{keyPath:qP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(s1)?e(r):(r.close(),await fV(),e(await Q_()))})})}async function d4(n,e,t){const r=i2(n,!0).put({[qP]:e,value:t});return new E0(r).toPromise()}async function dV(n,e){const t=i2(n,!1).get(e),r=await new E0(t).toPromise();return r===void 0?null:r.value}function p4(n,e){const t=i2(n,!0).delete(e);return new E0(t).toPromise()}const pV=800,mV=3;class WP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Q_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>mV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=r2._getInstance(uV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lV(),!this.activeServiceWorker)return;this.sender=new aV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Q_();return await d4(e,i1,"1"),await p4(e,i1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>d4(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>dV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>p4(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=i2(i,!1).getAll();return new E0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WP.type="LOCAL";const gV=WP;new x0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n,e){return e?su(e):(Vt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends Px{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _p(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _p(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _p(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vV(n){return OP(n.auth,new Lx(n),n.bypassAuthState)}function bV(n){const{auth:e,user:t}=n;return Vt(t,e,"internal-error"),KF(t,new Lx(n),n.bypassAuthState)}async function wV(n){const{auth:e,user:t}=n;return Vt(t,e,"internal-error"),GF(t,new Lx(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vV;case"linkViaPopup":case"linkViaRedirect":return wV;case"reauthViaPopup":case"reauthViaRedirect":return bV;default:rl(this.auth,"internal-error")}}resolve(e){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new x0(2e3,1e4);class dp extends YP{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,dp.currentPopupAction&&dp.currentPopupAction.cancel(),dp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vt(e,this.auth,"internal-error"),e}async onExecution(){bu(this.filter.length===1,"Popup operations only handle one event");const e=Mx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dp.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_V.get())};e()}}dp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="pendingRedirect",Dv=new Map;class SV extends YP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Dv.get(this.auth._key());if(!e){try{const r=await TV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Dv.set(this.auth._key(),e)}return this.bypassAuthState||Dv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TV(n,e){const t=CV(e),r=AV(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function EV(n,e){Dv.set(n._key(),e)}function AV(n){return su(n._redirectPersistence)}function CV(n){return Cv(xV,n.config.apiKey,n.name)}async function DV(n,e,t=!1){if(mo(n.app))return Promise.reject(cu(n));const r=yd(n),i=yV(r,e),a=await new SV(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=600*1e3;class NV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!$P(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Zl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kV&&this.cachedEventUids.clear(),this.cachedEventUids.has(m4(e))}saveEventToCache(e){this.cachedEventUids.add(m4(e)),this.lastProcessedEventTime=Date.now()}}function m4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $P({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function PV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $P(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(n,e={}){return nf(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LV=/^https?/;async function IV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RV(n);for(const t of e)try{if(OV(t))return}catch{}rl(n,"unauthorized-domain")}function OV(n){const e=G_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!LV.test(t))return!1;if(MV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=new x0(3e4,6e4);function g4(){const n=ec().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FV(n){return new Promise((e,t)=>{function r(){g4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g4(),t(Zl(n,"network-request-failed"))},timeout:jV.get()})}if(ec().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ec().gapi?.load)r();else{const i=NF("iframefcb");return ec()[i]=()=>{gapi.load?r():t(Zl(n,"network-request-failed"))},PP(`${kF()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw kv=null,e})}let kv=null;function VV(n){return kv=kv||FV(n),kv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new x0(5e3,15e3),UV="__/auth/iframe",zV="emulator/auth/iframe",HV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WV(n){const e=n.config;Vt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dx(e,zV):`https://${n.config.authDomain}/${UV}`,r={apiKey:e.apiKey,appName:n.name,v:Gp},i=qV.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${_0(r).slice(1)}`}async function YV(n){const e=await VV(n),t=ec().gapi;return Vt(t,n,"internal-error"),e.open({where:document.body,url:WV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Zl(n,"network-request-failed"),l=ec().setTimeout(()=>{s(a)},BV.get());function c(){ec().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GV=500,KV=600,XV="_blank",QV="http://localhost";class y4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JV(n,e,t,r=GV,i=KV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...$V,width:r.toString(),height:i.toString(),top:s,left:a},h=Ns().toLowerCase();t&&(l=TP(h)?XV:t),xP(h)&&(e=e||QV,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[y,_])=>`${g}${y}=${_},`,"");if(wF(h)&&l!=="_self")return ZV(e||"",l),new y4(null);const p=window.open(e||"",l,d);Vt(p,n,"popup-blocked");try{p.focus()}catch{}return new y4(p)}function ZV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="__/auth/handler",tB="emulator/auth/handler",nB=encodeURIComponent("fac");async function v4(n,e,t,r,i,s){Vt(n.config.authDomain,n,"auth-domain-config-required"),Vt(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Gp,eventId:i};if(e instanceof LP){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",zj(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof T0){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}n.tenantId&&(a.tid=n.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await n._getAppCheckToken(),h=c?`#${nB}=${encodeURIComponent(c)}`:"";return`${rB(n)}?${_0(l).slice(1)}${h}`}function rB({config:n}){return n.emulator?Dx(n,tB):`https://${n.authDomain}/${eB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="webStorageSupport";class iB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UP,this._completeRedirectFn=DV,this._overrideRedirectResult=EV}async _openPopup(e,t,r,i){bu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await v4(e,t,r,G_(),i);return JV(e,s,Mx())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await v4(e,t,r,G_(),i);return oV(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(bu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await YV(e),r=new NV(e);return t.register("authEvent",i=>(Vt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gw,{type:gw},i=>{const s=i?.[0]?.[gw];s!==void 0&&t(!!s),rl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kP()||SP()||Nx()}}const sB=iB;var b4="@firebase/auth",w4="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lB(n){Dp(new sd("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Vt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NP(n)},h=new AF(r,i,s,c);return OF(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dp(new sd("auth-internal",e=>{const t=yd(e.getProvider("auth").getImmediate());return(r=>new aB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mh(b4,w4,oB(n)),Mh(b4,w4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=300,uB=sP("authIdTokenMaxAge")||cB;let _4=null;const hB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uB)return;const i=t?.token;_4!==i&&(_4=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fB(n=hP()){const e=Ax(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IF(n,{popupRedirectResolver:sB,persistence:[gV,iV,UP]}),r=sP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=hB(s.toString());eV(t,a,()=>a(t.currentUser)),ZF(t,l=>a(l))}}const i=rP("auth");return i&&jF(t,`http://${i}`),t}function dB(){return document.getElementsByTagName("head")?.[0]??document}CF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Zl("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",dB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lB("Browser");var pB="firebase",mB="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mh(pB,mB,"app");var x4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lh,GP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,k){function O(){}O.prototype=k.prototype,M.D=k.prototype,M.prototype=new O,M.prototype.constructor=M,M.C=function(H,R,L){for(var V=Array(arguments.length-2),se=2;se<arguments.length;se++)V[se-2]=arguments[se];return k.prototype[R].apply(H,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,k,O){O||(O=0);var H=Array(16);if(typeof k=="string")for(var R=0;16>R;++R)H[R]=k.charCodeAt(O++)|k.charCodeAt(O++)<<8|k.charCodeAt(O++)<<16|k.charCodeAt(O++)<<24;else for(R=0;16>R;++R)H[R]=k[O++]|k[O++]<<8|k[O++]<<16|k[O++]<<24;k=M.g[0],O=M.g[1],R=M.g[2];var L=M.g[3],V=k+(L^O&(R^L))+H[0]+3614090360&4294967295;k=O+(V<<7&4294967295|V>>>25),V=L+(R^k&(O^R))+H[1]+3905402710&4294967295,L=k+(V<<12&4294967295|V>>>20),V=R+(O^L&(k^O))+H[2]+606105819&4294967295,R=L+(V<<17&4294967295|V>>>15),V=O+(k^R&(L^k))+H[3]+3250441966&4294967295,O=R+(V<<22&4294967295|V>>>10),V=k+(L^O&(R^L))+H[4]+4118548399&4294967295,k=O+(V<<7&4294967295|V>>>25),V=L+(R^k&(O^R))+H[5]+1200080426&4294967295,L=k+(V<<12&4294967295|V>>>20),V=R+(O^L&(k^O))+H[6]+2821735955&4294967295,R=L+(V<<17&4294967295|V>>>15),V=O+(k^R&(L^k))+H[7]+4249261313&4294967295,O=R+(V<<22&4294967295|V>>>10),V=k+(L^O&(R^L))+H[8]+1770035416&4294967295,k=O+(V<<7&4294967295|V>>>25),V=L+(R^k&(O^R))+H[9]+2336552879&4294967295,L=k+(V<<12&4294967295|V>>>20),V=R+(O^L&(k^O))+H[10]+4294925233&4294967295,R=L+(V<<17&4294967295|V>>>15),V=O+(k^R&(L^k))+H[11]+2304563134&4294967295,O=R+(V<<22&4294967295|V>>>10),V=k+(L^O&(R^L))+H[12]+1804603682&4294967295,k=O+(V<<7&4294967295|V>>>25),V=L+(R^k&(O^R))+H[13]+4254626195&4294967295,L=k+(V<<12&4294967295|V>>>20),V=R+(O^L&(k^O))+H[14]+2792965006&4294967295,R=L+(V<<17&4294967295|V>>>15),V=O+(k^R&(L^k))+H[15]+1236535329&4294967295,O=R+(V<<22&4294967295|V>>>10),V=k+(R^L&(O^R))+H[1]+4129170786&4294967295,k=O+(V<<5&4294967295|V>>>27),V=L+(O^R&(k^O))+H[6]+3225465664&4294967295,L=k+(V<<9&4294967295|V>>>23),V=R+(k^O&(L^k))+H[11]+643717713&4294967295,R=L+(V<<14&4294967295|V>>>18),V=O+(L^k&(R^L))+H[0]+3921069994&4294967295,O=R+(V<<20&4294967295|V>>>12),V=k+(R^L&(O^R))+H[5]+3593408605&4294967295,k=O+(V<<5&4294967295|V>>>27),V=L+(O^R&(k^O))+H[10]+38016083&4294967295,L=k+(V<<9&4294967295|V>>>23),V=R+(k^O&(L^k))+H[15]+3634488961&4294967295,R=L+(V<<14&4294967295|V>>>18),V=O+(L^k&(R^L))+H[4]+3889429448&4294967295,O=R+(V<<20&4294967295|V>>>12),V=k+(R^L&(O^R))+H[9]+568446438&4294967295,k=O+(V<<5&4294967295|V>>>27),V=L+(O^R&(k^O))+H[14]+3275163606&4294967295,L=k+(V<<9&4294967295|V>>>23),V=R+(k^O&(L^k))+H[3]+4107603335&4294967295,R=L+(V<<14&4294967295|V>>>18),V=O+(L^k&(R^L))+H[8]+1163531501&4294967295,O=R+(V<<20&4294967295|V>>>12),V=k+(R^L&(O^R))+H[13]+2850285829&4294967295,k=O+(V<<5&4294967295|V>>>27),V=L+(O^R&(k^O))+H[2]+4243563512&4294967295,L=k+(V<<9&4294967295|V>>>23),V=R+(k^O&(L^k))+H[7]+1735328473&4294967295,R=L+(V<<14&4294967295|V>>>18),V=O+(L^k&(R^L))+H[12]+2368359562&4294967295,O=R+(V<<20&4294967295|V>>>12),V=k+(O^R^L)+H[5]+4294588738&4294967295,k=O+(V<<4&4294967295|V>>>28),V=L+(k^O^R)+H[8]+2272392833&4294967295,L=k+(V<<11&4294967295|V>>>21),V=R+(L^k^O)+H[11]+1839030562&4294967295,R=L+(V<<16&4294967295|V>>>16),V=O+(R^L^k)+H[14]+4259657740&4294967295,O=R+(V<<23&4294967295|V>>>9),V=k+(O^R^L)+H[1]+2763975236&4294967295,k=O+(V<<4&4294967295|V>>>28),V=L+(k^O^R)+H[4]+1272893353&4294967295,L=k+(V<<11&4294967295|V>>>21),V=R+(L^k^O)+H[7]+4139469664&4294967295,R=L+(V<<16&4294967295|V>>>16),V=O+(R^L^k)+H[10]+3200236656&4294967295,O=R+(V<<23&4294967295|V>>>9),V=k+(O^R^L)+H[13]+681279174&4294967295,k=O+(V<<4&4294967295|V>>>28),V=L+(k^O^R)+H[0]+3936430074&4294967295,L=k+(V<<11&4294967295|V>>>21),V=R+(L^k^O)+H[3]+3572445317&4294967295,R=L+(V<<16&4294967295|V>>>16),V=O+(R^L^k)+H[6]+76029189&4294967295,O=R+(V<<23&4294967295|V>>>9),V=k+(O^R^L)+H[9]+3654602809&4294967295,k=O+(V<<4&4294967295|V>>>28),V=L+(k^O^R)+H[12]+3873151461&4294967295,L=k+(V<<11&4294967295|V>>>21),V=R+(L^k^O)+H[15]+530742520&4294967295,R=L+(V<<16&4294967295|V>>>16),V=O+(R^L^k)+H[2]+3299628645&4294967295,O=R+(V<<23&4294967295|V>>>9),V=k+(R^(O|~L))+H[0]+4096336452&4294967295,k=O+(V<<6&4294967295|V>>>26),V=L+(O^(k|~R))+H[7]+1126891415&4294967295,L=k+(V<<10&4294967295|V>>>22),V=R+(k^(L|~O))+H[14]+2878612391&4294967295,R=L+(V<<15&4294967295|V>>>17),V=O+(L^(R|~k))+H[5]+4237533241&4294967295,O=R+(V<<21&4294967295|V>>>11),V=k+(R^(O|~L))+H[12]+1700485571&4294967295,k=O+(V<<6&4294967295|V>>>26),V=L+(O^(k|~R))+H[3]+2399980690&4294967295,L=k+(V<<10&4294967295|V>>>22),V=R+(k^(L|~O))+H[10]+4293915773&4294967295,R=L+(V<<15&4294967295|V>>>17),V=O+(L^(R|~k))+H[1]+2240044497&4294967295,O=R+(V<<21&4294967295|V>>>11),V=k+(R^(O|~L))+H[8]+1873313359&4294967295,k=O+(V<<6&4294967295|V>>>26),V=L+(O^(k|~R))+H[15]+4264355552&4294967295,L=k+(V<<10&4294967295|V>>>22),V=R+(k^(L|~O))+H[6]+2734768916&4294967295,R=L+(V<<15&4294967295|V>>>17),V=O+(L^(R|~k))+H[13]+1309151649&4294967295,O=R+(V<<21&4294967295|V>>>11),V=k+(R^(O|~L))+H[4]+4149444226&4294967295,k=O+(V<<6&4294967295|V>>>26),V=L+(O^(k|~R))+H[11]+3174756917&4294967295,L=k+(V<<10&4294967295|V>>>22),V=R+(k^(L|~O))+H[2]+718787259&4294967295,R=L+(V<<15&4294967295|V>>>17),V=O+(L^(R|~k))+H[9]+3951481745&4294967295,M.g[0]=M.g[0]+k&4294967295,M.g[1]=M.g[1]+(R+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+R&4294967295,M.g[3]=M.g[3]+L&4294967295}r.prototype.u=function(M,k){k===void 0&&(k=M.length);for(var O=k-this.blockSize,H=this.B,R=this.h,L=0;L<k;){if(R==0)for(;L<=O;)i(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<k;)if(H[R++]=M.charCodeAt(L++),R==this.blockSize){i(this,H),R=0;break}}else for(;L<k;)if(H[R++]=M[L++],R==this.blockSize){i(this,H),R=0;break}}this.h=R,this.o+=k},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var k=1;k<M.length-8;++k)M[k]=0;var O=8*this.o;for(k=M.length-8;k<M.length;++k)M[k]=O&255,O/=256;for(this.u(M),M=Array(16),k=O=0;4>k;++k)for(var H=0;32>H;H+=8)M[O++]=this.g[k]>>>H&255;return M};function s(M,k){var O=l;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=k(M)}function a(M,k){this.h=k;for(var O=[],H=!0,R=M.length-1;0<=R;R--){var L=M[R]|0;H&&L==k||(O[R]=L,H=!1)}this.g=O}var l={};function c(M){return-128<=M&&128>M?s(M,function(k){return new a([k|0],0>k?-1:0)}):new a([M|0],0>M?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return p;if(0>M)return T(h(-M));for(var k=[],O=1,H=0;M>=O;H++)k[H]=M/O|0,O*=4294967296;return new a(k,0)}function d(M,k){if(M.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M.charAt(0)=="-")return T(d(M.substring(1),k));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(k,8)),H=p,R=0;R<M.length;R+=8){var L=Math.min(8,M.length-R),V=parseInt(M.substring(R,R+L),k);8>L?(L=h(Math.pow(k,L)),H=H.j(L).add(h(V))):(H=H.j(O),H=H.add(h(V)))}return H}var p=c(0),g=c(1),y=c(16777216);n=a.prototype,n.m=function(){if(S(this))return-T(this).m();for(var M=0,k=1,O=0;O<this.g.length;O++){var H=this.i(O);M+=(0<=H?H:4294967296+H)*k,k*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(_(this))return"0";if(S(this))return"-"+T(this).toString(M);for(var k=h(Math.pow(M,6)),O=this,H="";;){var R=j(O,k).g;O=E(O,R.j(k));var L=((0<O.g.length?O.g[0]:O.h)>>>0).toString(M);if(O=R,_(O))return L+H;for(;6>L.length;)L="0"+L;H=L+H}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function _(M){if(M.h!=0)return!1;for(var k=0;k<M.g.length;k++)if(M.g[k]!=0)return!1;return!0}function S(M){return M.h==-1}n.l=function(M){return M=E(this,M),S(M)?-1:_(M)?0:1};function T(M){for(var k=M.g.length,O=[],H=0;H<k;H++)O[H]=~M.g[H];return new a(O,~M.h).add(g)}n.abs=function(){return S(this)?T(this):this},n.add=function(M){for(var k=Math.max(this.g.length,M.g.length),O=[],H=0,R=0;R<=k;R++){var L=H+(this.i(R)&65535)+(M.i(R)&65535),V=(L>>>16)+(this.i(R)>>>16)+(M.i(R)>>>16);H=V>>>16,L&=65535,V&=65535,O[R]=V<<16|L}return new a(O,O[O.length-1]&-2147483648?-1:0)};function E(M,k){return M.add(T(k))}n.j=function(M){if(_(this)||_(M))return p;if(S(this))return S(M)?T(this).j(T(M)):T(T(this).j(M));if(S(M))return T(this.j(T(M)));if(0>this.l(y)&&0>M.l(y))return h(this.m()*M.m());for(var k=this.g.length+M.g.length,O=[],H=0;H<2*k;H++)O[H]=0;for(H=0;H<this.g.length;H++)for(var R=0;R<M.g.length;R++){var L=this.i(H)>>>16,V=this.i(H)&65535,se=M.i(R)>>>16,pe=M.i(R)&65535;O[2*H+2*R]+=V*pe,A(O,2*H+2*R),O[2*H+2*R+1]+=L*pe,A(O,2*H+2*R+1),O[2*H+2*R+1]+=V*se,A(O,2*H+2*R+1),O[2*H+2*R+2]+=L*se,A(O,2*H+2*R+2)}for(H=0;H<k;H++)O[H]=O[2*H+1]<<16|O[2*H];for(H=k;H<2*k;H++)O[H]=0;return new a(O,0)};function A(M,k){for(;(M[k]&65535)!=M[k];)M[k+1]+=M[k]>>>16,M[k]&=65535,k++}function N(M,k){this.g=M,this.h=k}function j(M,k){if(_(k))throw Error("division by zero");if(_(M))return new N(p,p);if(S(M))return k=j(T(M),k),new N(T(k.g),T(k.h));if(S(k))return k=j(M,T(k)),new N(T(k.g),k.h);if(30<M.g.length){if(S(M)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var O=g,H=k;0>=H.l(M);)O=U(O),H=U(H);var R=K(O,1),L=K(H,1);for(H=K(H,2),O=K(O,2);!_(H);){var V=L.add(H);0>=V.l(M)&&(R=R.add(O),L=V),H=K(H,1),O=K(O,1)}return k=E(M,R.j(k)),new N(R,k)}for(R=p;0<=M.l(k);){for(O=Math.max(1,Math.floor(M.m()/k.m())),H=Math.ceil(Math.log(O)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),L=h(O),V=L.j(k);S(V)||0<V.l(M);)O-=H,L=h(O),V=L.j(k);_(L)&&(L=g),R=R.add(L),M=E(M,V)}return new N(R,M)}n.A=function(M){return j(this,M).h},n.and=function(M){for(var k=Math.max(this.g.length,M.g.length),O=[],H=0;H<k;H++)O[H]=this.i(H)&M.i(H);return new a(O,this.h&M.h)},n.or=function(M){for(var k=Math.max(this.g.length,M.g.length),O=[],H=0;H<k;H++)O[H]=this.i(H)|M.i(H);return new a(O,this.h|M.h)},n.xor=function(M){for(var k=Math.max(this.g.length,M.g.length),O=[],H=0;H<k;H++)O[H]=this.i(H)^M.i(H);return new a(O,this.h^M.h)};function U(M){for(var k=M.g.length+1,O=[],H=0;H<k;H++)O[H]=M.i(H)<<1|M.i(H-1)>>>31;return new a(O,M.h)}function K(M,k){var O=k>>5;k%=32;for(var H=M.g.length-O,R=[],L=0;L<H;L++)R[L]=0<k?M.i(L+O)>>>k|M.i(L+O+1)<<32-k:M.i(L+O);return new a(R,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GP=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Lh=a}).apply(typeof x4<"u"?x4:typeof self<"u"?self:typeof window<"u"?window:{});var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KP,cg,XP,Nv,J_,QP,JP,ZP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,I,Y){return b==Array.prototype||b==Object.prototype||(b[I]=Y.value),b};function t(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hy=="object"&&Hy];for(var I=0;I<b.length;++I){var Y=b[I];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=t(this);function i(b,I){if(I)e:{var Y=r;b=b.split(".");for(var ce=0;ce<b.length-1;ce++){var Ce=b[ce];if(!(Ce in Y))break e;Y=Y[Ce]}b=b[b.length-1],ce=Y[b],I=I(ce),I!=ce&&I!=null&&e(Y,b,{configurable:!0,writable:!0,value:I})}}function s(b,I){b instanceof String&&(b+="");var Y=0,ce=!1,Ce={next:function(){if(!ce&&Y<b.length){var Le=Y++;return{value:I(Le,b[Le]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return Ce[Symbol.iterator]=function(){return Ce},Ce}i("Array.prototype.values",function(b){return b||function(){return s(this,function(I,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(b){var I=typeof b;return I=I!="object"?I:b?Array.isArray(b)?"array":I:"null",I=="array"||I=="object"&&typeof b.length=="number"}function h(b){var I=typeof b;return I=="object"&&b!=null||I=="function"}function d(b,I,Y){return b.call.apply(b.bind,arguments)}function p(b,I,Y){if(!b)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var Ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ce,ce),b.apply(I,Ce)}}return function(){return b.apply(I,arguments)}}function g(b,I,Y){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function y(b,I){var Y=Array.prototype.slice.call(arguments,1);return function(){var ce=Y.slice();return ce.push.apply(ce,arguments),b.apply(this,ce)}}function _(b,I){function Y(){}Y.prototype=I.prototype,b.aa=I.prototype,b.prototype=new Y,b.prototype.constructor=b,b.Qb=function(ce,Ce,Le){for(var Je=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)Je[Mt-2]=arguments[Mt];return I.prototype[Ce].apply(ce,Je)}}function S(b){const I=b.length;if(0<I){const Y=Array(I);for(let ce=0;ce<I;ce++)Y[ce]=b[ce];return Y}return[]}function T(b,I){for(let Y=1;Y<arguments.length;Y++){const ce=arguments[Y];if(c(ce)){const Ce=b.length||0,Le=ce.length||0;b.length=Ce+Le;for(let Je=0;Je<Le;Je++)b[Ce+Je]=ce[Je]}else b.push(ce)}}class E{constructor(I,Y){this.i=I,this.j=Y,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function A(b){return/^[\s\xa0]*$/.test(b)}function N(){var b=l.navigator;return b&&(b=b.userAgent)?b:""}function j(b){return j[" "](b),b}j[" "]=function(){};var U=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function K(b,I,Y){for(const ce in b)I.call(Y,b[ce],ce,b)}function M(b,I){for(const Y in b)I.call(void 0,b[Y],Y,b)}function k(b){const I={};for(const Y in b)I[Y]=b[Y];return I}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(b,I){let Y,ce;for(let Ce=1;Ce<arguments.length;Ce++){ce=arguments[Ce];for(Y in ce)b[Y]=ce[Y];for(let Le=0;Le<O.length;Le++)Y=O[Le],Object.prototype.hasOwnProperty.call(ce,Y)&&(b[Y]=ce[Y])}}function R(b){var I=1;b=b.split(":");const Y=[];for(;0<I&&b.length;)Y.push(b.shift()),I--;return b.length&&Y.push(b.join(":")),Y}function L(b){l.setTimeout(()=>{throw b},0)}function V(){var b=J;let I=null;return b.g&&(I=b.g,b.g=b.g.next,b.g||(b.h=null),I.next=null),I}class se{constructor(){this.h=this.g=null}add(I,Y){const ce=pe.get();ce.set(I,Y),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var pe=new E(()=>new G,b=>b.reset());class G{constructor(){this.next=this.g=this.h=null}set(I,Y){this.h=I,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,re=!1,J=new se,q=()=>{const b=l.Promise.resolve(void 0);Q=()=>{b.then(oe)}};var oe=()=>{for(var b;b=V();){try{b.h.call(b.g)}catch(Y){L(Y)}var I=pe;I.j(b),100>I.h&&(I.h++,b.next=I.g,I.g=b)}re=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(b,I){this.type=b,this.g=this.target=I,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var te=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var b=!1,I=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const Y=()=>{};l.addEventListener("test",Y,I),l.removeEventListener("test",Y,I)}catch{}return b})();function ae(b,I){if(W.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var Y=this.type=b.type,ce=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=I,I=b.relatedTarget){if(U){e:{try{j(I.nodeName);var Ce=!0;break e}catch{}Ce=!1}Ce||(I=null)}}else Y=="mouseover"?I=b.fromElement:Y=="mouseout"&&(I=b.toElement);this.relatedTarget=I,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:fe[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&ae.aa.h.call(this)}}_(ae,W);var fe={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),ve=0;function be(b,I,Y,ce,Ce){this.listener=b,this.proxy=null,this.src=I,this.type=Y,this.capture=!!ce,this.ha=Ce,this.key=++ve,this.da=this.fa=!1}function je(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Be(b){this.src=b,this.g={},this.h=0}Be.prototype.add=function(b,I,Y,ce,Ce){var Le=b.toString();b=this.g[Le],b||(b=this.g[Le]=[],this.h++);var Je=tt(b,I,ce,Ce);return-1<Je?(I=b[Je],Y||(I.fa=!1)):(I=new be(I,this.src,Le,!!ce,Ce),I.fa=Y,b.push(I)),I};function Ze(b,I){var Y=I.type;if(Y in b.g){var ce=b.g[Y],Ce=Array.prototype.indexOf.call(ce,I,void 0),Le;(Le=0<=Ce)&&Array.prototype.splice.call(ce,Ce,1),Le&&(je(I),b.g[Y].length==0&&(delete b.g[Y],b.h--))}}function tt(b,I,Y,ce){for(var Ce=0;Ce<b.length;++Ce){var Le=b[Ce];if(!Le.da&&Le.listener==I&&Le.capture==!!Y&&Le.ha==ce)return Ce}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),Ue={};function ge(b,I,Y,ce,Ce){if(Array.isArray(I)){for(var Le=0;Le<I.length;Le++)ge(b,I[Le],Y,ce,Ce);return null}return Y=Ht(Y),b&&b[_e]?b.K(I,Y,h(ce)?!!ce.capture:!1,Ce):Tt(b,I,Y,!1,ce,Ce)}function Tt(b,I,Y,ce,Ce,Le){if(!I)throw Error("Invalid event type");var Je=h(Ce)?!!Ce.capture:!!Ce,Mt=_t(b);if(Mt||(b[pt]=Mt=new Be(b)),Y=Mt.add(I,Y,ce,Je,Le),Y.proxy)return Y;if(ce=yt(),Y.proxy=ce,ce.src=b,ce.listener=Y,b.addEventListener)te||(Ce=Je),Ce===void 0&&(Ce=!1),b.addEventListener(I.toString(),ce,Ce);else if(b.attachEvent)b.attachEvent(ot(I.toString()),ce);else if(b.addListener&&b.removeListener)b.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function yt(){function b(Y){return I.call(b.src,b.listener,Y)}const I=lt;return b}function nt(b,I,Y,ce,Ce){if(Array.isArray(I))for(var Le=0;Le<I.length;Le++)nt(b,I[Le],Y,ce,Ce);else ce=h(ce)?!!ce.capture:!!ce,Y=Ht(Y),b&&b[_e]?(b=b.i,I=String(I).toString(),I in b.g&&(Le=b.g[I],Y=tt(Le,Y,ce,Ce),-1<Y&&(je(Le[Y]),Array.prototype.splice.call(Le,Y,1),Le.length==0&&(delete b.g[I],b.h--)))):b&&(b=_t(b))&&(I=b.g[I.toString()],b=-1,I&&(b=tt(I,Y,ce,Ce)),(Y=-1<b?I[b]:null)&&rt(Y))}function rt(b){if(typeof b!="number"&&b&&!b.da){var I=b.src;if(I&&I[_e])Ze(I.i,b);else{var Y=b.type,ce=b.proxy;I.removeEventListener?I.removeEventListener(Y,ce,b.capture):I.detachEvent?I.detachEvent(ot(Y),ce):I.addListener&&I.removeListener&&I.removeListener(ce),(Y=_t(I))?(Ze(Y,b),Y.h==0&&(Y.src=null,I[pt]=null)):je(b)}}}function ot(b){return b in Ue?Ue[b]:Ue[b]="on"+b}function lt(b,I){if(b.da)b=!0;else{I=new ae(I,this);var Y=b.listener,ce=b.ha||b.src;b.fa&&rt(b),b=Y.call(ce,I)}return b}function _t(b){return b=b[pt],b instanceof Be?b:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ht(b){return typeof b=="function"?b:(b[It]||(b[It]=function(I){return b.handleEvent(I)}),b[It])}function xt(){F.call(this),this.i=new Be(this),this.M=this,this.F=null}_(xt,F),xt.prototype[_e]=!0,xt.prototype.removeEventListener=function(b,I,Y,ce){nt(this,b,I,Y,ce)};function wt(b,I){var Y,ce=b.F;if(ce)for(Y=[];ce;ce=ce.F)Y.push(ce);if(b=b.M,ce=I.type||I,typeof I=="string")I=new W(I,b);else if(I instanceof W)I.target=I.target||b;else{var Ce=I;I=new W(ce,b),H(I,Ce)}if(Ce=!0,Y)for(var Le=Y.length-1;0<=Le;Le--){var Je=I.g=Y[Le];Ce=Kt(Je,ce,!0,I)&&Ce}if(Je=I.g=b,Ce=Kt(Je,ce,!0,I)&&Ce,Ce=Kt(Je,ce,!1,I)&&Ce,Y)for(Le=0;Le<Y.length;Le++)Je=I.g=Y[Le],Ce=Kt(Je,ce,!1,I)&&Ce}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var b=this.i,I;for(I in b.g){for(var Y=b.g[I],ce=0;ce<Y.length;ce++)je(Y[ce]);delete b.g[I],b.h--}}this.F=null},xt.prototype.K=function(b,I,Y,ce){return this.i.add(String(b),I,!1,Y,ce)},xt.prototype.L=function(b,I,Y,ce){return this.i.add(String(b),I,!0,Y,ce)};function Kt(b,I,Y,ce){if(I=b.i.g[String(I)],!I)return!0;I=I.concat();for(var Ce=!0,Le=0;Le<I.length;++Le){var Je=I[Le];if(Je&&!Je.da&&Je.capture==Y){var Mt=Je.listener,on=Je.ha||Je.src;Je.fa&&Ze(b.i,Je),Ce=Mt.call(on,ce)!==!1&&Ce}}return Ce&&!ce.defaultPrevented}function vt(b,I,Y){if(typeof b=="function")Y&&(b=g(b,Y));else if(b&&typeof b.handleEvent=="function")b=g(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:l.setTimeout(b,I||0)}function Xt(b){b.g=vt(()=>{b.g=null,b.i&&(b.i=!1,Xt(b))},b.l);const I=b.h;b.h=null,b.m.apply(null,I)}class ut extends F{constructor(I,Y){super(),this.m=I,this.l=Y,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Xt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(b){F.call(this),this.h=b,this.g={}}_(vr,F);var Zt=[];function xi(b){K(b.g,function(I,Y){this.g.hasOwnProperty(Y)&&rt(I)},b),b.g={}}vr.prototype.N=function(){vr.aa.N.call(this),xi(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tn=l.JSON.stringify,Ln=l.JSON.parse,Li=class{stringify(b){return l.JSON.stringify(b,void 0)}parse(b){return l.JSON.parse(b,void 0)}};function hn(){}hn.prototype.h=null;function fa(b){return b.h||(b.h=b.i())}function Xn(){}var Gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){W.call(this,"d")}_(Si,W);function Qn(){W.call(this,"c")}_(Qn,W);var Dt={},fn=null;function as(){return fn=fn||new xt}Dt.La="serverreachability";function br(b){W.call(this,Dt.La,b)}_(br,W);function Ti(b){const I=as();wt(I,new br(I))}Dt.STAT_EVENT="statevent";function Ps(b,I){W.call(this,Dt.STAT_EVENT,b),this.stat=I}_(Ps,W);function ht(b){const I=as();wt(I,new Ps(I,b))}Dt.Ma="timingevent";function In(b,I){W.call(this,Dt.Ma,b),this.size=I}_(In,W);function On(b,I){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){b()},I)}function ir(){this.g=!0}ir.prototype.xa=function(){this.g=!1};function hr(b,I,Y,ce,Ce,Le){b.info(function(){if(b.g)if(Le)for(var Je="",Mt=Le.split("&"),on=0;on<Mt.length;on++){var qt=Mt[on].split("=");if(1<qt.length){var kn=qt[0];qt=qt[1];var Fn=kn.split("_");Je=2<=Fn.length&&Fn[1]=="type"?Je+(kn+"="+qt+"&"):Je+(kn+"=redacted&")}}else Je=null;else Je=Le;return"XMLHTTP REQ ("+ce+") [attempt "+Ce+"]: "+I+`
`+Y+`
`+Je})}function wr(b,I,Y,ce,Ce,Le,Je){b.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+Ce+"]: "+I+`
`+Y+`
`+Le+" "+Je})}function jr(b,I,Y,ce){b.info(function(){return"XMLHTTP TEXT ("+I+"): "+$i(b,Y)+(ce?" "+ce:"")})}function So(b,I){b.info(function(){return"TIMEOUT: "+I})}ir.prototype.info=function(){};function $i(b,I){if(!b.g)return I;if(!I)return null;try{var Y=JSON.parse(I);if(Y){for(b=0;b<Y.length;b++)if(Array.isArray(Y[b])){var ce=Y[b];if(!(2>ce.length)){var Ce=ce[1];if(Array.isArray(Ce)&&!(1>Ce.length)){var Le=Ce[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(var Je=1;Je<Ce.length;Je++)Ce[Je]=""}}}}return tn(Y)}catch{return I}}var fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function Xr(){}_(Xr,hn),Xr.prototype.g=function(){return new XMLHttpRequest},Xr.prototype.i=function(){return{}},Fr=new Xr;function Jn(b,I,Y,ce){this.j=b,this.i=I,this.l=Y,this.R=ce||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cn}function Cn(){this.i=null,this.g="",this.h=!1}var da={},pa={};function Ii(b,I,Y){b.L=1,b.v=Ba(Ai(I)),b.m=Y,b.P=!0,os(b,null)}function os(b,I){b.F=Date.now(),Eo(b),b.A=Ai(b.v);var Y=b.A,ce=b.R;Array.isArray(ce)||(ce=[String(ce)]),Rt(Y.i,"t",ce),b.C=0,Y=b.j.J,b.h=new Cn,b.g=ee(b.j,Y?I:null,!b.m),0<b.O&&(b.M=new ut(g(b.Y,b,b.g),b.O)),I=b.U,Y=b.g,ce=b.ca;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&(Zt[0]=Ce.toString()),Ce=Zt);for(var Le=0;Le<Ce.length;Le++){var Je=ge(Y,Ce[Le],ce||I.handleEvent,!1,I.h||I);if(!Je)break;I.g[Je.key]=Je}I=b.H?k(b.H):{},b.m?(b.u||(b.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,I)):(b.u="GET",b.g.ea(b.A,b.u,null,I)),Ti(),hr(b.i,b.u,b.A,b.l,b.R,b.m)}Jn.prototype.ca=function(b){b=b.target;const I=this.M;I&&Br(b)==3?I.j():this.Y(b)},Jn.prototype.Y=function(b){try{if(b==this.g)e:{const Fn=Br(this.g);var I=this.g.Ba();const Xs=this.g.Z();if(!(3>Fn)&&(Fn!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||Fn!=4||I==7||(I==8||0>=Xs?Ti(3):Ti(2)),Rs(this);var Y=this.g.Z();this.X=Y;t:if(To(this)){var ce=Ou(this.g);b="";var Ce=ce.length,Le=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),Ms(this);var Je="";break t}this.h.i=new l.TextDecoder}for(I=0;I<Ce;I++)this.h.h=!0,b+=this.h.i.decode(ce[I],{stream:!(Le&&I==Ce-1)});ce.length=0,this.h.g+=b,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=Y==200,wr(this.i,this.u,this.A,this.l,this.R,Fn,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Mt,on=this.g;if((Mt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Mt)){var qt=Mt;break t}}qt=null}if(Y=qt)jr(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ma(this,Y);else{this.o=!1,this.s=3,ht(12),Qr(this),Ms(this);break e}}if(this.P){Y=!0;let Cr;for(;!this.J&&this.C<Je.length;)if(Cr=_c(this,Je),Cr==pa){Fn==4&&(this.s=4,ht(14),Y=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==da){this.s=4,ht(15),jr(this.i,this.l,Je,"[Invalid Chunk]"),Y=!1;break}else jr(this.i,this.l,Cr,null),ma(this,Cr);if(To(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fn!=4||Je.length!=0||this.h.h||(this.s=1,ht(16),Y=!1),this.o=this.o&&Y,!Y)jr(this.i,this.l,Je,"[Invalid Chunked Response]"),Qr(this),Ms(this);else if(0<Je.length&&!this.W){this.W=!0;var kn=this.j;kn.g==this&&kn.ba&&!kn.M&&(kn.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),Ya(kn),kn.M=!0,ht(11))}}else jr(this.i,this.l,Je,null),ma(this,Je);Fn==4&&Qr(this),this.o&&!this.J&&(Fn==4?$a(this.j,this):(this.o=!1,Eo(this)))}else Ha(this.g),Y==400&&0<Je.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Qr(this),Ms(this)}}}catch{}finally{}};function To(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function _c(b,I){var Y=b.C,ce=I.indexOf(`
`,Y);return ce==-1?pa:(Y=Number(I.substring(Y,ce)),isNaN(Y)?da:(ce+=1,ce+Y>I.length?pa:(I=I.slice(ce,ce+Y),b.C=ce+Y,I)))}Jn.prototype.cancel=function(){this.J=!0,Qr(this)};function Eo(b){b.S=Date.now()+b.I,Pu(b,b.I)}function Pu(b,I){if(b.B!=null)throw Error("WatchDog timer not null");b.B=On(g(b.ba,b),I)}function Rs(b){b.B&&(l.clearTimeout(b.B),b.B=null)}Jn.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(So(this.i,this.A),this.L!=2&&(Ti(),ht(17)),Qr(this),this.s=2,Ms(this)):Pu(this,this.S-b)};function Ms(b){b.j.G==0||b.J||$a(b.j,b)}function Qr(b){Rs(b);var I=b.M;I&&typeof I.ma=="function"&&I.ma(),b.M=null,xi(b.U),b.g&&(I=b.g,b.g=null,I.abort(),I.ma())}function ma(b,I){try{var Y=b.j;if(Y.G!=0&&(Y.g==b||xc(Y.h,b))){if(!b.K&&xc(Y.h,b)&&Y.G==3){try{var ce=Y.Da.g.parse(I)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var Ce=ce;if(Ce[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<b.F)Sa(Y),fl(Y);else break e;Po(Y),ht(18)}}else Y.za=Ce[1],0<Y.za-Y.T&&37500>Ce[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=On(g(Y.Za,Y),6e3));if(1>=ga(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Vi(Y,11)}else if((b.K||Y.g==b)&&Sa(Y),!A(I))for(Ce=Y.Da.g.parse(I),I=0;I<Ce.length;I++){let qt=Ce[I];if(Y.T=qt[0],qt=qt[1],Y.G==2)if(qt[0]=="c"){Y.K=qt[1],Y.ia=qt[2];const kn=qt[3];kn!=null&&(Y.la=kn,Y.j.info("VER="+Y.la));const Fn=qt[4];Fn!=null&&(Y.Aa=Fn,Y.j.info("SVER="+Y.Aa));const Xs=qt[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(ce=1.5*Xs,Y.L=ce,Y.j.info("backChannelRequestTimeoutMs_="+ce)),ce=Y;const Cr=b.g;if(Cr){const fs=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var Le=ce.h;Le.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(Zn(Le,Le.h),Le.h=null))}if(ce.D){const Ga=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(ce.ya=Ga,Dn(ce.I,ce.D,Ga))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-b.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ce=Y;var Je=b;if(ce.qa=D(ce,ce.J?ce.ia:null,ce.W),Je.K){di(ce.h,Je);var Mt=Je,on=ce.L;on&&(Mt.I=on),Mt.B&&(Rs(Mt),Eo(Mt)),ce.g=Je}else pl(ce);0<Y.i.length&&dl(Y)}else qt[0]!="stop"&&qt[0]!="close"||Vi(Y,7);else Y.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Vi(Y,7):xa(Y):qt[0]!="noop"&&Y.l&&Y.l.ta(qt),Y.v=0)}}Ti(4)}catch{}}var Ru=class{constructor(b,I){this.g=b,this.map=I}};function zs(b){this.l=b||10,l.PerformanceNavigationTiming?(b=l.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ll(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ga(b){return b.h?1:b.g?b.g.size:0}function xc(b,I){return b.h?b.h==I:b.g?b.g.has(I):!1}function Zn(b,I){b.g?b.g.add(I):b.h=I}function di(b,I){b.h&&b.h==I?b.h=null:b.g&&b.g.has(I)&&b.g.delete(I)}zs.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function cl(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let I=b.i;for(const Y of b.g.values())I=I.concat(Y.D);return I}return S(b.i)}function Mu(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(c(b)){for(var I=[],Y=b.length,ce=0;ce<Y;ce++)I.push(b[ce]);return I}I=[],Y=0;for(ce in b)I[Y++]=b[ce];return I}function ja(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(c(b)||typeof b=="string"){var I=[];b=b.length;for(var Y=0;Y<b;Y++)I.push(Y);return I}I=[],Y=0;for(const ce in b)I[Y++]=ce;return I}}}function Sc(b,I){if(b.forEach&&typeof b.forEach=="function")b.forEach(I,void 0);else if(c(b)||typeof b=="string")Array.prototype.forEach.call(b,I,void 0);else for(var Y=ja(b),ce=Mu(b),Ce=ce.length,Le=0;Le<Ce;Le++)I.call(void 0,ce[Le],Y&&Y[Le],b)}var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ul(b,I){if(b){b=b.split("&");for(var Y=0;Y<b.length;Y++){var ce=b[Y].indexOf("="),Ce=null;if(0<=ce){var Le=b[Y].substring(0,ce);Ce=b[Y].substring(ce+1)}else Le=b[Y];I(Le,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function vn(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof vn){this.h=b.h,Fa(this,b.j),this.o=b.o,this.g=b.g,Va(this,b.s),this.l=b.l;var I=b.i,Y=new qs;Y.i=I.i,I.g&&(Y.g=new Map(I.g),Y.h=I.h),Hs(this,Y),this.m=b.m}else b&&(I=String(b).match(Ei))?(this.h=!1,Fa(this,I[1]||"",!0),this.o=ls(I[2]||""),this.g=ls(I[3]||"",!0),Va(this,I[4]),this.l=ls(I[5]||"",!0),Hs(this,I[6]||"",!0),this.m=ls(I[7]||"")):(this.h=!1,this.i=new qs(null,this.h))}vn.prototype.toString=function(){var b=[],I=this.j;I&&b.push(ya(I,Tc,!0),":");var Y=this.g;return(Y||I=="file")&&(b.push("//"),(I=this.o)&&b.push(ya(I,Tc,!0),"@"),b.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&b.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&b.push("/"),b.push(ya(Y,Y.charAt(0)=="/"?va:Ec,!0))),(Y=this.i.toString())&&b.push("?",Y),(Y=this.m)&&b.push("#",ya(Y,ba)),b.join("")};function Ai(b){return new vn(b)}function Fa(b,I,Y){b.j=Y?ls(I,!0):I,b.j&&(b.j=b.j.replace(/:$/,""))}function Va(b,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);b.s=I}else b.s=null}function Hs(b,I,Y){I instanceof qs?(b.i=I,Iu(b.i,b.h)):(Y||(I=ya(I,hl)),b.i=new qs(I,b.h))}function Dn(b,I,Y){b.i.set(I,Y)}function Ba(b){return Dn(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function ls(b,I){return b?I?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function ya(b,I,Y){return typeof b=="string"?(b=encodeURI(b).replace(I,Lu),Y&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Lu(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Tc=/[#\/\?@]/g,Ec=/[#\?:]/g,va=/[#\?]/g,hl=/[#\?@]/g,ba=/#/g;function qs(b,I){this.h=this.g=null,this.i=b||null,this.j=!!I}function zn(b){b.g||(b.g=new Map,b.h=0,b.i&&ul(b.i,function(I,Y){b.add(decodeURIComponent(I.replace(/\+/g," ")),Y)}))}n=qs.prototype,n.add=function(b,I){zn(this),this.i=null,b=Ys(this,b);var Y=this.g.get(b);return Y||this.g.set(b,Y=[]),Y.push(I),this.h+=1,this};function wa(b,I){zn(b),I=Ys(b,I),b.g.has(I)&&(b.i=null,b.h-=b.g.get(I).length,b.g.delete(I))}function Ws(b,I){return zn(b),I=Ys(b,I),b.g.has(I)}n.forEach=function(b,I){zn(this),this.g.forEach(function(Y,ce){Y.forEach(function(Ce){b.call(I,Ce,ce,this)},this)},this)},n.na=function(){zn(this);const b=Array.from(this.g.values()),I=Array.from(this.g.keys()),Y=[];for(let ce=0;ce<I.length;ce++){const Ce=b[ce];for(let Le=0;Le<Ce.length;Le++)Y.push(I[ce])}return Y},n.V=function(b){zn(this);let I=[];if(typeof b=="string")Ws(this,b)&&(I=I.concat(this.g.get(Ys(this,b))));else{b=Array.from(this.g.values());for(let Y=0;Y<b.length;Y++)I=I.concat(b[Y])}return I},n.set=function(b,I){return zn(this),this.i=null,b=Ys(this,b),Ws(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[I]),this.h+=1,this},n.get=function(b,I){return b?(b=this.V(b),0<b.length?String(b[0]):I):I};function Rt(b,I,Y){wa(b,I),0<Y.length&&(b.i=null,b.g.set(Ys(b,I),S(Y)),b.h+=Y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],I=Array.from(this.g.keys());for(var Y=0;Y<I.length;Y++){var ce=I[Y];const Le=encodeURIComponent(String(ce)),Je=this.V(ce);for(ce=0;ce<Je.length;ce++){var Ce=Le;Je[ce]!==""&&(Ce+="="+encodeURIComponent(String(Je[ce]))),b.push(Ce)}}return this.i=b.join("&")};function Ys(b,I){return I=String(I),b.j&&(I=I.toLowerCase()),I}function Iu(b,I){I&&!b.j&&(zn(b),b.i=null,b.g.forEach(function(Y,ce){var Ce=ce.toLowerCase();ce!=Ce&&(wa(this,ce),Rt(this,Ce,Y))},b)),b.j=I}function Oi(b,I){const Y=new ir;if(l.Image){const ce=new Image;ce.onload=y(Gi,Y,"TestLoadImage: loaded",!0,I,ce),ce.onerror=y(Gi,Y,"TestLoadImage: error",!1,I,ce),ce.onabort=y(Gi,Y,"TestLoadImage: abort",!1,I,ce),ce.ontimeout=y(Gi,Y,"TestLoadImage: timeout",!1,I,ce),l.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=b}else I(!1)}function cs(b,I){const Y=new ir,ce=new AbortController,Ce=setTimeout(()=>{ce.abort(),Gi(Y,"TestPingServer: timeout",!1,I)},1e4);fetch(b,{signal:ce.signal}).then(Le=>{clearTimeout(Ce),Le.ok?Gi(Y,"TestPingServer: ok",!0,I):Gi(Y,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Ce),Gi(Y,"TestPingServer: error",!1,I)})}function Gi(b,I,Y,ce,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),ce(Y)}catch{}}function $s(){this.g=new Li}function us(b,I,Y){const ce=Y||"";try{Sc(b,function(Ce,Le){let Je=Ce;h(Ce)&&(Je=tn(Ce)),I.push(ce+Le+"="+encodeURIComponent(Je))})}catch(Ce){throw I.push(ce+"type="+encodeURIComponent("_badmap")),Ce}}function Ua(b){this.l=b.Ub||null,this.j=b.eb||!1}_(Ua,hn),Ua.prototype.g=function(){return new _a(this.l,this.j)},Ua.prototype.i=(function(b){return function(){return b}})({});function _a(b,I){xt.call(this),this.D=b,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(_a,xt),n=_a.prototype,n.open=function(b,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=I,this.readyState=1,ji(this)},n.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(I.body=b),(this.D||l).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},n.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ac(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ac(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}n.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var I=b.value?b.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!b.done}))&&(this.response=this.responseText+=I)}b.done?hs(this):ji(this),this.readyState==3&&Ac(this)}},n.Ra=function(b){this.g&&(this.response=this.responseText=b,hs(this))},n.Qa=function(b){this.g&&(this.response=b,hs(this))},n.ga=function(){this.g&&hs(this)};function hs(b){b.readyState=4,b.l=null,b.j=null,b.v=null,ji(b)}n.setRequestHeader=function(b,I){this.u.append(b,I)},n.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],I=this.h.entries();for(var Y=I.next();!Y.done;)Y=Y.value,b.push(Y[0]+": "+Y[1]),Y=I.next();return b.join(`\r
`)};function ji(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Gs(b){let I="";return K(b,function(Y,ce){I+=ce,I+=":",I+=Y,I+=`\r
`}),I}function Vr(b,I,Y){e:{for(ce in Y){var ce=!1;break e}ce=!0}ce||(Y=Gs(Y),typeof b=="string"?Y!=null&&encodeURIComponent(String(Y)):Dn(b,I,Y))}function an(b){xt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(an,xt);var za=/^https?$/i,Ks=["POST","PUT"];n=an.prototype,n.Ha=function(b){this.J=b},n.ea=function(b,I,Y,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);I=I?I.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?fa(this.o):fa(Fr),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(I,String(b),!0),this.B=!1}catch(Le){Cc(this,Le);return}if(b=Y||"",Y=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var Ce in ce)Y.set(Ce,ce[Ce]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const Le of ce.keys())Y.set(Le,ce.get(Le));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(Y.keys()).find(Le=>Le.toLowerCase()=="content-type"),Ce=l.FormData&&b instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Ks,I,void 0))||ce||Ce||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,Je]of Y)this.g.setRequestHeader(Le,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fi(this),this.u=!0,this.g.send(b),this.u=!1}catch(Le){Cc(this,Le)}};function Cc(b,I){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=I,b.m=5,Ao(b),Ls(b)}function Ao(b){b.A||(b.A=!0,wt(b,"complete"),wt(b,"error"))}n.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,wt(this,"complete"),wt(this,"abort"),Ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),an.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Co(this):this.bb())},n.bb=function(){Co(this)};function Co(b){if(b.h&&typeof a<"u"&&(!b.v[1]||Br(b)!=4||b.Z()!=2)){if(b.u&&Br(b)==4)vt(b.Ea,0,b);else if(wt(b,"readystatechange"),Br(b)==4){b.h=!1;try{const Je=b.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var Y;if(!(Y=I)){var ce;if(ce=Je===0){var Ce=String(b.D).match(Ei)[1]||null;!Ce&&l.self&&l.self.location&&(Ce=l.self.location.protocol.slice(0,-1)),ce=!za.test(Ce?Ce.toLowerCase():"")}Y=ce}if(Y)wt(b,"complete"),wt(b,"success");else{b.m=6;try{var Le=2<Br(b)?b.g.statusText:""}catch{Le=""}b.l=Le+" ["+b.Z()+"]",Ao(b)}}finally{Ls(b)}}}}function Ls(b,I){if(b.g){Fi(b);const Y=b.g,ce=b.v[0]?()=>{}:null;b.g=null,b.v=null,I||wt(b,"ready");try{Y.onreadystatechange=ce}catch{}}}function Fi(b){b.I&&(l.clearTimeout(b.I),b.I=null)}n.isActive=function(){return!!this.g};function Br(b){return b.g?b.g.readyState:0}n.Z=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(b){if(this.g){var I=this.g.responseText;return b&&I.indexOf(b)==0&&(I=I.substring(b.length)),Ln(I)}};function Ou(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Ha(b){const I={};b=(b.g&&2<=Br(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<b.length;ce++){if(A(b[ce]))continue;var Y=R(b[ce]);const Ce=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Le=I[Ce]||[];I[Ce]=Le,Le.push(Y)}M(I,function(ce){return ce.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(b,I,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[b]||I}function qa(b){this.Aa=0,this.i=[],this.j=new ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ci("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ci("baseRetryDelayMs",5e3,b),this.cb=Ci("retryDelaySeedMs",1e4,b),this.Wa=Ci("forwardChannelMaxRetries",2,b),this.wa=Ci("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new zs(b&&b.concurrentRequestLimit),this.Da=new $s,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qa.prototype,n.la=8,n.G=1,n.connect=function(b,I,Y,ce){ht(0),this.W=b,this.H=I||{},Y&&ce!==void 0&&(this.H.OSID=Y,this.H.OAID=ce),this.F=this.X,this.I=D(this,null,this.W),dl(this)};function xa(b){if(Do(b),b.G==3){var I=b.U++,Y=Ai(b.I);if(Dn(Y,"SID",b.K),Dn(Y,"RID",I),Dn(Y,"TYPE","terminate"),Wa(b,Y),I=new Jn(b,b.j,I),I.L=2,I.v=Ba(Ai(Y)),Y=!1,l.navigator&&l.navigator.sendBeacon)try{Y=l.navigator.sendBeacon(I.v.toString(),"")}catch{}!Y&&l.Image&&(new Image().src=I.v,Y=!0),Y||(I.g=ee(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Eo(I)}ml(b)}function fl(b){b.g&&(Ya(b),b.g.cancel(),b.g=null)}function Do(b){fl(b),b.u&&(l.clearTimeout(b.u),b.u=null),Sa(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&l.clearTimeout(b.s),b.s=null)}function dl(b){if(!ll(b.h)&&!b.s){b.s=!0;var I=b.Ga;Q||q(),re||(Q(),re=!0),J.add(I,b),b.B=0}}function Dc(b,I){return ga(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=I.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=On(g(b.Ga,b,I),Ro(b,b.B)),b.B++,!0)}n.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const Ce=new Jn(this,this.j,b);let Le=this.o;if(this.S&&(Le?(Le=k(Le),H(Le,this.S)):Le=this.S),this.m!==null||this.O||(Ce.H=Le,Le=null),this.P)e:{for(var I=0,Y=0;Y<this.i.length;Y++){t:{var ce=this.i[Y];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(I+=ce,4096<I){I=Y;break e}if(I===4096||Y===this.i.length-1){I=Y+1;break e}}I=1e3}else I=1e3;I=No(this,Ce,I),Y=Ai(this.I),Dn(Y,"RID",b),Dn(Y,"CVER",22),this.D&&Dn(Y,"X-HTTP-Session-Id",this.D),Wa(this,Y),Le&&(this.O?I="headers="+encodeURIComponent(String(Gs(Le)))+"&"+I:this.m&&Vr(Y,this.m,Le)),Zn(this.h,Ce),this.Ua&&Dn(Y,"TYPE","init"),this.P?(Dn(Y,"$req",I),Dn(Y,"SID","null"),Ce.T=!0,Ii(Ce,Y,null)):Ii(Ce,Y,I),this.G=2}}else this.G==3&&(b?ko(this,b):this.i.length==0||ll(this.h)||ko(this))};function ko(b,I){var Y;I?Y=I.l:Y=b.U++;const ce=Ai(b.I);Dn(ce,"SID",b.K),Dn(ce,"RID",Y),Dn(ce,"AID",b.T),Wa(b,ce),b.m&&b.o&&Vr(ce,b.m,b.o),Y=new Jn(b,b.j,Y,b.B+1),b.m===null&&(Y.H=b.o),I&&(b.i=I.D.concat(b.i)),I=No(b,Y,1e3),Y.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),Zn(b.h,Y),Ii(Y,ce,I)}function Wa(b,I){b.H&&K(b.H,function(Y,ce){Dn(I,ce,Y)}),b.l&&Sc({},function(Y,ce){Dn(I,ce,Y)})}function No(b,I,Y){Y=Math.min(b.i.length,Y);var ce=b.l?g(b.l.Na,b.l,b):null;e:{var Ce=b.i;let Le=-1;for(;;){const Je=["count="+Y];Le==-1?0<Y?(Le=Ce[0].g,Je.push("ofs="+Le)):Le=0:Je.push("ofs="+Le);let Mt=!0;for(let on=0;on<Y;on++){let qt=Ce[on].g;const kn=Ce[on].map;if(qt-=Le,0>qt)Le=Math.max(0,Ce[on].g-100),Mt=!1;else try{us(kn,Je,"req"+qt+"_")}catch{ce&&ce(kn)}}if(Mt){ce=Je.join("&");break e}}}return b=b.i.splice(0,Y),I.D=b,ce}function pl(b){if(!b.g&&!b.u){b.Y=1;var I=b.Fa;Q||q(),re||(Q(),re=!0),J.add(I,b),b.v=0}}function Po(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=On(g(b.Fa,b),Ro(b,b.v)),b.v++,!0)}n.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=On(g(this.ab,this),b)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),fl(this),ju(this))};function Ya(b){b.A!=null&&(l.clearTimeout(b.A),b.A=null)}function ju(b){b.g=new Jn(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var I=Ai(b.qa);Dn(I,"RID","rpc"),Dn(I,"SID",b.K),Dn(I,"AID",b.T),Dn(I,"CI",b.F?"0":"1"),!b.F&&b.ja&&Dn(I,"TO",b.ja),Dn(I,"TYPE","xmlhttp"),Wa(b,I),b.m&&b.o&&Vr(I,b.m,b.o),b.L&&(b.g.I=b.L);var Y=b.g;b=b.ia,Y.L=1,Y.v=Ba(Ai(I)),Y.m=null,Y.P=!0,os(Y,b)}n.Za=function(){this.C!=null&&(this.C=null,fl(this),Po(this),ht(19))};function Sa(b){b.C!=null&&(l.clearTimeout(b.C),b.C=null)}function $a(b,I){var Y=null;if(b.g==I){Sa(b),Ya(b),b.g=null;var ce=2}else if(xc(b.h,I))Y=I.D,di(b.h,I),ce=1;else return;if(b.G!=0){if(I.o)if(ce==1){Y=I.m?I.m.length:0,I=Date.now()-I.F;var Ce=b.B;ce=as(),wt(ce,new In(ce,Y)),dl(b)}else pl(b);else if(Ce=I.s,Ce==3||Ce==0&&0<I.X||!(ce==1&&Dc(b,I)||ce==2&&Po(b)))switch(Y&&0<Y.length&&(I=b.h,I.i=I.i.concat(Y)),Ce){case 1:Vi(b,5);break;case 4:Vi(b,10);break;case 3:Vi(b,6);break;default:Vi(b,2)}}}function Ro(b,I){let Y=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(Y*=2),Y*I}function Vi(b,I){if(b.j.info("Error code "+I),I==2){var Y=g(b.fb,b),ce=b.Xa;const Ce=!ce;ce=new vn(ce||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fa(ce,"https"),Ba(ce),Ce?Oi(ce.toString(),Y):cs(ce.toString(),Y)}else ht(2);b.G=0,b.l&&b.l.sa(I),ml(b),Do(b)}n.fb=function(b){b?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function ml(b){if(b.G=0,b.ka=[],b.l){const I=cl(b.h);(I.length!=0||b.i.length!=0)&&(T(b.ka,I),T(b.ka,b.i),b.h.i.length=0,S(b.i),b.i.length=0),b.l.ra()}}function D(b,I,Y){var ce=Y instanceof vn?Ai(Y):new vn(Y);if(ce.g!="")I&&(ce.g=I+"."+ce.g),Va(ce,ce.s);else{var Ce=l.location;ce=Ce.protocol,I=I?I+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;var Le=new vn(null);ce&&Fa(Le,ce),I&&(Le.g=I),Ce&&Va(Le,Ce),Y&&(Le.l=Y),ce=Le}return Y=b.D,I=b.ya,Y&&I&&Dn(ce,Y,I),Dn(ce,"VER",b.la),Wa(b,ce),ce}function ee(b,I,Y){if(I&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=b.Ca&&!b.pa?new an(new Ua({eb:Y})):new an(b.pa),I.Ha(b.J),I}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function me(){}n=me.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function we(){}we.prototype.g=function(b,I){return new De(b,I)};function De(b,I){xt.call(this),this.g=new qa(I),this.l=b,this.h=I&&I.messageUrlParams||null,b=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(b?b["X-WebChannel-Content-Type"]=I.messageContentType:b={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(b?b["X-WebChannel-Client-Profile"]=I.va:b={"X-WebChannel-Client-Profile":I.va}),this.g.S=b,(b=I&&I.Sb)&&!A(b)&&(this.g.m=b),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!A(I)&&(this.g.D=I,b=this.h,b!==null&&I in b&&(b=this.h,I in b&&delete b[I])),this.j=new st(this)}_(De,xt),De.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){xa(this.g)},De.prototype.o=function(b){var I=this.g;if(typeof b=="string"){var Y={};Y.__data__=b,b=Y}else this.u&&(Y={},Y.__data__=tn(b),b=Y);I.i.push(new Ru(I.Ya++,b)),I.G==3&&dl(I)},De.prototype.N=function(){this.g.l=null,delete this.j,xa(this.g),delete this.g,De.aa.N.call(this)};function ze(b){Si.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var I=b.__sm__;if(I){e:{for(const Y in I){b=Y;break e}b=void 0}(this.i=b)&&(b=this.i,I=I!==null&&b in I?I[b]:void 0),this.data=I}else this.data=b}_(ze,Si);function Qe(){Qn.call(this),this.status=1}_(Qe,Qn);function st(b){this.g=b}_(st,me),st.prototype.ua=function(){wt(this.g,"a")},st.prototype.ta=function(b){wt(this.g,new ze(b))},st.prototype.sa=function(b){wt(this.g,new Qe)},st.prototype.ra=function(){wt(this.g,"b")},we.prototype.createWebChannel=we.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,ZP=function(){return new we},JP=function(){return as()},QP=Dt,J_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,Nv=fi,Kr.COMPLETE="complete",XP=Kr,Xn.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",xt.prototype.listen=xt.prototype.K,cg=Xn,an.prototype.listenOnce=an.prototype.L,an.prototype.getLastError=an.prototype.Ka,an.prototype.getLastErrorCode=an.prototype.Ba,an.prototype.getStatus=an.prototype.Z,an.prototype.getResponseJson=an.prototype.Oa,an.prototype.getResponseText=an.prototype.oa,an.prototype.send=an.prototype.ea,an.prototype.setWithCredentials=an.prototype.Ha,KP=an}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});const S4="@firebase/firestore",T4="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ts.UNAUTHENTICATED=new Ts(null),Ts.GOOGLE_CREDENTIALS=new Ts("google-credentials-uid"),Ts.FIRST_PARTY=new Ts("first-party-uid"),Ts.MOCK_USER=new Ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xp="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Tx("@firebase/firestore");function ap(){return ld.logLevel}function mt(n,...e){if(ld.logLevel<=mn.DEBUG){const t=e.map(Ix);ld.debug(`Firestore (${Xp}): ${n}`,...t)}}function wu(n,...e){if(ld.logLevel<=mn.ERROR){const t=e.map(Ix);ld.error(`Firestore (${Xp}): ${n}`,...t)}}function kp(n,...e){if(ld.logLevel<=mn.WARN){const t=e.map(Ix);ld.warn(`Firestore (${Xp}): ${n}`,...t)}}function Ix(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,eR(n,r,t)}function eR(n,e,t){let r=`FIRESTORE (${Xp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw wu(r),new Error(r)}function Un(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||eR(e,i,r)}function Gt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Du{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ts.UNAUTHENTICATED)))}shutdown(){}}class yB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class vB{constructor(e){this.t=e,this.currentUser=Ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Un(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new Ih;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ih,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ih)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Un(typeof r.accessToken=="string",31837,{l:r}),new tR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Un(e===null||typeof e=="string",2055,{h:e}),new Ts(e)}}class bB{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ts.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wB{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new bB(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ts.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _B{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Un(this.o===void 0,3512);const r=s=>{s.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,mt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Un(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new E4(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=xB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function gn(n,e){return n<e?-1:n>e?1:0}function Z_(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return yw(i)===yw(s)?gn(i,s):yw(i)?1:-1}return gn(n.length,e.length)}const SB=55296,TB=57343;function yw(n){const e=n.charCodeAt(0);return e>=SB&&e<=TB}function Np(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="__name__";class ql{constructor(e,t,r){t===void 0?t=0:t>e.length&&Bt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Bt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=ql.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return gn(e.length,t.length)}static compareSegments(e,t){const r=ql.isNumericId(e),i=ql.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ql.extractNumericId(e).compare(ql.extractNumericId(t)):Z_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lh.fromString(e.substring(4,e.length-2))}}class Rr extends ql{construct(e,t,r){return new Rr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ct(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Rr(t)}static emptyPath(){return new Rr([])}}const EB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends ql{construct(e,t,r){return new rs(e,t,r)}static isValidIdentifier(e){return EB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A4}static keyField(){return new rs([A4])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ct(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rs(t)}static emptyPath(){return new rs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.path=e}static fromPath(e){return new Pt(Rr.fromString(e))}static fromName(e){return new Pt(Rr.fromString(e).popFirst(5))}static empty(){return new Pt(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pt(new Rr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(n,e,t){if(!t)throw new Ct(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CB(n,e,t,r){if(e===!0&&r===!0)throw new Ct(et.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function C4(n){if(!Pt.isDocumentKey(n))throw new Ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function jx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Bt(12329,{type:typeof n})}function $g(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jx(n);throw new Ct(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(n,e){const t={typeString:n};return e&&(t.value=e),t}function A0(n,e){if(!nR(n))throw new Ct(et.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const a=n[r];if(i&&typeof a!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Ct(et.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=-62135596800,k4=1e6;class pr{static now(){return pr.fromMillis(Date.now())}static fromDate(e){return pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*k4);return new pr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<D4)throw new Ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k4}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(A0(e,pr._jsonSchema))return new pr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pr._jsonSchemaVersion="firestore/timestamp/1.0",pr._jsonSchema={type:wi("string",pr._jsonSchemaVersion),seconds:wi("number"),nanoseconds:wi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(e){return new Yt(e)}static min(){return new Yt(new pr(0,0))}static max(){return new Yt(new pr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=-1;function DB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Yt.fromTimestamp(r===1e9?new pr(t+1,0):new pr(t,r));return new zh(i,Pt.empty(),e)}function kB(n){return new zh(n.readTime,n.key,Gg)}class zh{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zh(Yt.min(),Pt.empty(),Gg)}static max(){return new zh(Yt.max(),Pt.empty(),Gg)}}function NB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pt.comparator(n.documentKey,e.documentKey),t!==0?t:gn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==PB)throw n;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Xe?t:Xe.resolve(t)}catch(t){return Xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Xe.reject(t)}static resolve(e){return new Xe(((t,r)=>{t(e)}))}static reject(e){return new Xe(((t,r)=>{r(e)}))}static waitFor(e){return new Xe(((t,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&t()}),(c=>r(c)))})),a=!0,s===i&&t()}))}static or(e){let t=Xe.resolve(!1);for(const r of e)t=t.next((i=>i?Xe.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new Xe(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;t(e[h]).next((d=>{a[h]=d,++l,l===s&&r(a)}),(d=>i(d)))}}))}static doWhile(e,t){return new Xe(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}function MB(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jp(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}s2.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=-1;function a2(n){return n==null}function a1(n){return n===0&&1/n==-1/0}function LB(n){return typeof n=="number"&&Number.isInteger(n)&&!a1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="";function IB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=N4(e)),e=OB(n.get(t),e);return N4(e)}function OB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case rR:t+="";break;default:t+=s}}return t}function N4(n){return n+rR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,t){this.comparator=e,this.root=t||ns.EMPTY}insert(e,t){return new Or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(e){return new Or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ns.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qy(this.root,e,this.comparator,!1)}getReverseIterator(){return new qy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qy(this.root,e,this.comparator,!0)}}class qy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ns{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ns.RED,this.left=i??ns.EMPTY,this.right=s??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ns(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ns.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Bt(27949);return e+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1;ns.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new ns(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R4(this.data.getIterator())}getIteratorFrom(e){return new R4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mi(this.comparator);return t.data=e,t}}class R4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.fields=e,e.sort(rs.comparator)}static empty(){return new el([])}unionWith(e){let t=new Mi(rs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new el(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Np(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sR("Invalid base64 string: "+s):s}})(e);return new is(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new is(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}is.EMPTY_BYTE_STRING=new is("");const jB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hh(n){if(Un(!!n,39018),typeof n=="string"){let e=0;const t=jB.exec(n);if(Un(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:si(n.seconds),nanos:si(n.nanos)}}function si(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qh(n){return typeof n=="string"?is.fromBase64String(n):is.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="server_timestamp",oR="__type__",lR="__previous_value__",cR="__local_write_time__";function Vx(n){return(n?.mapValue?.fields||{})[oR]?.stringValue===aR}function o2(n){const e=n.mapValue.fields[lR];return Vx(e)?o2(e):e}function Kg(n){const e=Hh(n.mapValue.fields[cR].timestampValue);return new pr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,t,r,i,s,a,l,c,h,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d}}const o1="(default)";class Xg{constructor(e,t){this.projectId=e,this.database=t||o1}static empty(){return new Xg("","")}get isDefaultDatabase(){return this.database===o1}isEqual(e){return e instanceof Xg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="__type__",VB="__max__",Wy={mapValue:{}},hR="__vector__",l1="value";function Wh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vx(n)?4:UB(n)?9007199254740991:BB(n)?10:11:Bt(28295,{value:n})}function fc(n,e){if(n===e)return!0;const t=Wh(n);if(t!==Wh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kg(n).isEqual(Kg(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Hh(i.timestampValue),l=Hh(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return qh(i.bytesValue).isEqual(qh(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return si(i.geoPointValue.latitude)===si(s.geoPointValue.latitude)&&si(i.geoPointValue.longitude)===si(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return si(i.integerValue)===si(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=si(i.doubleValue),l=si(s.doubleValue);return a===l?a1(a)===a1(l):isNaN(a)&&isNaN(l)}return!1})(n,e);case 9:return Np(n.arrayValue.values||[],e.arrayValue.values||[],fc);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(P4(a)!==P4(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!fc(a[c],l[c])))return!1;return!0})(n,e);default:return Bt(52216,{left:n})}}function Qg(n,e){return(n.values||[]).find((t=>fc(t,e)))!==void 0}function Pp(n,e){if(n===e)return 0;const t=Wh(n),r=Wh(e);if(t!==r)return gn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return gn(n.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=si(s.integerValue||s.doubleValue),c=si(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(n,e);case 3:return M4(n.timestampValue,e.timestampValue);case 4:return M4(Kg(n),Kg(e));case 5:return Z_(n.stringValue,e.stringValue);case 6:return(function(s,a){const l=qh(s),c=qh(a);return l.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=gn(l[h],c[h]);if(d!==0)return d}return gn(l.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=gn(si(s.latitude),si(a.latitude));return l!==0?l:gn(si(s.longitude),si(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return L4(n.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},c=a.fields||{},h=l[l1]?.arrayValue,d=c[l1]?.arrayValue,p=gn(h?.values?.length||0,d?.values?.length||0);return p!==0?p:L4(h,d)})(n.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Wy.mapValue&&a===Wy.mapValue)return 0;if(s===Wy.mapValue)return 1;if(a===Wy.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=a.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const g=Z_(c[p],d[p]);if(g!==0)return g;const y=Pp(l[c[p]],h[d[p]]);if(y!==0)return y}return gn(c.length,d.length)})(n.mapValue,e.mapValue);default:throw Bt(23264,{he:t})}}function M4(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return gn(n,e);const t=Hh(n),r=Hh(e),i=gn(t.seconds,r.seconds);return i!==0?i:gn(t.nanos,r.nanos)}function L4(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Pp(t[i],r[i]);if(s)return s}return gn(t.length,r.length)}function Rp(n){return e5(n)}function e5(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Hh(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return qh(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Pt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=e5(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${e5(t.fields[a])}`;return i+"}"})(n.mapValue):Bt(61005,{value:n})}function Pv(n){switch(Wh(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=o2(n);return e?16+Pv(e):16;case 5:return 2*n.stringValue.length;case 6:return qh(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Pv(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return vd(r.fields,((s,a)=>{i+=s.length+Pv(a)})),i})(n.mapValue);default:throw Bt(13486,{value:n})}}function t5(n){return!!n&&"integerValue"in n}function Bx(n){return!!n&&"arrayValue"in n}function I4(n){return!!n&&"nullValue"in n}function O4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rv(n){return!!n&&"mapValue"in n}function BB(n){return(n?.mapValue?.fields||{})[uR]?.stringValue===hR}function Sg(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return vd(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Sg(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sg(n.arrayValue.values[t]);return e}return{...n}}function UB(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.value=e}static empty(){return new go({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sg(t)}setAll(e){let t=rs.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=l.popLast()}a?r[l.lastSegment()]=Sg(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Rv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vd(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new go(Sg(this.value))}}function fR(n){const e=[];return vd(n.fields,((t,r)=>{const i=new rs([t]);if(Rv(r)){const s=fR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new el(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,r,i,s,a,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Es(e,0,Yt.min(),Yt.min(),Yt.min(),go.empty(),0)}static newFoundDocument(e,t,r,i){return new Es(e,1,t,Yt.min(),r,i,0)}static newNoDocument(e,t){return new Es(e,2,t,Yt.min(),Yt.min(),go.empty(),0)}static newUnknownDocument(e,t){return new Es(e,3,t,Yt.min(),Yt.min(),go.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=go.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=go.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t){this.position=e,this.inclusive=t}}function j4(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=Pt.comparator(Pt.fromName(a.referenceValue),t.key):r=Pp(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function F4(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,t="asc"){this.field=e,this.dir=t}}function zB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{}class Pi extends dR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qB(e,t,r):t==="array-contains"?new $B(e,r):t==="in"?new GB(e,r):t==="not-in"?new KB(e,r):t==="array-contains-any"?new XB(e,r):new Pi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new WB(e,r):new YB(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Pp(t,this.value)):t!==null&&Wh(this.value)===Wh(t)&&this.matchesComparison(Pp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dc extends dR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dc(e,t)}matches(e){return pR(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pR(n){return n.op==="and"}function mR(n){return HB(n)&&pR(n)}function HB(n){for(const e of n.filters)if(e instanceof dc)return!1;return!0}function n5(n){if(n instanceof Pi)return n.field.canonicalString()+n.op.toString()+Rp(n.value);if(mR(n))return n.filters.map((e=>n5(e))).join(",");{const e=n.filters.map((t=>n5(t))).join(",");return`${n.op}(${e})`}}function gR(n,e){return n instanceof Pi?(function(r,i){return i instanceof Pi&&r.op===i.op&&r.field.isEqual(i.field)&&fc(r.value,i.value)})(n,e):n instanceof dc?(function(r,i){return i instanceof dc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&gR(a,i.filters[l])),!0):!1})(n,e):void Bt(19439)}function yR(n){return n instanceof Pi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Rp(t.value)}`})(n):n instanceof dc?(function(t){return t.op.toString()+" {"+t.getFilters().map(yR).join(" ,")+"}"})(n):"Filter"}class qB extends Pi{constructor(e,t,r){super(e,t,r),this.key=Pt.fromName(r.referenceValue)}matches(e){const t=Pt.comparator(e.key,this.key);return this.matchesComparison(t)}}class WB extends Pi{constructor(e,t){super(e,"in",t),this.keys=vR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class YB extends Pi{constructor(e,t){super(e,"not-in",t),this.keys=vR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function vR(n,e){return(e.arrayValue?.values||[]).map((t=>Pt.fromName(t.referenceValue)))}class $B extends Pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bx(t)&&Qg(t.arrayValue,this.value)}}class GB extends Pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qg(this.value.arrayValue,t)}}class KB extends Pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qg(this.value.arrayValue,t)}}class XB extends Pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bx(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Qg(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,t=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function V4(n,e=null,t=[],r=[],i=null,s=null,a=null){return new QB(n,e,t,r,i,s,a)}function Ux(n){const e=Gt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>n5(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),a2(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Rp(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Rp(r))).join(",")),e.Te=t}return e.Te}function zx(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!F4(n.startAt,e.startAt)&&F4(n.endAt,e.endAt)}function r5(n){return Pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JB(n,e,t,r,i,s,a,l){return new l2(n,e,t,r,i,s,a,l)}function Hx(n){return new l2(n)}function B4(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZB(n){return n.collectionGroup!==null}function Tg(n){const e=Gt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Mi(rs.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new u1(s,r))})),t.has(rs.keyField().canonicalString())||e.Ie.push(new u1(rs.keyField(),r))}return e.Ie}function tc(n){const e=Gt(n);return e.Ee||(e.Ee=eU(e,Tg(n))),e.Ee}function eU(n,e){if(n.limitType==="F")return V4(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new u1(i.field,s)}));const t=n.endAt?new c1(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new c1(n.startAt.position,n.startAt.inclusive):null;return V4(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function i5(n,e,t){return new l2(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function c2(n,e){return zx(tc(n),tc(e))&&n.limitType===e.limitType}function bR(n){return`${Ux(tc(n))}|lt:${n.limitType}`}function op(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>yR(i))).join(", ")}]`),a2(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Rp(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Rp(i))).join(",")),`Target(${r})`})(tc(n))}; limitType=${n.limitType})`}function u2(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of Tg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,c){const h=j4(a,l,c);return a.inclusive?h<=0:h<0})(r.startAt,Tg(r),i)||r.endAt&&!(function(a,l,c){const h=j4(a,l,c);return a.inclusive?h>=0:h>0})(r.endAt,Tg(r),i))})(n,e)}function tU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wR(n){return(e,t)=>{let r=!1;for(const i of Tg(n)){const s=nU(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nU(n,e,t){const r=n.field.isKeyField()?Pt.comparator(e.key,t.key):(function(s,a,l){const c=a.data.field(s),h=l.data.field(s);return c!==null&&h!==null?Pp(c,h):Bt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vd(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return iR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=new Or(Pt.comparator);function _u(){return rU}const _R=new Or(Pt.comparator);function ug(...n){let e=_R;for(const t of n)e=e.insert(t.key,t);return e}function xR(n){let e=_R;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Vf(){return Eg()}function SR(){return Eg()}function Eg(){return new bd((n=>n.toString()),((n,e)=>n.isEqual(e)))}const iU=new Or(Pt.comparator),sU=new Mi(Pt.comparator);function yn(...n){let e=sU;for(const t of n)e=e.add(t);return e}const aU=new Mi(gn);function oU(){return aU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a1(e)?"-0":e}}function TR(n){return{integerValue:""+n}}function lU(n,e){return LB(e)?TR(e):qx(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._=void 0}}function cU(n,e,t){return n instanceof h1?(function(i,s){const a={fields:{[oR]:{stringValue:aR},[cR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Vx(s)&&(s=o2(s)),s&&(a.fields[lR]=s),{mapValue:a}})(t,e):n instanceof Jg?AR(n,e):n instanceof Zg?CR(n,e):(function(i,s){const a=ER(i,s),l=U4(a)+U4(i.Ae);return t5(a)&&t5(i.Ae)?TR(l):qx(i.serializer,l)})(n,e)}function uU(n,e,t){return n instanceof Jg?AR(n,e):n instanceof Zg?CR(n,e):t}function ER(n,e){return n instanceof f1?(function(r){return t5(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class h1 extends h2{}class Jg extends h2{constructor(e){super(),this.elements=e}}function AR(n,e){const t=DR(e);for(const r of n.elements)t.some((i=>fc(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Zg extends h2{constructor(e){super(),this.elements=e}}function CR(n,e){let t=DR(e);for(const r of n.elements)t=t.filter((i=>!fc(i,r)));return{arrayValue:{values:t}}}class f1 extends h2{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function U4(n){return si(n.integerValue||n.doubleValue)}function DR(n){return Bx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function hU(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Jg&&i instanceof Jg||r instanceof Zg&&i instanceof Zg?Np(r.elements,i.elements,fc):r instanceof f1&&i instanceof f1?fc(r.Ae,i.Ae):r instanceof h1&&i instanceof h1})(n.transform,e.transform)}class fU{constructor(e,t){this.version=e,this.transformResults=t}}class uu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uu}static exists(e){return new uu(void 0,e)}static updateTime(e){return new uu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class f2{}function kR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new PR(n.key,uu.none()):new C0(n.key,n.data,uu.none());{const t=n.data,r=go.empty();let i=new Mi(rs.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new wd(n.key,r,new el(i.toArray()),uu.none())}}function dU(n,e,t){n instanceof C0?(function(i,s,a){const l=i.value.clone(),c=H4(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(n,e,t):n instanceof wd?(function(i,s,a){if(!Mv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=H4(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(NR(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function Ag(n,e,t,r){return n instanceof C0?(function(s,a,l,c){if(!Mv(s.precondition,a))return l;const h=s.value.clone(),d=q4(s.fieldTransforms,c,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(n,e,t,r):n instanceof wd?(function(s,a,l,c){if(!Mv(s.precondition,a))return l;const h=q4(s.fieldTransforms,c,a),d=a.data;return d.setAll(NR(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(n,e,t,r):(function(s,a,l){return Mv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(n,e,t)}function pU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=ER(r.transform,i||null);s!=null&&(t===null&&(t=go.empty()),t.set(r.field,s))}return t||null}function z4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Np(r,i,((s,a)=>hU(s,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class C0 extends f2{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wd extends f2{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function H4(n,e,t){const r=new Map;Un(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,uU(a,l,t[i]))}return r}function q4(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,cU(s,a,e))}return r}class PR extends f2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mU extends f2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dU(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ag(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ag(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=SR();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=t.has(i.key)?null:l;const c=kR(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Yt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),yn())}isEqual(e){return this.batchId===e.batchId&&Np(this.mutations,e.mutations,((t,r)=>z4(t,r)))&&Np(this.baseMutations,e.baseMutations,((t,r)=>z4(t,r)))}}class Wx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Un(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return iU})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Wx(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi,Sn;function bU(n){switch(n){case et.OK:return Bt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Bt(15467,{code:n})}}function RR(n){if(n===void 0)return wu("GRPC error has no .code"),et.UNKNOWN;switch(n){case vi.OK:return et.OK;case vi.CANCELLED:return et.CANCELLED;case vi.UNKNOWN:return et.UNKNOWN;case vi.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case vi.INTERNAL:return et.INTERNAL;case vi.UNAVAILABLE:return et.UNAVAILABLE;case vi.UNAUTHENTICATED:return et.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case vi.NOT_FOUND:return et.NOT_FOUND;case vi.ALREADY_EXISTS:return et.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return et.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case vi.ABORTED:return et.ABORTED;case vi.OUT_OF_RANGE:return et.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return et.UNIMPLEMENTED;case vi.DATA_LOSS:return et.DATA_LOSS;default:return Bt(39323,{code:n})}}(Sn=vi||(vi={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new Lh([4294967295,4294967295],0);function W4(n){const e=wU().encode(n),t=new GP;return t.update(e),new Uint8Array(t.digest())}function Y4(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Lh([t,r],0),new Lh([i,s],0)]}class Yx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new hg(`Invalid padding: ${t}`);if(r<0)throw new hg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hg(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new hg(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Lh.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Lh.fromNumber(r)));return i.compare(_U)===1&&(i=new Lh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=W4(e),[r,i]=Y4(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Yx(s,i,t);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const t=W4(e),[r,i]=Y4(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class hg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,D0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new d2(Yt.min(),i,new Or(gn),_u(),yn())}}class D0{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new D0(r,t,yn(),yn(),yn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class MR{constructor(e,t){this.targetId=e,this.Ce=t}}class LR{constructor(e,t,r=is.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class $4{constructor(){this.ve=0,this.Fe=G4(),this.Me=is.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yn(),t=yn(),r=yn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Bt(38017,{changeType:s})}})),new D0(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=G4()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Un(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xU{constructor(e){this.Ge=e,this.ze=new Map,this.je=_u(),this.Je=Yy(),this.He=Yy(),this.Ye=new Or(gn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Bt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(r5(s))if(r===0){const a=new Pt(s.path);this.et(t,a,Es.newNoDocument(a,Yt.min()))}else Un(r===1,20013,{expectedCount:r});else{const a=this._t(t);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,l;try{a=qh(r).toUint8Array()}catch(c){if(c instanceof sR)return kp("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Yx(a,i,s)}catch(c){return kp(c instanceof hg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&r5(l.target)){const c=new Pt(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Es.newNoDocument(c,e))}s.Be&&(t.set(a,s.ke()),s.qe())}}));let r=yn();this.He.forEach(((s,a)=>{let l=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new d2(e,t,this.Ye,this.je,r);return this.je=_u(),this.Je=Yy(),this.He=Yy(),this.Ye=new Or(gn),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new $4,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Mi(gn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Mi(gn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||mt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $4),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yy(){return new Or(Pt.comparator)}function G4(){return new Or(Pt.comparator)}const SU={asc:"ASCENDING",desc:"DESCENDING"},TU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EU={and:"AND",or:"OR"};class AU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function s5(n,e){return n.useProto3Json||a2(e)?e:{value:e}}function d1(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CU(n,e){return d1(n,e.toTimestamp())}function nc(n){return Un(!!n,49232),Yt.fromTimestamp((function(t){const r=Hh(t);return new pr(r.seconds,r.nanos)})(n))}function $x(n,e){return a5(n,e).canonicalString()}function a5(n,e){const t=(function(i){return new Rr(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function OR(n){const e=Rr.fromString(n);return Un(UR(e),10190,{key:e.toString()}),e}function o5(n,e){return $x(n.databaseId,e.path)}function vw(n,e){const t=OR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pt(FR(t))}function jR(n,e){return $x(n.databaseId,e)}function DU(n){const e=OR(n);return e.length===4?Rr.emptyPath():FR(e)}function l5(n){return new Rr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FR(n){return Un(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function K4(n,e,t){return{name:o5(n,e),fields:t.value.mapValue.fields}}function kU(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Bt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,d){return h.useProto3Json?(Un(d===void 0||typeof d=="string",58123),is.fromBase64String(d||"")):(Un(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),is.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(h){const d=h.code===void 0?et.UNKNOWN:RR(h.code);return new Ct(d,h.message||"")})(a);t=new LR(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vw(n,r.document.name),s=nc(r.document.updateTime),a=r.document.createTime?nc(r.document.createTime):Yt.min(),l=new go({mapValue:{fields:r.document.fields}}),c=Es.newFoundDocument(i,s,a,l),h=r.targetIds||[],d=r.removedTargetIds||[];t=new Lv(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vw(n,r.document),s=r.readTime?nc(r.readTime):Yt.min(),a=Es.newNoDocument(i,s),l=r.removedTargetIds||[];t=new Lv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vw(n,r.document),s=r.removedTargetIds||[];t=new Lv([],s,i,null)}else{if(!("filter"in e))return Bt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new vU(i,s),l=r.targetId;t=new MR(l,a)}}return t}function NU(n,e){let t;if(e instanceof C0)t={update:K4(n,e.key,e.value)};else if(e instanceof PR)t={delete:o5(n,e.key)};else if(e instanceof wd)t={update:K4(n,e.key,e.data),updateMask:VU(e.fieldMask)};else{if(!(e instanceof mU))return Bt(16599,{Vt:e.type});t={verify:o5(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof h1)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Jg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Zg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof f1)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Bt(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:CU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Bt(27497)})(n,e.precondition)),t}function PU(n,e){return n&&n.length>0?(Un(e!==void 0,14353),n.map((t=>(function(i,s){let a=i.updateTime?nc(i.updateTime):nc(s);return a.isEqual(Yt.min())&&(a=nc(s)),new fU(a,i.transformResults||[])})(t,e)))):[]}function RU(n,e){return{documents:[jR(n,e.path)]}}function MU(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jR(n,i);const s=(function(h){if(h.length!==0)return BR(dc.create(h,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(h){if(h.length!==0)return h.map((d=>(function(g){return{field:lp(g.field),direction:OU(g.dir)}})(d)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=s5(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:i}}function LU(n){let e=DU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Un(r===1,65062);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=(function(p){const g=VR(p);return g instanceof dc&&mR(g)?g.getFilters():[g]})(t.where));let a=[];t.orderBy&&(a=(function(p){return p.map((g=>(function(_){return new u1(cp(_.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(g)))})(t.orderBy));let l=null;t.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,a2(g)?null:g})(t.limit));let c=null;t.startAt&&(c=(function(p){const g=!!p.before,y=p.values||[];return new c1(y,g)})(t.startAt));let h=null;return t.endAt&&(h=(function(p){const g=!p.before,y=p.values||[];return new c1(y,g)})(t.endAt)),JB(e,i,a,s,l,"F",c,h)}function IU(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=cp(t.unaryFilter.field);return Pi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cp(t.unaryFilter.field);return Pi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cp(t.unaryFilter.field);return Pi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cp(t.unaryFilter.field);return Pi.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Pi.create(cp(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return dc.create(t.compositeFilter.filters.map((r=>VR(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}})(t.compositeFilter.op))})(n):Bt(30097,{filter:n})}function OU(n){return SU[n]}function jU(n){return TU[n]}function FU(n){return EU[n]}function lp(n){return{fieldPath:n.canonicalString()}}function cp(n){return rs.fromServerFormat(n.fieldPath)}function BR(n){return n instanceof Pi?(function(t){if(t.op==="=="){if(O4(t.value))return{unaryFilter:{field:lp(t.field),op:"IS_NAN"}};if(I4(t.value))return{unaryFilter:{field:lp(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(O4(t.value))return{unaryFilter:{field:lp(t.field),op:"IS_NOT_NAN"}};if(I4(t.value))return{unaryFilter:{field:lp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lp(t.field),op:jU(t.op),value:t.value}}})(n):n instanceof dc?(function(t){const r=t.getFilters().map((i=>BR(i)));return r.length===1?r[0]:{compositeFilter:{op:FU(t.op),filters:r}}})(n):Bt(54877,{filter:n})}function VU(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function UR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,r,i,s=Yt.min(),a=Yt.min(),l=is.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Th(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.yt=e}}function UU(n){const e=LU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?i5(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.Cn=new HU}addToCollectionParentIndex(e,t){return this.Cn.add(t),Xe.resolve()}getCollectionParents(e,t){return Xe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Xe.resolve()}deleteFieldIndex(e,t){return Xe.resolve()}deleteAllFieldIndexes(e){return Xe.resolve()}createTargetIndexes(e,t){return Xe.resolve()}getDocumentsMatchingTarget(e,t){return Xe.resolve(null)}getIndexType(e,t){return Xe.resolve(0)}getFieldIndexes(e,t){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,t){return Xe.resolve(zh.min())}getMinOffsetFromCollectionGroup(e,t){return Xe.resolve(zh.min())}updateCollectionGroup(e,t,r){return Xe.resolve()}updateIndexEntries(e,t){return Xe.resolve()}}class HU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mi(Rr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mi(Rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zR=41943040;class sa{static withCacheSize(e){return new sa(e,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa.DEFAULT_COLLECTION_PERCENTILE=10,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sa.DEFAULT=new sa(zR,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sa.DISABLED=new sa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mp(0)}static cr(){return new Mp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="LruGarbageCollector",qU=1048576;function J4([n,e],[t,r]){const i=gn(n,t);return i===0?gn(e,r):i}class WU{constructor(e){this.Ir=e,this.buffer=new Mi(J4),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();J4(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){mt(Q4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jp(t)?mt(Q4,"Ignoring IndexedDB error during garbage collection: ",t):await Qp(t)}await this.Vr(3e5)}))}}class $U{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Xe.resolve(s2.ce);const r=new WU(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(X4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X4):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,a,l,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,t)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),ap()<=mn.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function GU(n,e){return new $U(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.changes=new bd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Es.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Xe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Ag(r.mutation,i,el.empty(),pr.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,yn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=yn()){const i=Vf();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let a=ug();return s.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const r=Vf();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,yn())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{t.set(a,l)}))}))}computeViews(e,t,r,i){let s=_u();const a=Eg(),l=(function(){return Eg()})();return t.forEach(((c,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof wd)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Ag(d.mutation,h,d.mutation.getFieldMask(),pr.now())):a.set(h.key,el.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((h,d)=>a.set(h,d))),t.forEach(((h,d)=>l.set(h,new XU(d,a.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,t){const r=Eg();let i=new Or(((a,l)=>a-l)),s=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const l of a)l.keys().forEach((c=>{const h=t.get(c);if(h===null)return;let d=r.get(c)||el.empty();d=l.applyToLocalView(h,d),r.set(c,d);const p=(i.get(l.batchId)||yn()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,p=SR();d.forEach((g=>{if(!s.has(g)){const y=kR(t.get(g),r.get(g));y!==null&&p.set(g,y),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return Xe.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(a){return Pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Xe.resolve(Vf());let l=Gg,c=s;return a.next((h=>Xe.forEach(h,((d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?Xe.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{c=c.insert(d,g)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,c,h,yn()))).next((d=>({batchId:l,changes:xR(d)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pt(t)).next((r=>{let i=ug();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=ug();return this.indexManager.getCollectionParents(e,s).next((l=>Xe.forEach(l,(c=>{const h=(function(p,g){return new l2(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((d=>{d.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((a=>{s.forEach(((c,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,Es.newInvalidDocument(d)))}));let l=ug();return a.forEach(((c,h)=>{const d=s.get(c);d!==void 0&&Ag(d.mutation,h,el.empty(),pr.now()),u2(t,h)&&(l=l.insert(c,h))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Xe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:nc(i.createTime)}})(t)),Xe.resolve()}getNamedQuery(e,t){return Xe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:UU(i.bundledQuery),readTime:nc(i.readTime)}})(t)),Xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.overlays=new Or(Pt.comparator),this.qr=new Map}getOverlay(e,t){return Xe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vf();return Xe.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),Xe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Xe.resolve()}getOverlaysForCollection(e,t,r){const i=Vf(),s=t.length+1,a=new Pt(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Xe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Or(((h,d)=>h-d));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let d=s.get(h.largestBatchId);d===null&&(d=Vf(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Vf(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,d)=>l.set(h,d))),!(l.size()>=i)););return Xe.resolve(l)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new yU(t,r));let s=this.qr.get(t);s===void 0&&(s=yn(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this.sessionToken=is.EMPTY_BYTE_STRING}getSessionToken(e){return Xe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.Qr=new Mi(qi.$r),this.Ur=new Mi(qi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new qi(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new qi(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Pt(new Rr([])),r=new qi(t,e),i=new qi(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Pt(new Rr([])),r=new qi(t,e),i=new qi(t,e+1);let s=yn();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new qi(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class qi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Pt.comparator(e.key,t.key)||gn(e.Yr,t.Yr)}static Kr(e,t){return gn(e.Yr,t.Yr)||Pt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Mi(qi.$r)}checkEmpty(e){return Xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new gU(s,t,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new qi(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Xe.resolve(a)}lookupMutationBatch(e,t){return Xe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return Xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(this.mutationQueue.length===0?Fx:this.tr-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qi(t,0),i=new qi(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const l=this.Xr(a.Yr);s.push(l)})),Xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mi(gn);return t.forEach((i=>{const s=new qi(i,0),a=new qi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(l=>{r=r.add(l.Yr)}))})),Xe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Pt.isDocumentKey(s)||(s=s.child(""));const a=new qi(new Pt(s),0);let l=new Mi(gn);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.Yr)),!0)}),a),Xe.resolve(this.ti(l))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Un(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Xe.forEach(t.mutations,(i=>{const s=new qi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new qi(t,0),i=this.Zr.firstAfterOrEqual(r);return Xe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.ri=e,this.docs=(function(){return new Or(Pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Xe.resolve(r?r.document.mutableCopy():Es.newInvalidDocument(t))}getEntries(e,t){let r=_u();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Es.newInvalidDocument(i))})),Xe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=_u();const a=t.path,l=new Pt(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||NB(kB(d),r)<=0||(i.has(d.key)||u2(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Xe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Bt(9500)}ii(e,t){return Xe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new rz(this)}getSize(e){return Xe.resolve(this.size)}}class rz extends KU{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Xe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.persistence=e,this.si=new bd((t=>Ux(t)),zx),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Gx,this.targetCount=0,this.ai=Mp.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Xe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Mp(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Xe.resolve()}updateTargetData(e,t){return this.Pr(t),Xe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Xe.waitFor(s).next((()=>i))}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Xe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Xe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),Xe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Xe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Xe.resolve(r)}containsKey(e,t){return Xe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t){this.ui={},this.overlays={},this.ci=new s2(0),this.li=!1,this.li=!0,this.hi=new ez,this.referenceDelegate=e(this),this.Pi=new iz(this),this.indexManager=new zU,this.remoteDocumentCache=(function(i){return new nz(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new BU(t),this.Ii=new JU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new tz(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){mt("MemoryPersistence","Starting transaction:",e);const i=new sz(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return Xe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class sz extends RB{constructor(e){super(),this.currentSequenceNumber=e}}class Kx{constructor(e){this.persistence=e,this.Ri=new Gx,this.Vi=null}static mi(e){return new Kx(e)}get fi(){if(this.Vi)return this.Vi;throw Bt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Xe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Xe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Xe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.fi,(r=>{const i=Pt.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,Yt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Xe.or([()=>Xe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class p1{constructor(e,t){this.persistence=e,this.pi=new bd((r=>IB(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=GU(this,t)}static mi(e,t){return new p1(e,t)}Ei(){}di(e){return Xe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Xe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Xe.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,t).next((l=>{l||(r++,s.removeEntry(a,Yt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Xe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Xe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Xe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Xe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pv(e.data.value)),t}br(e,t,r){return Xe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Xe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=yn(),i=yn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xx(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Oj()?8:MB(Ns())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new az;return this.Ss(e,t,a).next((l=>{if(s.result=l,this.Vs)return this.bs(e,t,a,l.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(ap()<=mn.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",op(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Xe.resolve()):(ap()<=mn.DEBUG&&mt("QueryEngine","Query:",op(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ap()<=mn.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",op(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tc(t))):Xe.resolve())}ys(e,t){if(B4(t))return Xe.resolve(null);let r=tc(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=i5(t,null,"F"),r=tc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=yn(...s);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const h=this.Ds(t,l);return this.Cs(t,h,a,c.readTime)?this.ys(e,i5(t,null,"F")):this.vs(e,h,t,c)}))))})))))}ws(e,t,r,i){return B4(t)||i.isEqual(Yt.min())?Xe.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(t,s);return this.Cs(t,a,r,i)?Xe.resolve(null):(ap()<=mn.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),op(t)),this.vs(e,a,t,DB(i,Gg)).next((l=>l)))}))}Ds(e,t){let r=new Mi(wR(e));return t.forEach(((i,s)=>{u2(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return ap()<=mn.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",op(t)),this.ps.getDocumentsMatchingQuery(e,t,zh.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="LocalStore",lz=3e8;class cz{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Or(gn),this.xs=new bd((s=>Ux(s)),zx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function uz(n,e,t,r){return new cz(n,e,t,r)}async function qR(n,e){const t=Gt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let c=yn();for(const h of i){a.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:l})))}))}))}function hz(n,e){const t=Gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,h,d){const p=h.batch,g=p.keys();let y=Xe.resolve();return g.forEach((_=>{y=y.next((()=>d.getEntry(c,_))).next((S=>{const T=h.docVersions.get(_);Un(T!==null,48541),S.version.compareTo(T)<0&&(p.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),d.addEntry(S)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=yn();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function WR(n){const e=Gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function fz(n,e){const t=Gt(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const l=[];e.targetChanges.forEach(((d,p)=>{const g=i.get(p);if(!g)return;l.push(t.Pi.removeMatchingKeys(s,d.removedDocuments,p).next((()=>t.Pi.addMatchingKeys(s,d.addedDocuments,p))));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(is.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(p,y),(function(S,T,E){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=lz?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(g,y,d)&&l.push(t.Pi.updateTargetData(s,y))}));let c=_u(),h=yn();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))})),l.push(dz(s,a,e.documentUpdates).next((d=>{c=d.ks,h=d.qs}))),!r.isEqual(Yt.min())){const d=t.Pi.getLastRemoteSnapshotVersion(s).next((p=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(d)}return Xe.waitFor(l).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,c,h))).next((()=>c))})).then((s=>(t.Ms=i,s)))}function dz(n,e,t){let r=yn(),i=yn();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let a=_u();return t.forEach(((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Yt.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):mt(Qx,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)})),{ks:a,qs:i}}))}function pz(n,e){const t=Gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Fx),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function mz(n,e){const t=Gt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,Xe.resolve(i)):t.Pi.allocateTargetId(r).next((a=>(i=new Th(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function c5(n,e,t){const r=Gt(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Jp(a))throw a;mt(Qx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Z4(n,e,t){const r=Gt(n);let i=Yt.min(),s=yn();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,h,d){const p=Gt(c),g=p.xs.get(d);return g!==void 0?Xe.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,d)})(r,a,tc(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{s=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,t?i:Yt.min(),t?s:yn()))).next((l=>(gz(r,tU(e),l),{documents:l,Qs:s})))))}function gz(n,e,t){let r=n.Os.get(e)||Yt.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}class e3{constructor(){this.activeTargetIds=oU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yz{constructor(){this.Mo=new e3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new e3,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="ConnectivityMonitor";class n3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(t3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){mt(t3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $y=null;function u5(){return $y===null?$y=(function(){return 268435456+Math.round(2147483648*Math.random())})():$y++,"0x"+$y.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="RestConnection",bz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===o1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const a=u5(),l=this.zo(e,t.toUriEncodedString());mt(bw,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:h}=new URL(l),d=$p(h);return this.Jo(e,l,c,r,d).then((p=>(mt(bw,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw kp(bw,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,t,r,i,s,a){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=bz[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="WebChannelConnection";class xz extends wz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const a=u5();return new Promise(((l,c)=>{const h=new KP;h.setWithCredentials(!0),h.listenOnce(XP.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Nv.NO_ERROR:const p=h.getResponseJson();mt(bs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Nv.TIMEOUT:mt(bs,`RPC '${e}' ${a} timed out`),c(new Ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case Nv.HTTP_ERROR:const g=h.getStatus();if(mt(bs,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y?.error;if(_&&_.status&&_.message){const S=(function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(A)>=0?A:et.UNKNOWN})(_.status);c(new Ct(S,_.message))}else c(new Ct(et.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ct(et.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{mt(bs,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(i);mt(bs,`RPC '${e}' ${a} sending request:`,i),h.send(t,"POST",d,r,15)}))}T_(e,t,r){const i=u5(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ZP(),l=JP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=s.join("");mt(bs,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=a.createWebChannel(d,c);this.I_(p);let g=!1,y=!1;const _=new _z({Yo:T=>{y?mt(bs,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(g||(mt(bs,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),mt(bs,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},Zo:()=>p.close()}),S=(T,E,A)=>{T.listen(E,(N=>{try{A(N)}catch(j){setTimeout((()=>{throw j}),0)}}))};return S(p,cg.EventType.OPEN,(()=>{y||(mt(bs,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),S(p,cg.EventType.CLOSE,(()=>{y||(y=!0,mt(bs,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(p))})),S(p,cg.EventType.ERROR,(T=>{y||(y=!0,kp(bs,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),_.a_(new Ct(et.UNAVAILABLE,"The operation could not be completed")))})),S(p,cg.EventType.MESSAGE,(T=>{if(!y){const E=T.data[0];Un(!!E,16349);const A=E,N=A?.error||A[0]?.error;if(N){mt(bs,`RPC '${e}' stream ${i} received error:`,N);const j=N.status;let U=(function(k){const O=vi[k];if(O!==void 0)return RR(O)})(j),K=N.message;U===void 0&&(U=et.INTERNAL,K="Unknown error status: "+j+" with message "+N.message),y=!0,_.a_(new Ct(U,K)),p.close()}else mt(bs,`RPC '${e}' stream ${i} received:`,E),_.u_(E)}})),S(l,QP.STAT_EVENT,(T=>{T.stat===J_.PROXY?mt(bs,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===J_.NOPROXY&&mt(bs,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function ww(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n){return new AU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&mt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="PersistentStream";class $R{constructor(e,t,r,i,s,a,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===et.RESOURCE_EXHAUSTED?(wu(t.toString()),wu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ct(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return mt(r3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(mt(r3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sz extends $R{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=kU(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Yt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Yt.min():a.readTime?nc(a.readTime):Yt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=l5(this.serializer),t.addTarget=(function(s,a){let l;const c=a.target;if(l=r5(c)?{documents:RU(s,c)}:{query:MU(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=IR(s,a.resumeToken);const h=s5(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Yt.min())>0){l.readTime=d1(s,a.snapshotVersion.toTimestamp());const h=s5(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const r=IU(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=l5(this.serializer),t.removeTarget=e,this.q_(t)}}class Tz extends $R{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Un(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Un(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Un(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=PU(e.writeResults,e.commitTime),r=nc(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=l5(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>NU(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{}class Az extends Ez{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,a5(t,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ct(et.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,a5(t,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ct(et.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Cz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wu(t),this.aa=!1):mt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="RemoteStore";class Dz{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{_d(this)&&(mt(cd,"Restarting streams for network reachability change."),await(async function(c){const h=Gt(c);h.Ea.add(4),await k0(h),h.Ra.set("Unknown"),h.Ea.delete(4),await m2(h)})(this))}))})),this.Ra=new Cz(r,i)}}async function m2(n){if(_d(n))for(const e of n.da)await e(!0)}async function k0(n){for(const e of n.da)await e(!1)}function GR(n,e){const t=Gt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),tS(t)?eS(t):Zp(t).O_()&&Zx(t,e))}function Jx(n,e){const t=Gt(n),r=Zp(t);t.Ia.delete(e),r.O_()&&KR(t,e),t.Ia.size===0&&(r.O_()?r.L_():_d(t)&&t.Ra.set("Unknown"))}function Zx(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zp(n).Y_(e)}function KR(n,e){n.Va.Ue(e),Zp(n).Z_(e)}function eS(n){n.Va=new xU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Zp(n).start(),n.Ra.ua()}function tS(n){return _d(n)&&!Zp(n).x_()&&n.Ia.size>0}function _d(n){return Gt(n).Ea.size===0}function XR(n){n.Va=void 0}async function kz(n){n.Ra.set("Online")}async function Nz(n){n.Ia.forEach(((e,t)=>{Zx(n,e)}))}async function Pz(n,e){XR(n),tS(n)?(n.Ra.ha(e),eS(n)):n.Ra.set("Unknown")}async function Rz(n,e,t){if(n.Ra.set("Online"),e instanceof LR&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))})(n,e)}catch(r){mt(cd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await m1(n,r)}else if(e instanceof Lv?n.Va.Ze(e):e instanceof MR?n.Va.st(e):n.Va.tt(e),!t.isEqual(Yt.min()))try{const r=await WR(n.localStore);t.compareTo(r)>=0&&await(function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach(((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(h);d&&s.Ia.set(h,d.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,h)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(is.EMPTY_BYTE_STRING,d.snapshotVersion)),KR(s,c);const p=new Th(d.target,c,h,d.sequenceNumber);Zx(s,p)})),s.remoteSyncer.applyRemoteEvent(l)})(n,t)}catch(r){mt(cd,"Failed to raise snapshot:",r),await m1(n,r)}}async function m1(n,e,t){if(!Jp(e))throw e;n.Ea.add(1),await k0(n),n.Ra.set("Offline"),t||(t=()=>WR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{mt(cd,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await m2(n)}))}function QR(n,e){return e().catch((t=>m1(n,t,e)))}async function g2(n){const e=Gt(n),t=Yh(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fx;for(;Mz(e);)try{const i=await pz(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,Lz(e,i)}catch(i){await m1(e,i)}JR(e)&&ZR(e)}function Mz(n){return _d(n)&&n.Ta.length<10}function Lz(n,e){n.Ta.push(e);const t=Yh(n);t.O_()&&t.X_&&t.ea(e.mutations)}function JR(n){return _d(n)&&!Yh(n).x_()&&n.Ta.length>0}function ZR(n){Yh(n).start()}async function Iz(n){Yh(n).ra()}async function Oz(n){const e=Yh(n);for(const t of n.Ta)e.ea(t.mutations)}async function jz(n,e,t){const r=n.Ta.shift(),i=Wx.from(r,e,t);await QR(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await g2(n)}async function Fz(n,e){e&&Yh(n).X_&&await(async function(r,i){if((function(a){return bU(a)&&a!==et.ABORTED})(i.code)){const s=r.Ta.shift();Yh(r).B_(),await QR(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await g2(r)}})(n,e),JR(n)&&ZR(n)}async function i3(n,e){const t=Gt(n);t.asyncQueue.verifyOperationInProgress(),mt(cd,"RemoteStore received new credentials");const r=_d(t);t.Ea.add(3),await k0(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await m2(t)}async function Vz(n,e){const t=Gt(n);e?(t.Ea.delete(2),await m2(t)):e||(t.Ea.add(2),await k0(t),t.Ra.set("Unknown"))}function Zp(n){return n.ma||(n.ma=(function(t,r,i){const s=Gt(t);return s.sa(),new Sz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:kz.bind(null,n),t_:Nz.bind(null,n),r_:Pz.bind(null,n),H_:Rz.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),tS(n)?eS(n):n.Ra.set("Unknown")):(await n.ma.stop(),XR(n))}))),n.ma}function Yh(n){return n.fa||(n.fa=(function(t,r,i){const s=Gt(t);return s.sa(),new Tz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Iz.bind(null,n),r_:Fz.bind(null,n),ta:Oz.bind(null,n),na:jz.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await g2(n)):(await n.fa.stop(),n.Ta.length>0&&(mt(cd,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ih,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,l=new nS(e,t,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rS(n,e){if(wu("AsyncQueue",`${e}: ${n}`),Jp(n))return new Ct(et.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static emptySet(e){return new xp(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pt.comparator(t.key,r.key):(t,r)=>Pt.comparator(t.key,r.key),this.keyedMap=ug(),this.sortedSet=new Or(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new xp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.ga=new Or(Pt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Bt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Lp{constructor(e,t,r,i,s,a,l,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach((l=>{a.push({type:0,doc:l})})),new Lp(e,t,xp.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&c2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Uz{constructor(){this.queries=a3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Gt(t),s=i.queries;i.queries=a3(),s.forEach(((a,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new Ct(et.ABORTED,"Firestore shutting down"))}}function a3(){return new bd((n=>bR(n)),c2)}async function zz(n,e){const t=Gt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Bz,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const l=rS(a,`Initialization of query '${op(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&iS(t)}async function Hz(n,e){const t=Gt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function qz(n,e){const t=Gt(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&iS(t)}function Wz(n,e,t){const r=Gt(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function iS(n){n.Ca.forEach((e=>{e.next()}))}var h5,o3;(o3=h5||(h5={})).Ma="default",o3.Cache="cache";class Yz{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Lp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==h5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.key=e}}class t6{constructor(e){this.key=e}}class $z{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yn(),this.mutatedKeys=yn(),this.eu=wR(e),this.tu=new xp(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new s3,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const g=i.get(d),y=u2(this.query,p)?p:null,_=!!g&&this.mutatedKeys.has(g.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;g&&y?g.data.isEqual(y.data)?_!==S&&(r.track({type:3,doc:y}),T=!0):this.su(g,y)||(r.track({type:2,doc:y}),T=!0,(c&&this.eu(y,c)>0||h&&this.eu(y,h)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),T=!0):g&&!y&&(r.track({type:1,doc:g}),T=!0,(c||h)&&(l=!0)),T&&(y?(a=a.add(y),s=S?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,p)=>(function(y,_){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Rt:T})}};return S(y)-S(_)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const l=t&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new Lp(this.query,e.tu,s,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new t6(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new e6(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=yn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Lp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sS="SyncEngine";class Gz{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Kz{constructor(e){this.key=e,this.hu=!1}}class Xz{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new bd((l=>bR(l)),c2),this.Iu=new Map,this.Eu=new Set,this.du=new Or(Pt.comparator),this.Au=new Map,this.Ru=new Gx,this.Vu={},this.mu=new Map,this.fu=Mp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qz(n,e,t=!0){const r=o6(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await n6(r,e,t,!0),i}async function Jz(n,e){const t=o6(n);await n6(t,e,!0,!1)}async function n6(n,e,t,r){const i=await mz(n.localStore,tc(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let l;return r&&(l=await Zz(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&GR(n.remoteStore,i),l}async function Zz(n,e,t,r,i){n.pu=(p,g,y)=>(async function(S,T,E,A){let N=T.view.ru(E);N.Cs&&(N=await Z4(S.localStore,T.query,!1).then((({documents:M})=>T.view.ru(M,N))));const j=A&&A.targetChanges.get(T.targetId),U=A&&A.targetMismatches.get(T.targetId)!=null,K=T.view.applyChanges(N,S.isPrimaryClient,j,U);return c3(S,T.targetId,K.au),K.snapshot})(n,p,g,y);const s=await Z4(n.localStore,e,!0),a=new $z(e,s.Qs),l=a.ru(s.documents),c=D0.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=a.applyChanges(l,n.isPrimaryClient,c);c3(n,t,h.au);const d=new Gz(e,t,a);return n.Tu.set(e,d),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),h.snapshot}async function eH(n,e,t){const r=Gt(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!c2(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await c5(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Jx(r.remoteStore,i.targetId),f5(r,i.targetId)})).catch(Qp)):(f5(r,i.targetId),await c5(r.localStore,i.targetId,!0))}async function tH(n,e){const t=Gt(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Jx(t.remoteStore,r.targetId))}async function nH(n,e,t){const r=cH(n);try{const i=await(function(a,l){const c=Gt(a),h=pr.now(),d=l.reduce(((y,_)=>y.add(_.key)),yn());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let _=_u(),S=yn();return c.Ns.getEntries(y,d).next((T=>{_=T,_.forEach(((E,A)=>{A.isValidDocument()||(S=S.add(E))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,_))).next((T=>{p=T;const E=[];for(const A of l){const N=pU(A,p.get(A.key).overlayedDocument);N!=null&&E.push(new wd(A.key,N,fR(N.value.mapValue),uu.exists(!0)))}return c.mutationQueue.addMutationBatch(y,h,E,l)})).next((T=>{g=T;const E=T.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(y,T.batchId,E)}))})).then((()=>({batchId:g.batchId,changes:xR(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,c){let h=a.Vu[a.currentUser.toKey()];h||(h=new Or(gn)),h=h.insert(l,c),a.Vu[a.currentUser.toKey()]=h})(r,i.batchId,t),await N0(r,i.changes),await g2(r.remoteStore)}catch(i){const s=rS(i,"Failed to persist write");t.reject(s)}}async function r6(n,e){const t=Gt(n);try{const r=await fz(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=t.Au.get(s);a&&(Un(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Un(a.hu,14607):i.removedDocuments.size>0&&(Un(a.hu,42227),a.hu=!1))})),await N0(t,r,e)}catch(r){await Qp(r)}}function l3(n,e,t){const r=Gt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const c=Gt(a);c.onlineState=l;let h=!1;c.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(l)&&(h=!0)})),h&&iS(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rH(n,e,t){const r=Gt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Or(Pt.comparator);a=a.insert(s,Es.newNoDocument(s,Yt.min()));const l=yn().add(s),c=new d2(Yt.min(),new Map,new Or(gn),a,l);await r6(r,c),r.du=r.du.remove(s),r.Au.delete(e),aS(r)}else await c5(r.localStore,e,!1).then((()=>f5(r,e,t))).catch(Qp)}async function iH(n,e){const t=Gt(n),r=e.batch.batchId;try{const i=await hz(t.localStore,e);s6(t,r,null),i6(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await N0(t,i)}catch(i){await Qp(i)}}async function sH(n,e,t){const r=Gt(n);try{const i=await(function(a,l){const c=Gt(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return c.mutationQueue.lookupMutationBatch(h,l).next((p=>(Un(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(h,p)))).next((()=>c.mutationQueue.performConsistencyCheck(h))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>c.localDocuments.getDocuments(h,d)))}))})(r.localStore,e);s6(r,e,t),i6(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await N0(r,i)}catch(i){await Qp(i)}}function i6(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function s6(n,e,t){const r=Gt(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function f5(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||a6(n,r)}))}function a6(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Jx(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),aS(n))}function c3(n,e,t){for(const r of t)r instanceof e6?(n.Ru.addReference(r.key,e),aH(n,r)):r instanceof t6?(mt(sS,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||a6(n,r.key)):Bt(19791,{wu:r})}function aH(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(mt(sS,"New document in limbo: "+t),n.Eu.add(r),aS(n))}function aS(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Pt(Rr.fromString(e)),r=n.fu.next();n.Au.set(r,new Kz(t)),n.du=n.du.insert(t,r),GR(n.remoteStore,new Th(tc(Hx(t.path)),r,"TargetPurposeLimboResolution",s2.ce))}}async function N0(n,e,t){const r=Gt(n),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,e,t).then((h=>{if((h||t)&&r.isPrimaryClient){const d=h?!h.fromCache:t?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(h){i.push(h);const d=Xx.As(c.targetId,h);s.push(d)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(c,h){const d=Gt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Xe.forEach(h,(g=>Xe.forEach(g.Es,(y=>d.persistence.referenceDelegate.addReference(p,g.targetId,y))).next((()=>Xe.forEach(g.ds,(y=>d.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))))))}catch(p){if(!Jp(p))throw p;mt(Qx,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=d.Ms.get(g),_=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(_);d.Ms=d.Ms.insert(g,S)}}})(r.localStore,s))}async function oH(n,e){const t=Gt(n);if(!t.currentUser.isEqual(e)){mt(sS,"User change. New user:",e.toKey());const r=await qR(t.localStore,e);t.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new Ct(et.CANCELLED,a))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await N0(t,r.Ls)}}function lH(n,e){const t=Gt(n),r=t.Au.get(e);if(r&&r.hu)return yn().add(r.key);{let i=yn();const s=t.Iu.get(e);if(!s)return i;for(const a of s){const l=t.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function o6(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=r6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rH.bind(null,e),e.Pu.H_=qz.bind(null,e.eventManager),e.Pu.yu=Wz.bind(null,e.eventManager),e}function cH(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sH.bind(null,e),e}class g1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=p2(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return uz(this.persistence,new oz,e.initialUser,this.serializer)}Cu(e){return new HR(Kx.mi,this.serializer)}Du(e){return new yz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}g1.provider={build:()=>new g1};class uH extends g1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Un(this.persistence.referenceDelegate instanceof p1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YU(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?sa.withCacheSize(this.cacheSizeBytes):sa.DEFAULT;return new HR((r=>p1.mi(r,t)),this.serializer)}}class d5{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oH.bind(null,this.syncEngine),await Vz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Uz})()}createDatastore(e){const t=p2(e.databaseInfo.databaseId),r=(function(s){return new xz(s)})(e.databaseInfo);return(function(s,a,l,c){return new Az(s,a,l,c)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,a,l){return new Dz(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>l3(this.syncEngine,t,0)),(function(){return n3.v()?new n3:new vz})())}createSyncEngine(e,t){return(function(i,s,a,l,c,h,d){const p=new Xz(i,s,a,l,c,h);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Gt(t);mt(cd,"RemoteStore shutting down."),r.Ea.add(5),await k0(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}d5.provider={build:()=>new d5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="FirestoreClient";class fH{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ts.UNAUTHENTICATED,this.clientId=Ox.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{mt($h,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(mt($h,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ih;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=rS(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _w(n,e){n.asyncQueue.verifyOperationInProgress(),mt($h,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await qR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function u3(n,e){n.asyncQueue.verifyOperationInProgress();const t=await dH(n);mt($h,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>i3(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>i3(e.remoteStore,i))),n._onlineComponents=e}async function dH(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt($h,"Using user provided OfflineComponentProvider");try{await _w(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;kp("Error using user provided cache. Falling back to memory cache: "+t),await _w(n,new g1)}}else mt($h,"Using default OfflineComponentProvider"),await _w(n,new uH(void 0));return n._offlineComponents}async function l6(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt($h,"Using user provided OnlineComponentProvider"),await u3(n,n._uninitializedComponentsProvider._online)):(mt($h,"Using default OnlineComponentProvider"),await u3(n,new d5))),n._onlineComponents}function pH(n){return l6(n).then((e=>e.syncEngine))}async function mH(n){const e=await l6(n),t=e.eventManager;return t.onListen=Qz.bind(null,e.syncEngine),t.onUnlisten=eH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Jz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tH.bind(null,e.syncEngine),t}function gH(n,e,t={}){const r=new Ih;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,h){const d=new hH({next:g=>{d.Nu(),a.enqueueAndForget((()=>Hz(s,p)));const y=g.docs.has(l);!y&&g.fromCache?h.reject(new Ct(et.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?h.reject(new Ct(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Yz(Hx(l.path),d,{includeMetadataChanges:!0,qa:!0});return zz(s,p)})(await mH(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="firestore.googleapis.com",f3=!0;class d3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u6,this.ssl=f3}else this.host=e.host,this.ssl=e.ssl??f3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qU)throw new Ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oS{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gB;switch(r.type){case"firstParty":return new wB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=h3.get(t);r&&(mt("ComponentProvider","Removing Datastore"),h3.delete(t),r.terminate())})(this),Promise.resolve()}}function yH(n,e,t,r={}){n=$g(n,oS);const i=$p(e),s=n._getSettings(),a={...s,emulatorOptions:n._getEmulatorOptions()},l=`${e}:${t}`;i&&(aP(`https://${l}`),oP("Firestore",!0)),s.host!==u6&&s.host!==l&&kp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!id(c,a)&&(n._setSettings(c),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Ts.MOCK_USER;else{h=Cj(r.mockUserToken,n._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ts(p)}n._authCredentials=new yB(new tR(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lS(this.firestore,e,this._query)}}class Yi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new e0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yi(this.firestore,e,this._key)}toJSON(){return{type:Yi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(A0(t,Yi._jsonSchema))return new Yi(e,r||null,new Pt(Rr.fromString(t.referencePath)))}}Yi._jsonSchemaVersion="firestore/documentReference/1.0",Yi._jsonSchema={type:wi("string",Yi._jsonSchemaVersion),referencePath:wi("string")};class e0 extends lS{constructor(e,t,r){super(e,t,Hx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yi(this.firestore,null,new Pt(e))}withConverter(e){return new e0(this.firestore,e,this._path)}}function p3(n,e,...t){if(n=bo(n),arguments.length===1&&(e=Ox.newId()),AB("doc","path",e),n instanceof oS){const r=Rr.fromString(e,...t);return C4(r),new Yi(n,null,new Pt(r))}{if(!(n instanceof Yi||n instanceof e0))throw new Ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rr.fromString(e,...t));return C4(r),new Yi(n.firestore,n instanceof e0?n.converter:null,new Pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="AsyncQueue";class g3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YR(this,"async_queue_retry"),this._c=()=>{const r=ww();r&&mt(m3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=ww();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ww();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ih;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jp(e))throw e;mt(m3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,wu("INTERNAL UNHANDLED ERROR: ",y3(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=nS.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Bt(47125,{Pc:y3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function y3(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class cS extends oS{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new g3,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g3(e),this._firestoreClient=void 0,await e}}}function vH(n,e){const t=typeof n=="object"?n:hP(),r=typeof n=="string"?n:o1,i=Ax(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Ej("firestore");s&&yH(i,...s)}return i}function h6(n){if(n._terminated)throw new Ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bH(n),n._firestoreClient}function bH(n){const e=n._freezeSettings(),t=(function(i,s,a,l){return new FB(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,c6(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new fH(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(is.fromBase64String(e))}catch(t){throw new Ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yo(is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(A0(e,yo._jsonSchema))return yo.fromBase64String(e.bytes)}}yo._jsonSchemaVersion="firestore/bytes/1.0",yo._jsonSchema={type:wi("string",yo._jsonSchemaVersion),bytes:wi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rc._jsonSchemaVersion}}static fromJSON(e){if(A0(e,rc._jsonSchema))return new rc(e.latitude,e.longitude)}}rc._jsonSchemaVersion="firestore/geoPoint/1.0",rc._jsonSchema={type:wi("string",rc._jsonSchemaVersion),latitude:wi("number"),longitude:wi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ic._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(A0(e,ic._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ic(e.vectorValues);throw new Ct(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ic._jsonSchemaVersion="firestore/vectorValue/1.0",ic._jsonSchema={type:wi("string",ic._jsonSchemaVersion),vectorValues:wi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=/^__.*__$/;class _H{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new wd(e,this.data,this.fieldMask,t,this.fieldTransforms):new C0(e,this.data,t,this.fieldTransforms)}}function d6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{Ac:n})}}class hS{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return y1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(d6(this.Ac)&&wH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xH{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||p2(e)}Cc(e,t,r,i=!1){return new hS({Ac:e,methodName:t,Dc:r,path:rs.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SH(n){const e=n._freezeSettings(),t=p2(n._databaseId);return new xH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TH(n,e,t,r,i,s={}){const a=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);y6("Data must be an object, but it was:",a,r);const l=m6(r,a);let c,h;if(s.merge)c=new el(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=EH(e,p,t);if(!a.contains(g))throw new Ct(et.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);CH(d,g)||d.push(g)}c=new el(d),h=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,h=a.fieldTransforms;return new _H(new go(l),c,h)}function p6(n,e){if(g6(n=bo(n)))return y6("Unsupported field value:",e,n),m6(n,e);if(n instanceof f6)return(function(r,i){if(!d6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let c=p6(l,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=bo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=pr.fromDate(r);return{timestampValue:d1(i.serializer,s)}}if(r instanceof pr){const s=new pr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:d1(i.serializer,s)}}if(r instanceof rc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yo)return{bytesValue:IR(i.serializer,r._byteString)};if(r instanceof Yi){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$x(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ic)return(function(a,l){return{mapValue:{fields:{[uR]:{stringValue:hR},[l1]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return qx(l.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${jx(r)}`)})(n,e)}function m6(n,e){const t={};return iR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vd(n,((r,i)=>{const s=p6(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function g6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pr||n instanceof rc||n instanceof yo||n instanceof Yi||n instanceof f6||n instanceof ic)}function y6(n,e,t){if(!g6(t)||!nR(t)){const r=jx(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function EH(n,e,t){if((e=bo(e))instanceof uS)return e._internalPath;if(typeof e=="string")return v6(n,e);throw y1("Field path arguments must be of type string or ",n,!1,void 0,t)}const AH=new RegExp("[~\\*/\\[\\]]");function v6(n,e,t){if(e.search(AH)>=0)throw y1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uS(...e.split("."))._internalPath}catch{throw y1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function y1(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Ct(et.INVALID_ARGUMENT,l+n+c)}function CH(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(w6("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DH extends b6{data(){return super.data()}}function w6(n,e){return typeof e=="string"?v6(n,e):e instanceof uS?e._internalPath:e._delegate._internalPath}class kH{convertValue(e,t="none"){switch(Wh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Bt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vd(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){const t=e.fields?.[l1].arrayValue?.values?.map((r=>si(r.doubleValue)));return new ic(t)}convertGeoPoint(e){return new rc(si(e.latitude),si(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=o2(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kg(e));default:return null}}convertTimestamp(e){const t=Hh(e);return new pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Rr.fromString(e);Un(UR(r),9688,{name:e});const i=new Xg(r.get(1),r.get(3)),s=new Pt(r.popFirst(5));return i.isEqual(t)||wu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class fg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $f extends b6{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(w6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$f._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$f._jsonSchemaVersion="firestore/documentSnapshot/1.0",$f._jsonSchema={type:wi("string",$f._jsonSchemaVersion),bundleSource:wi("string","DocumentSnapshot"),bundleName:wi("string"),bundle:wi("string")};class Iv extends $f{data(e={}){return super.data(e)}}class Cg{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Iv(this._firestore,this._userDataWriter,r.key,r,new fg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const c=new Iv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new Iv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:PH(l.type),doc:c,oldIndex:h,newIndex:d}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ox.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(n){n=$g(n,Yi);const e=$g(n.firestore,cS);return gH(h6(e),n._key).then((t=>OH(e,n,t)))}Cg._jsonSchemaVersion="firestore/querySnapshot/1.0",Cg._jsonSchema={type:wi("string",Cg._jsonSchemaVersion),bundleSource:wi("string","QuerySnapshot"),bundleName:wi("string"),bundle:wi("string")};class MH extends kH{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yi(this.firestore,null,t)}}function LH(n,e,t){n=$g(n,Yi);const r=$g(n.firestore,cS),i=NH(n.converter,e);return IH(r,[TH(SH(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,uu.none())])}function IH(n,e){return(function(r,i){const s=new Ih;return r.asyncQueue.enqueueAndForget((async()=>nH(await pH(r),i,s))),s.promise})(h6(n),e)}function OH(n,e,t){const r=t.docs.get(e._key),i=new MH(n);return new $f(n,i,e._key,r,new fg(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Xp=i})(Gp),Dp(new sd("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new cS(new vB(r.getProvider("auth-internal")),new _B(a,r.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xg(h.options.projectId,d)})(a,i),a);return s={useFetchStreams:t,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Mh(S4,T4,e),Mh(S4,T4,"esm2020")})();const jH={apiKey:"AIzasyBJJaav3vJAFWmNwUfTq09UQYx1M2cAKxVg",authDomain:"health-assistant-7fc4e.firebaseapp.com",projectId:"health-assistant-7fc4e",storageBucket:"health-assistant-7fc4e.firebasestorage.app",messagingSenderId:"368093452004",appId:"1:368093452004:web:07621f7597aa1985673ef1",measurementId:"G-LLTYLJYWN9"},_6=uP(jH),p5=fB(_6),v3=vH(_6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VH=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),b3=n=>{const e=VH(n);return e.charAt(0).toUpperCase()+e.slice(1)},x6=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),BH=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>$.createElement("svg",{ref:c,...UH,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:x6("lucide",i),...!s&&!BH(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,d])=>$.createElement(h,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(n,e)=>{const t=$.forwardRef(({className:r,...i},s)=>$.createElement(zH,{ref:s,iconNode:e,className:x6(`lucide-${FH(b3(n))}`,`lucide-${n}`,r),...i}));return t.displayName=b3(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qH=rr("activity",HH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YH=rr("badge-check",WH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],GH=rr("calendar-days",$H);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],XH=rr("calendar",KH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],JH=rr("chevron-right",QH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eq=rr("circle-check",ZH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nq=rr("circle-x",tq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],w3=rr("clipboard-list",rq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M9 14h6",key:"159ibu"}],["path",{d:"M12 17v-6",key:"1y8rbf"}]],sq=rr("clipboard-plus",iq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],S6=rr("clock",aq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lq=rr("compass",oq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],uq=rr("dollar-sign",cq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M2 7v10",key:"a2pl2d"}],["path",{d:"M6 5v14",key:"1kq3d7"}],["rect",{width:"12",height:"18",x:"10",y:"3",rx:"2",key:"13i7bc"}]],fq=rr("gallery-horizontal-end",hq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]],T6=rr("hospital",dq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],_3=rr("house",pq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],x3=rr("log-out",mq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],t0=rr("map-pin",gq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],vq=rr("menu",yq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],wq=rr("message-circle",bq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M14.8 7.5a1.84 1.84 0 0 0-2.6 0l-.2.3-.3-.3a1.84 1.84 0 1 0-2.4 2.8L12 13l2.7-2.7c.9-.9.8-2.1.1-2.8",key:"1blaws"}]],xq=rr("message-square-heart",_q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Tq=rr("mic",Sq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Aq=rr("phone-call",Eq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],fS=rr("phone",Cq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],kq=rr("send",Dq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],y2=rr("stethoscope",Nq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dS=rr("user",Pq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Mq=rr("video",Rq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],E6=rr("x",Lq);function A6(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=A6(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Er(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=A6(n))&&(r&&(r+=" "),r+=e);return r}function Iq(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Iq(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var P0=n=>typeof n=="number"&&!isNaN(n),ud=n=>typeof n=="string",xu=n=>typeof n=="function",Oq=n=>ud(n)||P0(n),m5=n=>ud(n)||xu(n)?n:null,jq=(n,e)=>n===!1||P0(n)&&n>0?n:e,g5=n=>$.isValidElement(n)||ud(n)||xu(n)||P0(n);function Fq(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function Vq({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:a,preventExitTransition:l,done:c,nodeRef:h,isIn:d,playToast:p}){let g=t?`${n}--${a}`:n,y=t?`${e}--${a}`:e,_=$.useRef(0);return $.useLayoutEffect(()=>{let S=h.current,T=g.split(" "),E=A=>{A.target===h.current&&(p(),S.removeEventListener("animationend",E),S.removeEventListener("animationcancel",E),_.current===0&&A.type!=="animationcancel"&&S.classList.remove(...T))};S.classList.add(...T),S.addEventListener("animationend",E),S.addEventListener("animationcancel",E)},[]),$.useEffect(()=>{let S=h.current,T=()=>{S.removeEventListener("animationend",T),r?Fq(S,c,i):c()};d||(l?T():(_.current=1,S.className+=` ${y}`,S.addEventListener("animationend",T)))},[d]),Ee.createElement(Ee.Fragment,null,s)}}function S3(n,e){return{content:C6(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function C6(n,e,t=!1){return $.isValidElement(n)&&!ud(n.type)?$.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):xu(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function Bq({closeToast:n,theme:e,ariaLabel:t="close"}){return Ee.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Ee.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ee.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Uq({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:s,controlledProgress:a,progress:l,rtl:c,isIn:h,theme:d}){let p=i||a&&l===0,g={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};a&&(g.transform=`scaleX(${l})`);let y=Er("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),_=xu(s)?s({rtl:c,type:r,defaultClassName:y}):Er(y,s),S={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{h&&t()}};return Ee.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Ee.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),Ee.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:g,...S}))}var zq=1,D6=()=>`${zq++}`;function Hq(n,e,t){let r=1,i=0,s=[],a=[],l=e,c=new Map,h=new Set,d=A=>(h.add(A),()=>h.delete(A)),p=()=>{a=Array.from(c.values()),h.forEach(A=>A())},g=({containerId:A,toastId:N,updateId:j})=>{let U=A?A!==n:n!==1,K=c.has(N)&&j==null;return U||K},y=(A,N)=>{c.forEach(j=>{var U;(N==null||N===j.props.toastId)&&((U=j.toggle)==null||U.call(j,A))})},_=A=>{var N,j;(j=(N=A.props)==null?void 0:N.onClose)==null||j.call(N,A.removalReason),A.isActive=!1},S=A=>{if(A==null)c.forEach(_);else{let N=c.get(A);N&&_(N)}p()},T=()=>{i-=s.length,s=[]},E=A=>{var N,j;let{toastId:U,updateId:K}=A.props,M=K==null;A.staleId&&c.delete(A.staleId),A.isActive=!0,c.set(U,A),p(),t(S3(A,M?"added":"updated")),M&&((j=(N=A.props).onOpen)==null||j.call(N))};return{id:n,props:l,observe:d,toggle:y,removeToast:S,toasts:c,clearQueue:T,buildToast:(A,N)=>{if(g(N))return;let{toastId:j,updateId:U,data:K,staleId:M,delay:k}=N,O=U==null;O&&i++;let H={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(N).filter(([L,V])=>V!=null)),toastId:j,updateId:U,data:K,isIn:!1,className:m5(N.className||l.toastClassName),progressClassName:m5(N.progressClassName||l.progressClassName),autoClose:N.isLoading?!1:jq(N.autoClose,l.autoClose),closeToast(L){c.get(j).removalReason=L,S(j)},deleteToast(){let L=c.get(j);if(L!=null){if(t(S3(L,"removed")),c.delete(j),i--,i<0&&(i=0),s.length>0){E(s.shift());return}p()}}};H.closeButton=l.closeButton,N.closeButton===!1||g5(N.closeButton)?H.closeButton=N.closeButton:N.closeButton===!0&&(H.closeButton=g5(l.closeButton)?l.closeButton:!0);let R={content:A,props:H,staleId:M};l.limit&&l.limit>0&&i>l.limit&&O?s.push(R):P0(k)?setTimeout(()=>{E(R)},k):E(R)},setProps(A){l=A},setToggle:(A,N)=>{let j=c.get(A);j&&(j.toggle=N)},isToastActive:A=>{var N;return(N=c.get(A))==null?void 0:N.isActive},getSnapshot:()=>a}}var Vs=new Map,n0=[],y5=new Set,qq=n=>y5.forEach(e=>e(n)),k6=()=>Vs.size>0;function Wq(){n0.forEach(n=>P6(n.content,n.options)),n0=[]}var Yq=(n,{containerId:e})=>{var t;return(t=Vs.get(e||1))==null?void 0:t.toasts.get(n)};function N6(n,e){var t;if(e)return!!((t=Vs.get(e))!=null&&t.isToastActive(n));let r=!1;return Vs.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function $q(n){if(!k6()){n0=n0.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||Oq(n))Vs.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Vs.get(n.containerId);e?e.removeToast(n.id):Vs.forEach(t=>{t.removeToast(n.id)})}}var Gq=(n={})=>{Vs.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function P6(n,e){g5(n)&&(k6()||n0.push({content:n,options:e}),Vs.forEach(t=>{t.buildToast(n,e)}))}function Kq(n){var e;(e=Vs.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function R6(n,e){Vs.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function Xq(n){let e=n.containerId||1;return{subscribe(t){let r=Hq(e,n,qq);Vs.set(e,r);let i=r.observe(t);return Wq(),()=>{i(),Vs.delete(e)}},setProps(t){var r;(r=Vs.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Vs.get(e))==null?void 0:t.getSnapshot()}}}function Qq(n){return y5.add(n),()=>{y5.delete(n)}}function Jq(n){return n&&(ud(n.toastId)||P0(n.toastId))?n.toastId:D6()}function R0(n,e){return P6(n,e),e.toastId}function v2(n,e){return{...e,type:e&&e.type||n,toastId:Jq(e)}}function b2(n){return(e,t)=>R0(e,v2(n,t))}function ct(n,e){return R0(n,v2("default",e))}ct.loading=(n,e)=>R0(n,v2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Zq(n,{pending:e,error:t,success:r},i){let s;e&&(s=ud(e)?ct.loading(e,i):ct.loading(e.render,{...i,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,d,p)=>{if(d==null){ct.dismiss(s);return}let g={type:h,...a,...i,data:p},y=ud(d)?{render:d}:d;return s?ct.update(s,{...g,...y}):ct(y.render,{...g,...y}),p},c=xu(n)?n():n;return c.then(h=>l("success",r,h)).catch(h=>l("error",t,h)),c}ct.promise=Zq;ct.success=b2("success");ct.info=b2("info");ct.error=b2("error");ct.warning=b2("warning");ct.warn=ct.warning;ct.dark=(n,e)=>R0(n,v2("default",{theme:"dark",...e}));function eW(n){$q(n)}ct.dismiss=eW;ct.clearWaitingQueue=Gq;ct.isActive=N6;ct.update=(n,e={})=>{let t=Yq(n,e);if(t){let{props:r,content:i}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:D6()};s.toastId!==n&&(s.staleId=n);let a=s.render||i;delete s.render,R0(a,s)}};ct.done=n=>{ct.update(n,{progress:1})};ct.onChange=Qq;ct.play=n=>R6(!0,n);ct.pause=n=>R6(!1,n);function tW(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=$.useRef(Xq(n)).current;i(n);let s=(e=$.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function a(l){if(!s)return[];let c=new Map;return n.newestOnTop&&s.reverse(),s.forEach(h=>{let{position:d}=h.props;c.has(d)||c.set(d,[]),c.get(d).push(h)}),Array.from(c,h=>l(h[0],h[1]))}return{getToastToRender:a,isToastActive:N6,count:s?.length}}function nW(n){let[e,t]=$.useState(!1),[r,i]=$.useState(!1),s=$.useRef(null),a=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:h,onClick:d,closeOnClick:p}=n;Kq({id:n.toastId,containerId:n.containerId,fn:t}),$.useEffect(()=>{if(n.pauseOnFocusLoss)return g(),()=>{y()}},[n.pauseOnFocusLoss]);function g(){document.hasFocus()||E(),window.addEventListener("focus",T),window.addEventListener("blur",E)}function y(){window.removeEventListener("focus",T),window.removeEventListener("blur",E)}function _(M){if(n.draggable===!0||n.draggable===M.pointerType){A();let k=s.current;a.canCloseOnClick=!0,a.canDrag=!0,k.style.transition="none",n.draggableDirection==="x"?(a.start=M.clientX,a.removalDistance=k.offsetWidth*(n.draggablePercent/100)):(a.start=M.clientY,a.removalDistance=k.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function S(M){let{top:k,bottom:O,left:H,right:R}=s.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&n.pauseOnHover&&M.clientX>=H&&M.clientX<=R&&M.clientY>=k&&M.clientY<=O?E():T()}function T(){t(!0)}function E(){t(!1)}function A(){a.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",U)}function N(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",U)}function j(M){let k=s.current;if(a.canDrag&&k){a.didMove=!0,e&&E(),n.draggableDirection==="x"?a.delta=M.clientX-a.start:a.delta=M.clientY-a.start,a.start!==M.clientX&&(a.canCloseOnClick=!1);let O=n.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;k.style.transform=`translate3d(${O},0)`,k.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function U(){N();let M=s.current;if(a.canDrag&&a.didMove&&M){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let K={onPointerDown:_,onPointerUp:S};return l&&c&&(K.onMouseEnter=E,n.stacked||(K.onMouseLeave=T)),p&&(K.onClick=M=>{d&&d(M),a.canCloseOnClick&&h(!0)}),{playToast:T,pauseToast:E,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:K}}var rW=typeof window<"u"?$.useLayoutEffect:$.useEffect,w2=({theme:n,type:e,isLoading:t,...r})=>Ee.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function iW(n){return Ee.createElement(w2,{...n},Ee.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function sW(n){return Ee.createElement(w2,{...n},Ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function aW(n){return Ee.createElement(w2,{...n},Ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function oW(n){return Ee.createElement(w2,{...n},Ee.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function lW(){return Ee.createElement("div",{className:"Toastify__spinner"})}var v5={info:sW,warning:iW,success:aW,error:oW,spinner:lW},cW=n=>n in v5;function uW({theme:n,type:e,isLoading:t,icon:r}){let i=null,s={theme:n,type:e};return r===!1||(xu(r)?i=r({...s,isLoading:t}):$.isValidElement(r)?i=$.cloneElement(r,s):t?i=v5.spinner():cW(e)&&(i=v5[e](s))),i}var hW=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:s}=nW(n),{closeButton:a,children:l,autoClose:c,onClick:h,type:d,hideProgressBar:p,closeToast:g,transition:y,position:_,className:S,style:T,progressClassName:E,updateId:A,role:N,progress:j,rtl:U,toastId:K,deleteToast:M,isIn:k,isLoading:O,closeOnClick:H,theme:R,ariaLabel:L}=n,V=Er("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":U},{"Toastify__toast--close-on-click":H}),se=xu(S)?S({rtl:U,position:_,type:d,defaultClassName:V}):Er(V,S),pe=uW(n),G=!!j||!c,Q={closeToast:g,type:d,theme:R},re=null;return a===!1||(xu(a)?re=a(Q):$.isValidElement(a)?re=$.cloneElement(a,Q):re=Bq(Q)),Ee.createElement(y,{isIn:k,done:M,position:_,preventExitTransition:t,nodeRef:r,playToast:s},Ee.createElement("div",{id:K,tabIndex:0,onClick:h,"data-in":k,className:se,...i,style:T,ref:r,...k&&{role:N,"aria-label":L}},pe!=null&&Ee.createElement("div",{className:Er("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},pe),C6(l,n,!e),re,!n.customProgressBar&&Ee.createElement(Uq,{...A&&!G?{key:`p-${A}`}:{},rtl:U,theme:R,delay:c,isRunning:e,isIn:k,closeToast:g,hide:p,type:d,className:E,controlledProgress:G,progress:j||0})))},fW=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),dW=Vq(fW("bounce",!0)),pW={position:"top-right",transition:dW,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function yc(n){let e={...pW,...n},t=n.stacked,[r,i]=$.useState(!0),s=$.useRef(null),{getToastToRender:a,isToastActive:l,count:c}=tW(e),{className:h,style:d,rtl:p,containerId:g,hotKeys:y}=e;function _(T){let E=Er("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":p});return xu(h)?h({position:T,rtl:p,defaultClassName:E}):Er(E,m5(h))}function S(){t&&(i(!0),ct.play())}return rW(()=>{var T;if(t){let E=s.current.querySelectorAll('[data-in="true"]'),A=12,N=(T=e.position)==null?void 0:T.includes("top"),j=0,U=0;Array.from(E).reverse().forEach((K,M)=>{let k=K;k.classList.add("Toastify__toast--stacked"),M>0&&(k.dataset.collapsed=`${r}`),k.dataset.pos||(k.dataset.pos=N?"top":"bot");let O=j*(r?.2:1)+(r?0:A*M);k.style.setProperty("--y",`${N?O:O*-1}px`),k.style.setProperty("--g",`${A}`),k.style.setProperty("--s",`${1-(r?U:0)}`),j+=k.offsetHeight,U+=.025})}},[r,c,t]),$.useEffect(()=>{function T(E){var A;let N=s.current;y(E)&&((A=N.querySelector('[tabIndex="0"]'))==null||A.focus(),i(!1),ct.pause()),E.key==="Escape"&&(document.activeElement===N||N!=null&&N.contains(document.activeElement))&&(i(!0),ct.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[y]),Ee.createElement("section",{ref:s,className:"Toastify",id:g,onMouseEnter:()=>{t&&(i(!1),ct.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((T,E)=>{let A=E.length?{...d}:{...d,pointerEvents:"none"};return Ee.createElement("div",{tabIndex:-1,className:_(T),"data-stacked":t,style:A,key:`c-${T}`},E.map(({content:N,props:j})=>Ee.createElement(hW,{...j,stacked:t,collapseAll:S,isIn:l(j.toastId,j.containerId),key:`t-${j.key}`},N)))}))}const mW=()=>{const n=gd(),[e,t]=$.useState(localStorage.getItem("role")||"user"),[r,i]=$.useState(!1);$.useEffect(()=>{const a=()=>{t(localStorage.getItem("role")||"user")};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]);const s=async()=>{const a=localStorage.getItem("role");try{await tV(p5),a==="doctor"?localStorage.removeItem("doctorContact"):localStorage.removeItem("phone"),localStorage.removeItem("role"),ct.success("Logged out successfully"),n("/")}catch(l){ct.error("Logout failed: "+l.message)}};return B.jsxs("header",{className:"fixed top-0 left-0 w-full z-50 bg-gradient-to-r from-[#191024] via-[#1e293b] to-[#0f172a] shadow-lg border-b border-gray-800",children:[B.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center py-4 px-6",children:[B.jsxs("div",{className:"text-3xl font-bold tracking-wide cursor-pointer",onClick:()=>n("/home"),children:[B.jsx("span",{className:"text-[#f43f5e]",children:"Dr."}),B.jsx("span",{className:"text-gray-200",children:"Care"})]}),B.jsxs("nav",{className:"hidden md:flex items-center space-x-8 font-medium text-gray-300",children:[B.jsxs(e2,{to:"/home",className:"flex items-center gap-2 hover:text-[#f43f5e]",children:[B.jsx(_3,{className:"w-5 h-5"})," Home"]}),B.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-[#f43f5e] text-white px-4 py-2 rounded-lg hover:bg-[#be123c] transition transform hover:scale-105 active:scale-95 shadow-md",children:[B.jsx(x3,{className:"w-5 h-5"})," Logout"]})]}),B.jsxs("div",{className:"flex md:hidden items-center gap-5 text-gray-300",children:[B.jsx(_3,{className:"w-6 h-6 cursor-pointer hover:text-[#f43f5e]",onClick:()=>n("/home")}),B.jsx(x3,{className:"w-6 h-6 cursor-pointer hover:text-[#f43f5e]",onClick:()=>i(!0)})]})]}),r&&B.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-black/50 z-50",children:B.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl shadow-xl max-w-sm w-full text-center text-gray-200",children:[B.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Confirm Logout"}),B.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to logout?"}),B.jsxs("div",{className:"flex justify-center gap-4",children:[B.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 rounded-lg border border-gray-500 text-gray-300 hover:bg-gray-700 transition",children:"Cancel"}),B.jsx("button",{onClick:s,className:"px-4 py-2 rounded-lg bg-[#f43f5e] text-white hover:bg-[#be123c] transition transform hover:scale-105 active:scale-95 shadow-md",children:"Logout"})]})]})})]})},gW="/assets/h-Bea4kVyO.jpg",yW="/assets/d-ML0siy26.jpg",vW=()=>{const n=gd(),i=(localStorage.getItem("role")||"user")==="doctor"?[{title:"Doctor Dashboard",desc:"View appointments and manage patients",icon:w3,route:"/doctor-dashboard"},{title:"Doctor Profile",desc:"Manage your profile & specialties",icon:dS,route:"/doctorLogin"}]:[{title:"Find & Book Doctors",desc:"Search doctors by specialty & book appointments",icon:y2},{title:"Symptom Checker AI",desc:"Describe symptoms, get instant AI insights",icon:xq},{title:"Nearby Hospitals",desc:"Search hospitals by your location",icon:T6},{title:"Medical Report Summary",desc:"Upload reports & get quick health summary",icon:w3}];return B.jsxs("div",{className:"mt-10 min-h-screen text-gray-200 font-sans overflow-x-hidden",children:[B.jsxs("section",{className:"relative overflow-hidden py-20 px-6 max-w-7xl mx-auto text-center",children:[B.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-[600px] h-[600px] bg-pink-300 rounded-full opacity-20 animate-pulse-slow -z-10"}),B.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-blue-400 rounded-full opacity-20 animate-pulse-slow -z-10"}),B.jsx("div",{className:"absolute top-0 left-1/3 transform -translate-x-1/2 h-full w-px bg-white opacity-5"}),B.jsx("div",{className:"absolute top-0 left-2/3 transform -translate-x-1/2 h-full w-px bg-white opacity-5"}),B.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 max-w-full sm:w-64 h-96 animate-float z-0",children:B.jsxs("svg",{viewBox:"0 0 1200 800",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":"title desc",children:[B.jsx("title",{id:"title",children:"Healthy Lifestyle Illustration"}),B.jsx("desc",{id:"desc",children:"A big heart with an ECG line and three people: one meditating, one cheering, and one holding a clock, plus decorative veggies."}),B.jsxs("defs",{children:[B.jsxs("linearGradient",{id:"heartGrad",x1:"0",x2:"1",y1:"0",y2:"1",children:[B.jsx("stop",{offset:"0",stopColor:"#ff6b8a"}),B.jsx("stop",{offset:"1",stopColor:"#f1305a"})]}),B.jsx("filter",{id:"soft",x:"-20%",y:"-20%",width:"140%",height:"140%",children:B.jsx("feDropShadow",{dx:"0",dy:"8",stdDeviation:"12",floodOpacity:"0.18"})})]}),B.jsx("g",{filter:"url(#soft)",opacity:"0.12",children:B.jsx("path",{d:`\r
                  M600,240\r
                  C560,160 452,120 376,160\r
                  C260,220 256,392 360,498\r
                  L600,736\r
                  L840,498\r
                  C944,392 940,220 824,160\r
                  C748,120 640,160 600,240\r
                `,fill:"url(#heartGrad)"})}),B.jsx("path",{d:"M350,420 L460,420 L495,340 L540,520 L590,360 L640,520 L690,420 L850,420",opacity:"0.19",fill:"none",stroke:"#ffffff",strokeWidth:"16",strokeLinejoin:"round",strokeLinecap:"round"}),B.jsxs("g",{transform:"translate(990,560)",opacity:"0.19",children:[B.jsx("path",{d:"M-60,-40 Q-90,-110 -120,-160 M60,-40 Q90,-110 120,-160",fill:"none",stroke:"#ef7ab0",strokeWidth:"18",strokeLinecap:"round"}),B.jsx("rect",{x:"-40",y:"-40",width:"80",height:"140",rx:"24",fill:"#f9a8d4"}),B.jsx("circle",{cx:"0",cy:"-90",r:"32",fill:"#ffd7b5"}),B.jsx("rect",{x:"-32",y:"100",width:"24",height:"70",rx:"10",fill:"#6b7280"}),B.jsx("rect",{x:"8",y:"100",width:"24",height:"70",rx:"10",fill:"#6b7280"})]})]})}),B.jsxs("h1",{className:"relative text-5xl md:text-6xl font-extrabold leading-tight mb-6 z-10",children:["All-In-One"," ",B.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-red-500 animate-gradient-x",children:"Healthcare"})," ","Platform"]}),B.jsx("p",{className:"relative text-lg md:text-xl text-gray-400 max-w-2xl mx-auto mb-8 animate-fadeIn z-10",children:"Book appointments, consult AI, manage reports, search hospitals, and more  all in one place."}),B.jsx("div",{className:"relative flex justify-center gap-4 animate-fadeIn delay-200 z-10",children:B.jsx("button",{onClick:()=>n("/symptom-checker"),className:"bg-[#f43f5e] hover:bg-[#be123c] text-white px-6 py-3 rounded-lg shadow-md transition transform hover:scale-105 active:scale-95",children:"Try Symptom Checker"})})]}),B.jsxs("section",{className:"py-20 relative overflow-hidden",children:[B.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col-reverse md:flex-row items-center gap-12 px-6 relative z-10",children:[B.jsxs("div",{className:"md:w-1/2 text-center md:text-left space-y-6",children:[B.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-white mb-2 relative inline-block",children:"Expert Doctors You Can Trust"}),B.jsx("p",{className:"text-gray-300 text-lg md:text-xl",children:"Connect with certified healthcare professionals, book appointments instantly, and get personalized care."}),B.jsx("button",{onClick:()=>n("/appointment"),className:"bg-white/10 backdrop-blur-md text-white font-semibold px-6 py-3 rounded-xl border border-white/20 shadow-lg transition transform hover:scale-105 hover:bg-white/20 active:scale-95",children:"Book Now"})]}),B.jsx("div",{className:"md:w-1/2 relative",children:B.jsx("div",{className:"rounded-3xl overflow-hidden shadow-2xl transform hover:scale-105 transition duration-500",children:B.jsx("img",{src:gW,alt:"Doctors",className:"w-full h-full object-cover"})})})]}),B.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 h-full w-px bg-white opacity-5"}),B.jsx("div",{className:"absolute top-0 left-1/3 transform -translate-x-1/2 h-full w-px bg-white opacity-3"}),B.jsx("div",{className:"absolute top-0 left-2/3 transform -translate-x-1/2 h-full w-px bg-white opacity-3"})]}),B.jsxs("section",{className:"py-16 px-4 relative overflow-hidden",children:[B.jsx("div",{className:"max-w-5xl mx-auto grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6 place-items-center relative",children:i.map(({title:s,desc:a,icon:l},c)=>B.jsxs("div",{className:"relative flex flex-col items-center group",children:[B.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 flex items-center justify-center rounded-full bg-gradient-to-tr from-pink-500 to-red-500 text-white shadow-lg transform transition-all duration-500 group-hover:scale-110",children:B.jsx(l,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),B.jsx("h3",{className:"mt-3 text-base sm:text-lg font-semibold text-white text-center",children:s}),B.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-300 text-center",children:a}),B.jsx("div",{className:"absolute w-28 h-28 sm:w-36 sm:h-36 rounded-full border-2 border-pink-500/20 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-spin-slow pointer-events-none"})]},c))}),B.jsx("div",{className:"absolute -top-12 -left-12 w-20 h-20 sm:w-40 sm:h-40 bg-pink-600 opacity-10 rounded-full blur-3xl"}),B.jsx("div",{className:"absolute -bottom-12 -right-12 w-32 h-32 sm:w-72 sm:h-72 bg-blue-500 opacity-10 rounded-full blur-3xl"}),B.jsx("style",{jsx:!0,children:`
    @keyframes spin-slow {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .animate-spin-slow {
      animation: spin-slow 20s linear infinite;
    }
  `})]}),B.jsx("section",{className:"py-16 relative overflow-hidden ",children:B.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-10 px-4 md:px-6 relative",children:[B.jsxs("div",{className:"md:w-1/2 relative flex justify-center md:justify-start",children:[B.jsxs("div",{className:"relative w-full md:w-4/5 rounded-3xl overflow-hidden shadow-2xl transform hover:scale-105 transition duration-500",children:[B.jsx("img",{src:yW,alt:"Healthcare",className:"w-full h-full object-cover"}),B.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-black/30"})]}),B.jsx("div",{className:"absolute -top-10 -left-10 w-24 h-24 bg-pink-500 opacity-20 rounded-full blur-3xl animate-pulse-slow pointer-events-none"})]}),B.jsxs("div",{className:"md:w-1/2 relative bg-gray-900/50 backdrop-blur-md rounded-3xl p-8 shadow-xl text-center md:text-left",children:[B.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Your Health, Our Priority"}),B.jsx("p",{className:"text-gray-300 mb-6 text-sm md:text-base",children:"Get AI-powered symptom analysis, hospital search, and secure health reports to stay ahead of your wellness journey."}),B.jsx("button",{onClick:()=>n("/medicalReport"),className:"bg-gradient-to-r from-pink-500 to-red-500 hover:from-red-500 hover:to-pink-500 text-white px-6 py-3 rounded-xl shadow-lg transition transform hover:scale-105 active:scale-95",children:"Try Medical Report Summary"}),B.jsx("div",{className:"absolute -bottom-6 -right-6 w-16 h-16 bg-blue-500 opacity-20 rounded-full blur-3xl animate-pulse-slow pointer-events-none"})]})]})}),B.jsx("style",{jsx:!0,children:`
  @keyframes pulse-slow {
    0%, 100% { transform: scale(1); opacity: 0.2; }
    50% { transform: scale(1.1); opacity: 0.4; }
  }
  .animate-pulse-slow {
    animation: pulse-slow 6s ease-in-out infinite;
  }
`})]})},bW=()=>{const[n,e]=$.useState(!1),[t,r]=$.useState({name:"",email:"",phone:"",password:"",role:"user"}),i=gd(),s=async l=>{l.preventDefault();const{name:c,email:h,phone:d,password:p,role:g}=t;if(!h||!p||!g){ct.warn("Please fill all fields.");return}try{if(n){const y=await JF(p5,h,p);ct.success("Login successful!");const S=(await RH(p3(v3,"user",y.user.uid))).data();(S?.role||"user")==="doctor"?(localStorage.setItem("role","doctor"),localStorage.setItem("doctorContact",S.phone),i("/doctorLogin")):(localStorage.setItem("role","user"),localStorage.setItem("phone",S.phone),localStorage.setItem("user_name",S.name),i("/profile"))}else{const y=await QF(p5,h,p);await LH(p3(v3,"user",y.user.uid),{name:c,email:h,phone:d,role:g,uid:y.user.uid}),ct.success("Signup successful!"),g==="doctor"?(localStorage.setItem("role","doctor"),localStorage.setItem("doctorContact",d),i("/doctorLogin")):(localStorage.setItem("role","user"),localStorage.setItem("phone",d),localStorage.setItem("user_name",c),i("/profile"))}}catch(y){y.code==="auth/email-already-in-use"?ct.error("Email already exists. Please login instead."):y.code==="auth/wrong-password"?ct.error("Incorrect password. Please try again."):y.code==="auth/user-not-found"?ct.error("No account found with this email."):ct.error(y.message||"Something went wrong.")}};function a({className:l}){return B.jsxs("svg",{className:l,viewBox:"0 0 1200 800",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":"title desc",children:[B.jsx("title",{id:"title",children:"Healthy Lifestyle Illustration"}),B.jsx("desc",{id:"desc",children:"A big heart with an ECG line and three people: one meditating, one cheering, and one holding a clock, plus decorative veggies."}),B.jsxs("defs",{children:[B.jsxs("linearGradient",{id:"heartGrad",x1:"0",x2:"1",y1:"0",y2:"1",children:[B.jsx("stop",{offset:"0",stopColor:"#ff6b8a"}),B.jsx("stop",{offset:"1",stopColor:"#f1305a"})]}),B.jsx("filter",{id:"soft",x:"-20%",y:"-20%",width:"140%",height:"140%",children:B.jsx("feDropShadow",{dx:"0",dy:"8",stdDeviation:"12",floodOpacity:"0.18"})})]}),B.jsx("g",{filter:"url(#soft)",opacity:"0.19",children:B.jsx("path",{d:`\r
              M600,240\r
              C560,160 452,120 376,160\r
              C260,220 256,392 360,498\r
              L600,736\r
              L840,498\r
              C944,392 940,220 824,160\r
              C748,120 640,160 600,240\r
            `,fill:"url(#heartGrad)"})}),B.jsx("path",{d:"M350,420 L460,420 L495,340 L540,520 L590,360 L640,520 L690,420 L850,420",opacity:"0.19",fill:"none",stroke:"#ffffff",strokeWidth:"16",strokeLinejoin:"round",strokeLinecap:"round"}),B.jsxs("g",{transform:"translate(990,560)",opacity:"0.19",children:[B.jsx("path",{d:"M-60,-40 Q-90,-110 -120,-160 M60,-40 Q90,-110 120,-160",fill:"none",stroke:"#ef7ab0",strokeWidth:"18",strokeLinecap:"round"}),B.jsx("rect",{x:"-40",y:"-40",width:"80",height:"140",rx:"24",fill:"#f9a8d4"}),B.jsx("circle",{cx:"0",cy:"-90",r:"32",fill:"#ffd7b5"}),B.jsx("rect",{x:"-32",y:"100",width:"24",height:"70",rx:"10",fill:"#6b7280"}),B.jsx("rect",{x:"8",y:"100",width:"24",height:"70",rx:"10",fill:"#6b7280"})]}),B.jsxs("g",{transform:"translate(170,720)",opacity:"0.19",children:[B.jsx("circle",{cx:"0",cy:"0",r:"36",fill:"#ef4444"}),B.jsx("circle",{cx:"34",cy:"-2",r:"30",fill:"#dc2626"}),B.jsx("rect",{x:"8",y:"-64",width:"8",height:"20",rx:"4",fill:"#14532d"}),B.jsx("path",{d:"M8,-64 C-6,-76 -18,-60 0,-48",fill:"#16a34a"})]}),B.jsxs("g",{transform:"translate(320,745)",opacity:"0.19",children:[B.jsx("path",{d:"M0,0 L18,-80 L-18,-80 Z",fill:"#f97316"}),B.jsx("path",{d:"M0,-80 C-10,-98 10,-98 0,-80",fill:"#16a34a"})]})]})}return B.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-gray-900 text-gray-100 relative",children:[B.jsxs("div",{className:`relative w-full md:w-1/2 flex flex-col justify-center px-6 md:px-16 py-12 overflow-hidden \r
                bg-gradient-to-b from-[#191024] via-[#1e293b] to-[#0f172a]`,children:[B.jsx("div",{className:`absolute inset-0 \r
                  bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px)] \r
                  bg-[size:30px_30px] sm:bg-[size:40px_40px] \r
                  opacity-80`}),B.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 relative z-10",children:[B.jsx("span",{className:"text-[#f43f5e]",children:"Dr."}),B.jsx("span",{className:"text-[#e0e0e0] ml-2",children:"Care"})]}),B.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-200 mb-6 relative z-10",children:"All-In-One Healthcare Platform"}),B.jsxs("p",{className:"text-base sm:text-lg text-gray-400 leading-relaxed relative z-10",children:["Book appointments, consult AI, manage reports, search hospitals, and more ",B.jsx("br",{})," All in one place."]})]}),B.jsxs("div",{className:"w-full md:w-1/2 relative flex flex-col justify-center p-8 md:p-16 ",children:[B.jsx(a,{className:"absolute inset-0 w-full h-full object-contain opacity-100 pointer-events-none"}),B.jsxs("div",{className:"relative z-10",children:[B.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:n?"Welcome Back":"Create an Account"}),B.jsxs("form",{className:"space-y-4",onSubmit:s,children:[!n&&B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"flex gap-4 mt-3",children:["doctor","user"].map(l=>B.jsx("span",{onClick:()=>r({...t,role:l}),className:`cursor-pointer px-4 py-1.5 rounded-full text-sm font-medium transition
                        ${t.role===l?"bg-[#f43f5e] text-white":"text-gray-300 border border-gray-500 hover:text-[#f43f5e]"}`,children:l.charAt(0).toUpperCase()+l.slice(1)},l))}),B.jsx("input",{type:"text",required:!0,value:t.name,onChange:l=>r({...t,name:l.target.value}),placeholder:"Full Name",className:`w-full px-4 py-2 rounded-lg border border-gray-600 bg-gray-700 text-white\r
             focus:outline-none focus:ring-2 focus:ring-[#f43f5e]\r
             hover:border-[#f43f5e] hover:ring-1 hover:ring-[#f43f5e]  transition duration-100 ease-in-out`}),B.jsx("input",{type:"tel",required:!0,value:t.phone,onChange:l=>r({...t,phone:l.target.value}),placeholder:"Phone Number",className:`w-full px-4 py-2 rounded-lg border border-gray-600 bg-gray-700 text-white\r
             focus:outline-none focus:ring-2 focus:ring-[#f43f5e]\r
             hover:border-[#f43f5e] hover:ring-1 hover:ring-[#f43f5e]  transition duration-100 ease-in-out`})]}),B.jsx("input",{type:"email",required:!0,value:t.email,onChange:l=>r({...t,email:l.target.value}),placeholder:"Email",className:`w-full px-4 py-2 rounded-lg border border-gray-600 bg-gray-700 text-white\r
             focus:outline-none focus:ring-2 focus:ring-[#f43f5e]\r
             hover:border-[#f43f5e] hover:ring-1 hover:ring-[#f43f5e]  transition duration-100 ease-in-out`}),B.jsx("input",{type:"password",required:!0,value:t.password,onChange:l=>r({...t,password:l.target.value}),placeholder:"Password",className:`w-full px-4 py-2 rounded-lg border border-gray-600 bg-gray-700 text-white\r
             focus:outline-none focus:ring-2 focus:ring-[#f43f5e]\r
             hover:border-[#f43f5e] hover:ring-1 hover:ring-[#f43f5e]  transition duration-100 ease-in-out`}),B.jsx("button",{type:"submit",className:"w-full bg-[#f43f5e] text-white font-bold py-2 rounded-lg hover:bg-[#be123c] transition transform hover:scale-105 active:scale-95 shadow-md",children:n?"Login":"Signup"})]}),B.jsxs("p",{className:"text-center mt-4 text-gray-300",children:[n?"Don't have an account?":"Already have an account?"," ",B.jsx("button",{onClick:()=>e(!n),className:"text-[#f43f5e] font-semibold hover:underline  transition duration-100 ease-in-out",children:n?"Signup":"Login"})]})]})]}),B.jsx(yc,{position:"top-right",autoClose:3e3})]})},M6=6048e5,wW=864e5,_2=6e4,x2=36e5,_W=1e3,T3=Symbol.for("constructDateFrom");function Kn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&T3 in n?n[T3](e):n instanceof Date?new n.constructor(e):new Date(e)}function St(n,e){return Kn(e||n,n)}function nl(n,e,t){const r=St(n,t?.in);return isNaN(e)?Kn(t?.in||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function il(n,e,t){const r=St(n,t?.in);if(isNaN(e))return Kn(n,NaN);if(!e)return r;const i=r.getDate(),s=Kn(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function L6(n,e,t){return Kn(n,+St(n)+e)}function xW(n,e,t){return L6(n,e*x2)}let SW={};function xd(){return SW}function Su(n,e){const t=xd(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=St(n,e?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Ip(n,e){return Su(n,{...e,weekStartsOn:1})}function I6(n,e){const t=St(n,e?.in),r=t.getFullYear(),i=Kn(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Ip(i),a=Kn(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Ip(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function v1(n){const e=St(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function ku(n,...e){const t=Kn.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function hd(n,e){const t=St(n,e?.in);return t.setHours(0,0,0,0),t}function Op(n,e,t){const[r,i]=ku(t?.in,n,e),s=hd(r),a=hd(i),l=+s-v1(s),c=+a-v1(a);return Math.round((l-c)/wW)}function TW(n,e){const t=I6(n,e),r=Kn(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ip(r)}function b5(n,e,t){const r=St(n,t?.in);return r.setTime(r.getTime()+e*_2),r}function pS(n,e,t){return il(n,e*3,t)}function EW(n,e,t){return L6(n,e*1e3)}function b1(n,e,t){return nl(n,e*7,t)}function hu(n,e,t){return il(n,e*12,t)}function E3(n,e){let t,r=e?.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Kn.bind(null,i));const s=St(i,r);(!t||t<s||isNaN(+s))&&(t=s)}),Kn(r,t||NaN)}function A3(n,e){let t,r=e?.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Kn.bind(null,i));const s=St(i,r);(!t||t>s||isNaN(+s))&&(t=s)}),Kn(r,t||NaN)}function AW(n,e,t){const[r,i]=ku(t?.in,n,e);return+hd(r)==+hd(i)}function fu(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function w1(n){return!(!fu(n)&&typeof n!="number"||isNaN(+St(n)))}function _1(n,e,t){const[r,i]=ku(t?.in,n,e),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function Gf(n,e){const t=St(n,e?.in);return Math.trunc(t.getMonth()/3)+1}function x1(n,e,t){const[r,i]=ku(t?.in,n,e),s=r.getFullYear()-i.getFullYear(),a=Gf(r)-Gf(i);return s*4+a}function S1(n,e,t){const[r,i]=ku(t?.in,n,e);return r.getFullYear()-i.getFullYear()}function CW(n,e,t){const[r,i]=ku(t?.in,n,e),s=C3(r,i),a=Math.abs(Op(r,i));r.setDate(r.getDate()-s*a);const l=+(C3(r,i)===-s),c=s*(a-l);return c===0?0:c}function C3(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function O6(n,e){const t=St(n,e?.in);return t.setHours(23,59,59,999),t}function j6(n,e){const t=St(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function w5(n,e){const t=St(n,e?.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function F6(n,e){const t=St(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function V6(n,e){const t=St(n,e?.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function S2(n,e){const t=St(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function DW(n,e){const t=xd(),r=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=St(n,e?.in),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const kW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NW=(n,e,t)=>{let r;const i=kW[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function xw(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const PW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LW={date:xw({formats:PW,defaultWidth:"full"}),time:xw({formats:RW,defaultWidth:"full"}),dateTime:xw({formats:MW,defaultWidth:"full"})},IW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OW=(n,e,t,r)=>IW[n];function Gm(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,l=t?.width?String(t.width):a;i=n.formattingValues[l]||n.formattingValues[a]}else{const a=n.defaultWidth,l=t?.width?String(t.width):n.defaultWidth;i=n.values[l]||n.values[a]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const jW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HW=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},qW={ordinalNumber:HW,era:Gm({values:jW,defaultWidth:"wide"}),quarter:Gm({values:FW,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Gm({values:VW,defaultWidth:"wide"}),day:Gm({values:BW,defaultWidth:"wide"}),dayPeriod:Gm({values:UW,defaultWidth:"wide",formattingValues:zW,defaultFormattingWidth:"wide"})};function Km(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(l)?YW(l,p=>p.test(a)):WW(l,p=>p.test(a));let h;h=n.valueCallback?n.valueCallback(c):c,h=t.valueCallback?t.valueCallback(h):h;const d=e.slice(a.length);return{value:h,rest:d}}}function WW(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function YW(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function $W(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let a=n.valueCallback?n.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const GW=/^(\d+)(th|st|nd|rd)?/i,KW=/\d+/i,XW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QW={any:[/^b/i,/^(a|c)/i]},JW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZW={any:[/1/i,/2/i,/3/i,/4/i]},eY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aY={ordinalNumber:$W({matchPattern:GW,parsePattern:KW,valueCallback:n=>parseInt(n,10)}),era:Km({matchPatterns:XW,defaultMatchWidth:"wide",parsePatterns:QW,defaultParseWidth:"any"}),quarter:Km({matchPatterns:JW,defaultMatchWidth:"wide",parsePatterns:ZW,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Km({matchPatterns:eY,defaultMatchWidth:"wide",parsePatterns:tY,defaultParseWidth:"any"}),day:Km({matchPatterns:nY,defaultMatchWidth:"wide",parsePatterns:rY,defaultParseWidth:"any"}),dayPeriod:Km({matchPatterns:iY,defaultMatchWidth:"any",parsePatterns:sY,defaultParseWidth:"any"})},B6={code:"en-US",formatDistance:NW,formatLong:LW,formatRelative:OW,localize:qW,match:aY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oY(n,e){const t=St(n,e?.in);return Op(t,S2(t))+1}function mS(n,e){const t=St(n,e?.in),r=+Ip(t)-+TW(t);return Math.round(r/M6)+1}function gS(n,e){const t=St(n,e?.in),r=t.getFullYear(),i=xd(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Kn(e?.in||n,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=Su(a,e),c=Kn(e?.in||n,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const h=Su(c,e);return+t>=+l?r+1:+t>=+h?r:r-1}function lY(n,e){const t=xd(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=gS(n,e),s=Kn(e?.in||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Su(s,e)}function U6(n,e){const t=St(n,e?.in),r=+Su(t,e)-+lY(t,e);return Math.round(r/M6)+1}function Yn(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ph={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Yn(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Yn(t+1,2)},d(n,e){return Yn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Yn(n.getHours()%12||12,e.length)},H(n,e){return Yn(n.getHours(),e.length)},m(n,e){return Yn(n.getMinutes(),e.length)},s(n,e){return Yn(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Yn(i,e.length)}},ep={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D3={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return ph.y(n,e)},Y:function(n,e,t,r){const i=gS(n,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Yn(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Yn(s,e.length)},R:function(n,e){const t=I6(n);return Yn(t,e.length)},u:function(n,e){const t=n.getFullYear();return Yn(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Yn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Yn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ph.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Yn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=U6(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Yn(i,e.length)},I:function(n,e,t){const r=mS(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Yn(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ph.d(n,e)},D:function(n,e,t){const r=oY(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Yn(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Yn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Yn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Yn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=ep.noon:r===0?i=ep.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=ep.evening:r>=12?i=ep.afternoon:r>=4?i=ep.morning:i=ep.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ph.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ph.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Yn(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Yn(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ph.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ph.s(n,e)},S:function(n,e){return ph.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return N3(r);case"XXXX":case"XX":return Rf(r);case"XXXXX":case"XXX":default:return Rf(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return N3(r);case"xxxx":case"xx":return Rf(r);case"xxxxx":case"xxx":default:return Rf(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+k3(r,":");case"OOOO":default:return"GMT"+Rf(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+k3(r,":");case"zzzz":default:return"GMT"+Rf(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Yn(r,e.length)},T:function(n,e,t){return Yn(+n,e.length)}};function k3(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Yn(s,2)}function N3(n,e){return n%60===0?(n>0?"-":"+")+Yn(Math.abs(n)/60,2):Rf(n,e)}function Rf(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Yn(Math.trunc(r/60),2),s=Yn(r%60,2);return t+i+e+s}const P3=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},z6=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cY=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return P3(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",P3(r,e)).replace("{{time}}",z6(i,e))},_5={p:z6,P:cY},uY=/^D+$/,hY=/^Y+$/,fY=["D","DD","YY","YYYY"];function dY(n){return uY.test(n)}function pY(n){return hY.test(n)}function mY(n,e,t){const r=gY(n,e,t);if(console.warn(r),fY.includes(n))throw new RangeError(r)}function gY(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bY=/^'([^]*?)'?$/,wY=/''/g,_Y=/[a-zA-Z]/;function R3(n,e,t){const r=xd(),i=t?.locale??r.locale??B6,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=St(n,t?.in);if(!w1(l))throw new RangeError("Invalid time value");let c=e.match(vY).map(d=>{const p=d[0];if(p==="p"||p==="P"){const g=_5[p];return g(d,i.formatLong)}return d}).join("").match(yY).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const p=d[0];if(p==="'")return{isToken:!1,value:xY(d)};if(D3[p])return{isToken:!0,value:d};if(p.match(_Y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const h={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const p=d.value;(!t?.useAdditionalWeekYearTokens&&pY(p)||!t?.useAdditionalDayOfYearTokens&&dY(p))&&mY(p,e,String(n));const g=D3[p[0]];return g(l,p,i.localize,h)}).join("")}function xY(n){const e=n.match(bY);return e?e[1].replace(wY,"'"):n}function M3(n,e){return St(n,e?.in).getDate()}function SY(n,e){return St(n,e?.in).getDay()}function TY(n,e){const t=St(n,e?.in),r=t.getFullYear(),i=t.getMonth(),s=Kn(t,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function EY(){return Object.assign({},xd())}function du(n,e){return St(n,e?.in).getHours()}function AY(n,e){const t=St(n,e?.in).getDay();return t===0?7:t}function pu(n,e){return St(n,e?.in).getMinutes()}function As(n,e){return St(n,e?.in).getMonth()}function Oh(n){return St(n).getSeconds()}function x5(n){return+St(n)}function sn(n,e){return St(n,e?.in).getFullYear()}function Gh(n,e){return+St(n)>+St(e)}function Xl(n,e){return+St(n)<+St(e)}function CY(n,e){return+St(n)==+St(e)}function DY(n,e){const t=kY(e)?new e(0):Kn(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function kY(n){return typeof n=="function"&&n.prototype?.constructor===n}const NY=10;class H6{subPriority=0;validate(e,t){return!0}}class PY extends H6{constructor(e,t,r,i,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class RY extends H6{priority=NY;subPriority=-1;constructor(e,t){super(),this.context=e||(r=>Kn(t,r))}set(e,t){return t.timestampIsSet?e:Kn(e,DY(e,this.context))}}class jn{run(e,t,r,i){const s=this.parse(e,t,r,i);return s?{setter:new PY(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class MY extends jn{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const ci={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Gl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ui(n,e){return n&&{value:e(n.value),rest:n.rest}}function Mr(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Kl(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:r*(i*x2+s*_2+a*_W),rest:e.slice(t[0].length)}}function q6(n){return Mr(ci.anyDigitsSigned,n)}function $r(n,e){switch(n){case 1:return Mr(ci.singleDigit,e);case 2:return Mr(ci.twoDigits,e);case 3:return Mr(ci.threeDigits,e);case 4:return Mr(ci.fourDigits,e);default:return Mr(new RegExp("^\\d{1,"+n+"}"),e)}}function T1(n,e){switch(n){case 1:return Mr(ci.singleDigitSigned,e);case 2:return Mr(ci.twoDigitsSigned,e);case 3:return Mr(ci.threeDigitsSigned,e);case 4:return Mr(ci.fourDigitsSigned,e);default:return Mr(new RegExp("^-?\\d{1,"+n+"}"),e)}}function yS(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function W6(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const s=r+50,a=Math.trunc(s/100)*100,l=n>=s%100;i=n+a-(l?100:0)}return t?i:1-i}function Y6(n){return n%400===0||n%4===0&&n%100!==0}class LY extends jn{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const i=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return ui($r(4,e),i);case"yo":return ui(r.ordinalNumber(e,{unit:"year"}),i);default:return ui($r(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const i=e.getFullYear();if(r.isTwoDigitYear){const a=W6(r.year,i);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class IY extends jn{priority=130;parse(e,t,r){const i=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return ui($r(4,e),i);case"Yo":return ui(r.ordinalNumber(e,{unit:"year"}),i);default:return ui($r(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,i){const s=gS(e,i);if(r.isTwoDigitYear){const l=W6(r.year,s);return e.setFullYear(l,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Su(e,i)}const a=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Su(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class OY extends jn{priority=130;parse(e,t){return T1(t==="R"?4:t.length,e)}set(e,t,r){const i=Kn(e,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),Ip(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class jY extends jn{priority=130;parse(e,t){return T1(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class FY extends jn{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return $r(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class VY extends jn{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return $r(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class BY extends jn{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const i=s=>s-1;switch(t){case"M":return ui(Mr(ci.month,e),i);case"MM":return ui($r(2,e),i);case"Mo":return ui(r.ordinalNumber(e,{unit:"month"}),i);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class UY extends jn{priority=110;parse(e,t,r){const i=s=>s-1;switch(t){case"L":return ui(Mr(ci.month,e),i);case"LL":return ui($r(2,e),i);case"Lo":return ui(r.ordinalNumber(e,{unit:"month"}),i);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function zY(n,e,t){const r=St(n,t?.in),i=U6(r,t)-e;return r.setDate(r.getDate()-i*7),St(r,t?.in)}class HY extends jn{priority=100;parse(e,t,r){switch(t){case"w":return Mr(ci.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return $r(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,i){return Su(zY(e,r,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function qY(n,e,t){const r=St(n,t?.in),i=mS(r,t)-e;return r.setDate(r.getDate()-i*7),r}class WY extends jn{priority=100;parse(e,t,r){switch(t){case"I":return Mr(ci.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return $r(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return Ip(qY(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const YY=[31,28,31,30,31,30,31,31,30,31,30,31],$Y=[31,29,31,30,31,30,31,31,30,31,30,31];class GY extends jn{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return Mr(ci.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return $r(t.length,e)}}validate(e,t){const r=e.getFullYear(),i=Y6(r),s=e.getMonth();return i?t>=1&&t<=$Y[s]:t>=1&&t<=YY[s]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class KY extends jn{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return Mr(ci.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return $r(t.length,e)}}validate(e,t){const r=e.getFullYear();return Y6(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function vS(n,e,t){const r=xd(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=St(n,t?.in),a=s.getDay(),c=(e%7+7)%7,h=7-i,d=e<0||e>6?e-(a+h)%7:(c+h)%7-(a+h)%7;return nl(s,d,t)}class XY extends jn{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,i){return e=vS(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class QY extends jn{priority=90;parse(e,t,r,i){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(t){case"e":case"ee":return ui($r(t.length,e),s);case"eo":return ui(r.ordinalNumber(e,{unit:"day"}),s);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,i){return e=vS(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class JY extends jn{priority=90;parse(e,t,r,i){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(t){case"c":case"cc":return ui($r(t.length,e),s);case"co":return ui(r.ordinalNumber(e,{unit:"day"}),s);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,i){return e=vS(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function ZY(n,e,t){const r=St(n,t?.in),i=AY(r,t),s=e-i;return nl(r,s,t)}class e$ extends jn{priority=90;parse(e,t,r){const i=s=>s===0?7:s;switch(t){case"i":case"ii":return $r(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return ui(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return ui(r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return ui(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return ui(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=ZY(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class t$ extends jn{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(yS(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class n$ extends jn{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(yS(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class r$ extends jn{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(yS(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class i$ extends jn{priority=70;parse(e,t,r){switch(t){case"h":return Mr(ci.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return $r(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const i=e.getHours()>=12;return i&&r<12?e.setHours(r+12,0,0,0):!i&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class s$ extends jn{priority=70;parse(e,t,r){switch(t){case"H":return Mr(ci.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return $r(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class a$ extends jn{priority=70;parse(e,t,r){switch(t){case"K":return Mr(ci.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return $r(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class o$ extends jn{priority=70;parse(e,t,r){switch(t){case"k":return Mr(ci.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return $r(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const i=r<=24?r%24:r;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class l$ extends jn{priority=60;parse(e,t,r){switch(t){case"m":return Mr(ci.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return $r(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class c$ extends jn{priority=50;parse(e,t,r){switch(t){case"s":return Mr(ci.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return $r(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class u$ extends jn{priority=30;parse(e,t){const r=i=>Math.trunc(i*Math.pow(10,-t.length+3));return ui($r(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class h$ extends jn{priority=10;parse(e,t){switch(t){case"X":return Kl(Gl.basicOptionalMinutes,e);case"XX":return Kl(Gl.basic,e);case"XXXX":return Kl(Gl.basicOptionalSeconds,e);case"XXXXX":return Kl(Gl.extendedOptionalSeconds,e);case"XXX":default:return Kl(Gl.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Kn(e,e.getTime()-v1(e)-r)}incompatibleTokens=["t","T","x"]}class f$ extends jn{priority=10;parse(e,t){switch(t){case"x":return Kl(Gl.basicOptionalMinutes,e);case"xx":return Kl(Gl.basic,e);case"xxxx":return Kl(Gl.basicOptionalSeconds,e);case"xxxxx":return Kl(Gl.extendedOptionalSeconds,e);case"xxx":default:return Kl(Gl.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Kn(e,e.getTime()-v1(e)-r)}incompatibleTokens=["t","T","X"]}class d$ extends jn{priority=40;parse(e){return q6(e)}set(e,t,r){return[Kn(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class p$ extends jn{priority=20;parse(e){return q6(e)}set(e,t,r){return[Kn(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const m$={G:new MY,y:new LY,Y:new IY,R:new OY,u:new jY,Q:new FY,q:new VY,M:new BY,L:new UY,w:new HY,I:new WY,d:new GY,D:new KY,E:new XY,e:new QY,c:new JY,i:new e$,a:new t$,b:new n$,B:new r$,h:new i$,H:new s$,K:new a$,k:new o$,m:new l$,s:new c$,S:new u$,X:new h$,x:new f$,t:new d$,T:new p$},g$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v$=/^'([^]*?)'?$/,b$=/''/g,w$=/\S/,_$=/[a-zA-Z]/;function x$(n,e,t,r){const i=()=>Kn(r?.in||t,NaN),s=EY(),a=r?.locale??s.locale??B6,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return n?i():St(t,r?.in);const h={firstWeekContainsDate:l,weekStartsOn:c,locale:a},d=[new RY(r?.in,t)],p=e.match(y$).map(T=>{const E=T[0];if(E in _5){const A=_5[E];return A(T,a.formatLong)}return T}).join("").match(g$),g=[];for(let T of p){const E=T[0],A=m$[E];if(A){const{incompatibleTokens:N}=A;if(Array.isArray(N)){const U=g.find(K=>N.includes(K.token)||K.token===E);if(U)throw new RangeError(`The format string mustn't contain \`${U.fullToken}\` and \`${T}\` at the same time`)}else if(A.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);g.push({token:E,fullToken:T});const j=A.run(n,T,a.match,h);if(!j)return i();d.push(j.setter),n=j.rest}else{if(E.match(_$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(T==="''"?T="'":E==="'"&&(T=S$(T)),n.indexOf(T)===0)n=n.slice(T.length);else return i()}}if(n.length>0&&w$.test(n))return i();const y=d.map(T=>T.priority).sort((T,E)=>E-T).filter((T,E,A)=>A.indexOf(T)===E).map(T=>d.filter(E=>E.priority===T).sort((E,A)=>A.subPriority-E.subPriority)).map(T=>T[0]);let _=St(t,r?.in);if(isNaN(+_))return i();const S={};for(const T of y){if(!T.validate(_,h))return i();const E=T.set(_,S,h);Array.isArray(E)?(_=E[0],Object.assign(S,E[1])):_=E}return _}function S$(n){return n.match(v$)[1].replace(b$,"'")}function T$(n,e,t){const[r,i]=ku(t?.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function E$(n,e,t){const[r,i]=ku(t?.in,n,e);return+w5(r)==+w5(i)}function A$(n,e,t){const[r,i]=ku(t?.in,n,e);return r.getFullYear()===i.getFullYear()}function r0(n,e,t){const r=+St(n,t?.in),[i,s]=[+St(e.start,t?.in),+St(e.end,t?.in)].sort((a,l)=>a-l);return r>=i&&r<=s}function C$(n,e,t){return nl(n,-1,t)}function D$(n,e){const t=()=>Kn(e?.in,NaN),i=R$(n);let s;if(i.date){const h=M$(i.date,2);s=L$(h.restDateString,h.year)}if(!s||isNaN(+s))return t();const a=+s;let l=0,c;if(i.time&&(l=I$(i.time),isNaN(l)))return t();if(i.timezone){if(c=O$(i.timezone),isNaN(c))return t()}else{const h=new Date(a+l),d=St(0,e?.in);return d.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),d.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),d}return St(a+l+c,e?.in)}const Gy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},k$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,N$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,P$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function R$(n){const e={},t=n.split(Gy.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Gy.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Gy.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=Gy.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function M$(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function L$(n,e){if(e===null)return new Date(NaN);const t=n.match(k$);if(!t)return new Date(NaN);const r=!!t[4],i=Xm(t[1]),s=Xm(t[2])-1,a=Xm(t[3]),l=Xm(t[4]),c=Xm(t[5])-1;if(r)return U$(e,l,c)?j$(e,l,c):new Date(NaN);{const h=new Date(0);return!V$(e,s,a)||!B$(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,a)),h)}}function Xm(n){return n?parseInt(n):1}function I$(n){const e=n.match(N$);if(!e)return NaN;const t=Sw(e[1]),r=Sw(e[2]),i=Sw(e[3]);return z$(t,r,i)?t*x2+r*_2+i*1e3:NaN}function Sw(n){return n&&parseFloat(n.replace(",","."))||0}function O$(n){if(n==="Z")return 0;const e=n.match(P$);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return H$(r,i)?t*(r*x2+i*_2):NaN}function j$(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const F$=[31,null,31,30,31,30,31,31,30,31,30,31];function $6(n){return n%400===0||n%4===0&&n%100!==0}function V$(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(F$[e]||($6(n)?29:28))}function B$(n,e){return e>=1&&e<=($6(n)?366:365)}function U$(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function z$(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function H$(n,e){return e>=0&&e<=59}function fo(n,e,t){const r=St(n,t?.in),i=r.getFullYear(),s=r.getDate(),a=Kn(n,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const l=TY(a);return r.setMonth(e,Math.min(s,l)),r}function Ov(n,e,t){const r=St(n,t?.in);return r.setHours(e),r}function jv(n,e,t){const r=St(n,t?.in);return r.setMinutes(e),r}function up(n,e,t){const r=St(n,t?.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return fo(r,r.getMonth()+s*3)}function Fv(n,e,t){const r=St(n,t?.in);return r.setSeconds(e),r}function Wl(n,e,t){const r=St(n,t?.in);return isNaN(+r)?Kn(n,NaN):(r.setFullYear(e),r)}function Kf(n,e,t){return il(n,-e,t)}function G6(n,e,t){return pS(n,-1,t)}function L3(n,e,t){return b1(n,-1,t)}function jp(n,e,t){return hu(n,-e,t)}function T2(){return typeof window<"u"}function em(n){return K6(n)?(n.nodeName||"").toLowerCase():"#document"}function Oa(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function vc(n){var e;return(e=(K6(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function K6(n){return T2()?n instanceof Node||n instanceof Oa(n).Node:!1}function Bs(n){return T2()?n instanceof Element||n instanceof Oa(n).Element:!1}function pc(n){return T2()?n instanceof HTMLElement||n instanceof Oa(n).HTMLElement:!1}function I3(n){return!T2()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Oa(n).ShadowRoot}const q$=new Set(["inline","contents"]);function M0(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=wo(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!q$.has(i)}const W$=new Set(["table","td","th"]);function Y$(n){return W$.has(em(n))}const $$=[":popover-open",":modal"];function E2(n){return $$.some(e=>{try{return n.matches(e)}catch{return!1}})}const G$=["transform","translate","scale","rotate","perspective"],K$=["transform","translate","scale","rotate","perspective","filter"],X$=["paint","layout","strict","content"];function bS(n){const e=wS(),t=Bs(n)?wo(n):n;return G$.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||K$.some(r=>(t.willChange||"").includes(r))||X$.some(r=>(t.contain||"").includes(r))}function Q$(n){let e=Kh(n);for(;pc(e)&&!Fp(e);){if(bS(e))return e;if(E2(e))return null;e=Kh(e)}return null}function wS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const J$=new Set(["html","body","#document"]);function Fp(n){return J$.has(em(n))}function wo(n){return Oa(n).getComputedStyle(n)}function A2(n){return Bs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Kh(n){if(em(n)==="html")return n;const e=n.assignedSlot||n.parentNode||I3(n)&&n.host||vc(n);return I3(e)?e.host:e}function X6(n){const e=Kh(n);return Fp(e)?n.ownerDocument?n.ownerDocument.body:n.body:pc(e)&&M0(e)?e:X6(e)}function i0(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=X6(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=Oa(i);if(s){const l=S5(a);return e.concat(a,a.visualViewport||[],M0(i)?i:[],l&&t?i0(l):[])}return e.concat(i,i0(i,[],t))}function S5(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Vp=Math.min,Xf=Math.max,E1=Math.round,Ky=Math.floor,sc=n=>({x:n,y:n}),Z$={left:"right",right:"left",bottom:"top",top:"bottom"},eG={start:"end",end:"start"};function tG(n,e,t){return Xf(n,Vp(e,t))}function C2(n,e){return typeof n=="function"?n(e):n}function Bp(n){return n.split("-")[0]}function L0(n){return n.split("-")[1]}function nG(n){return n==="x"?"y":"x"}function _S(n){return n==="y"?"height":"width"}const rG=new Set(["top","bottom"]);function Bf(n){return rG.has(Bp(n))?"y":"x"}function xS(n){return nG(Bf(n))}function iG(n,e,t){t===void 0&&(t=!1);const r=L0(n),i=xS(n),s=_S(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=A1(a)),[a,A1(a)]}function sG(n){const e=A1(n);return[T5(n),e,T5(e)]}function T5(n){return n.replace(/start|end/g,e=>eG[e])}const O3=["left","right"],j3=["right","left"],aG=["top","bottom"],oG=["bottom","top"];function lG(n,e,t){switch(n){case"top":case"bottom":return t?e?j3:O3:e?O3:j3;case"left":case"right":return e?aG:oG;default:return[]}}function cG(n,e,t,r){const i=L0(n);let s=lG(Bp(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(T5)))),s}function A1(n){return n.replace(/left|right|bottom|top/g,e=>Z$[e])}function uG(n){return{top:0,right:0,bottom:0,left:0,...n}}function Q6(n){return typeof n!="number"?uG(n):{top:n,right:n,bottom:n,left:n}}function C1(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}var hG=typeof document<"u",fG=function(){},D1=hG?$.useLayoutEffect:fG;const dG={...Xv},pG=dG.useInsertionEffect,mG=pG||(n=>n());function gG(n){const e=$.useRef(()=>{});return mG(()=>{e.current=n}),$.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function F3(n,e,t){let{reference:r,floating:i}=n;const s=Bf(e),a=xS(e),l=_S(a),c=Bp(e),h=s==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let y;switch(c){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(L0(e)){case"start":y[a]-=g*(t&&h?-1:1);break;case"end":y[a]+=g*(t&&h?-1:1);break}return y}const yG=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:p}=F3(h,r,c),g=r,y={},_=0;for(let S=0;S<l.length;S++){const{name:T,fn:E}=l[S],{x:A,y:N,data:j,reset:U}=await E({x:d,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:h,platform:a,elements:{reference:n,floating:e}});d=A??d,p=N??p,y={...y,[T]:{...y[T],...j}},U&&_<=50&&(_++,typeof U=="object"&&(U.placement&&(g=U.placement),U.rects&&(h=U.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):U.rects),{x:d,y:p}=F3(h,g,c)),S=-1)}return{x:d,y:p,placement:g,strategy:i,middlewareData:y}};async function vG(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=n,{boundary:h="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:g=!1,padding:y=0}=C2(e,n),_=Q6(y),T=l[g?p==="floating"?"reference":"floating":p],E=C1(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(T)))==null||t?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:h,rootBoundary:d,strategy:c})),A=p==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},U=C1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:N,strategy:c}):A);return{top:(E.top-U.top+_.top)/j.y,bottom:(U.bottom-E.bottom+_.bottom)/j.y,left:(E.left-U.left+_.left)/j.x,right:(U.right-E.right+_.right)/j.x}}const bG=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:h,padding:d=0}=C2(n,e)||{};if(h==null)return{};const p=Q6(d),g={x:t,y:r},y=xS(i),_=_S(y),S=await a.getDimensions(h),T=y==="y",E=T?"top":"left",A=T?"bottom":"right",N=T?"clientHeight":"clientWidth",j=s.reference[_]+s.reference[y]-g[y]-s.floating[_],U=g[y]-s.reference[y],K=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let M=K?K[N]:0;(!M||!await(a.isElement==null?void 0:a.isElement(K)))&&(M=l.floating[N]||s.floating[_]);const k=j/2-U/2,O=M/2-S[_]/2-1,H=Vp(p[E],O),R=Vp(p[A],O),L=H,V=M-S[_]-R,se=M/2-S[_]/2+k,pe=tG(L,se,V),G=!c.arrow&&L0(i)!=null&&se!==pe&&s.reference[_]/2-(se<L?H:R)-S[_]/2<0,Q=G?se<L?se-L:se-V:0;return{[y]:g[y]+Q,data:{[y]:pe,centerOffset:se-pe-Q,...G&&{alignmentOffset:Q}},reset:G}}}),wG=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:h}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:S=!0,...T}=C2(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const E=Bp(i),A=Bf(l),N=Bp(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(h.floating)),U=g||(N||!S?[A1(l)]:sG(l)),K=_!=="none";!g&&K&&U.push(...cG(l,S,_,j));const M=[l,...U],k=await vG(e,T),O=[];let H=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&O.push(k[E]),p){const se=iG(i,a,j);O.push(k[se[0]],k[se[1]])}if(H=[...H,{placement:i,overflows:O}],!O.every(se=>se<=0)){var R,L;const se=(((R=s.flip)==null?void 0:R.index)||0)+1,pe=M[se];if(pe&&(!(p==="alignment"?A!==Bf(pe):!1)||H.every(re=>Bf(re.placement)===A?re.overflows[0]>0:!0)))return{data:{index:se,overflows:H},reset:{placement:pe}};let G=(L=H.filter(Q=>Q.overflows[0]<=0).sort((Q,re)=>Q.overflows[1]-re.overflows[1])[0])==null?void 0:L.placement;if(!G)switch(y){case"bestFit":{var V;const Q=(V=H.filter(re=>{if(K){const J=Bf(re.placement);return J===A||J==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(J=>J>0).reduce((J,q)=>J+q,0)]).sort((re,J)=>re[1]-J[1])[0])==null?void 0:V[0];Q&&(G=Q);break}case"initialPlacement":G=l;break}if(i!==G)return{reset:{placement:G}}}return{}}}},_G=new Set(["left","top"]);async function xG(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Bp(t),l=L0(t),c=Bf(t)==="y",h=_G.has(a)?-1:1,d=s&&c?-1:1,p=C2(e,n);let{mainAxis:g,crossAxis:y,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof _=="number"&&(y=l==="end"?_*-1:_),c?{x:y*d,y:g*h}:{x:g*h,y:y*d}}const SG=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:l}=e,c=await xG(e,n);return a===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}};function J6(n){const e=wo(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=pc(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,l=E1(t)!==s||E1(r)!==a;return l&&(t=s,r=a),{width:t,height:r,$:l}}function SS(n){return Bs(n)?n:n.contextElement}function Sp(n){const e=SS(n);if(!pc(e))return sc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=J6(e);let a=(s?E1(t.width):t.width)/r,l=(s?E1(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const TG=sc(0);function Z6(n){const e=Oa(n);return!wS()||!e.visualViewport?TG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EG(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Oa(n)?!1:e}function fd(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=SS(n);let a=sc(1);e&&(r?Bs(r)&&(a=Sp(r)):a=Sp(n));const l=EG(s,t,r)?Z6(s):sc(0);let c=(i.left+l.x)/a.x,h=(i.top+l.y)/a.y,d=i.width/a.x,p=i.height/a.y;if(s){const g=Oa(s),y=r&&Bs(r)?Oa(r):r;let _=g,S=S5(_);for(;S&&r&&y!==_;){const T=Sp(S),E=S.getBoundingClientRect(),A=wo(S),N=E.left+(S.clientLeft+parseFloat(A.paddingLeft))*T.x,j=E.top+(S.clientTop+parseFloat(A.paddingTop))*T.y;c*=T.x,h*=T.y,d*=T.x,p*=T.y,c+=N,h+=j,_=Oa(S),S=S5(_)}}return C1({width:d,height:p,x:c,y:h})}function D2(n,e){const t=A2(n).scrollLeft;return e?e.left+t:fd(vc(n)).left+t}function eM(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-D2(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function AG(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=vc(r),l=e?E2(e.floating):!1;if(r===a||l&&s)return t;let c={scrollLeft:0,scrollTop:0},h=sc(1);const d=sc(0),p=pc(r);if((p||!p&&!s)&&((em(r)!=="body"||M0(a))&&(c=A2(r)),pc(r))){const y=fd(r);h=Sp(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const g=a&&!p&&!s?eM(a,c):sc(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-c.scrollLeft*h.x+d.x+g.x,y:t.y*h.y-c.scrollTop*h.y+d.y+g.y}}function CG(n){return Array.from(n.getClientRects())}function DG(n){const e=vc(n),t=A2(n),r=n.ownerDocument.body,i=Xf(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Xf(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+D2(n);const l=-t.scrollTop;return wo(r).direction==="rtl"&&(a+=Xf(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const V3=25;function kG(n,e){const t=Oa(n),r=vc(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=wS();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const h=D2(r);if(h<=0){const d=r.ownerDocument,p=d.body,g=getComputedStyle(p),y=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,_=Math.abs(r.clientWidth-p.clientWidth-y);_<=V3&&(s-=_)}else h<=V3&&(s+=h);return{width:s,height:a,x:l,y:c}}const NG=new Set(["absolute","fixed"]);function PG(n,e){const t=fd(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=pc(n)?Sp(n):sc(1),a=n.clientWidth*s.x,l=n.clientHeight*s.y,c=i*s.x,h=r*s.y;return{width:a,height:l,x:c,y:h}}function B3(n,e,t){let r;if(e==="viewport")r=kG(n,t);else if(e==="document")r=DG(vc(n));else if(Bs(e))r=PG(e,t);else{const i=Z6(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return C1(r)}function tM(n,e){const t=Kh(n);return t===e||!Bs(t)||Fp(t)?!1:wo(t).position==="fixed"||tM(t,e)}function RG(n,e){const t=e.get(n);if(t)return t;let r=i0(n,[],!1).filter(l=>Bs(l)&&em(l)!=="body"),i=null;const s=wo(n).position==="fixed";let a=s?Kh(n):n;for(;Bs(a)&&!Fp(a);){const l=wo(a),c=bS(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&NG.has(i.position)||M0(a)&&!c&&tM(n,a))?r=r.filter(d=>d!==a):i=l,a=Kh(a)}return e.set(n,r),r}function MG(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?E2(e)?[]:RG(e,this._c):[].concat(t),r],l=a[0],c=a.reduce((h,d)=>{const p=B3(e,d,i);return h.top=Xf(p.top,h.top),h.right=Vp(p.right,h.right),h.bottom=Vp(p.bottom,h.bottom),h.left=Xf(p.left,h.left),h},B3(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function LG(n){const{width:e,height:t}=J6(n);return{width:e,height:t}}function IG(n,e,t){const r=pc(e),i=vc(e),s=t==="fixed",a=fd(n,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=sc(0);function h(){c.x=D2(i)}if(r||!r&&!s)if((em(e)!=="body"||M0(i))&&(l=A2(e)),r){const y=fd(e,!0,s,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&h();s&&!r&&i&&h();const d=i&&!r&&!s?eM(i,l):sc(0),p=a.left+l.scrollLeft-c.x-d.x,g=a.top+l.scrollTop-c.y-d.y;return{x:p,y:g,width:a.width,height:a.height}}function Tw(n){return wo(n).position==="static"}function U3(n,e){if(!pc(n)||wo(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return vc(n)===t&&(t=t.ownerDocument.body),t}function nM(n,e){const t=Oa(n);if(E2(n))return t;if(!pc(n)){let i=Kh(n);for(;i&&!Fp(i);){if(Bs(i)&&!Tw(i))return i;i=Kh(i)}return t}let r=U3(n,e);for(;r&&Y$(r)&&Tw(r);)r=U3(r,e);return r&&Fp(r)&&Tw(r)&&!bS(r)?t:r||Q$(n)||t}const OG=async function(n){const e=this.getOffsetParent||nM,t=this.getDimensions,r=await t(n.floating);return{reference:IG(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jG(n){return wo(n).direction==="rtl"}const FG={convertOffsetParentRelativeRectToViewportRelativeRect:AG,getDocumentElement:vc,getClippingRect:MG,getOffsetParent:nM,getElementRects:OG,getClientRects:CG,getDimensions:LG,getScale:Sp,isElement:Bs,isRTL:jG};function rM(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function VG(n,e){let t=null,r;const i=vc(n);function s(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const h=n.getBoundingClientRect(),{left:d,top:p,width:g,height:y}=h;if(l||e(),!g||!y)return;const _=Ky(p),S=Ky(i.clientWidth-(d+g)),T=Ky(i.clientHeight-(p+y)),E=Ky(d),N={rootMargin:-_+"px "+-S+"px "+-T+"px "+-E+"px",threshold:Xf(0,Vp(1,c))||1};let j=!0;function U(K){const M=K[0].intersectionRatio;if(M!==c){if(!j)return a();M?a(!1,M):r=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!rM(h,n.getBoundingClientRect())&&a(),j=!1}try{t=new IntersectionObserver(U,{...N,root:i.ownerDocument})}catch{t=new IntersectionObserver(U,N)}t.observe(n)}return a(!0),s}function BG(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=SS(n),d=i||s?[...h?i0(h):[],...i0(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",t,{passive:!0}),s&&E.addEventListener("resize",t)});const p=h&&l?VG(h,t):null;let g=-1,y=null;a&&(y=new ResizeObserver(E=>{let[A]=E;A&&A.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=y)==null||N.observe(e)})),t()}),h&&!c&&y.observe(h),y.observe(e));let _,S=c?fd(n):null;c&&T();function T(){const E=fd(n);S&&!rM(S,E)&&t(),S=E,_=requestAnimationFrame(T)}return t(),()=>{var E;d.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),p?.(),(E=y)==null||E.disconnect(),y=null,c&&cancelAnimationFrame(_)}}const UG=SG,zG=wG,z3=bG,HG=(n,e,t)=>{const r=new Map,i={platform:FG,...t},s={...i.platform,_c:r};return yG(n,e,{...i,platform:s})};var qG=typeof document<"u",WG=function(){},Vv=qG?$.useLayoutEffect:WG;function k1(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!k1(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!k1(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function iM(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function H3(n,e){const t=iM(n);return Math.round(e*t)/t}function Ew(n){const e=$.useRef(n);return Vv(()=>{e.current=n}),e}function YG(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:h}=n,[d,p]=$.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=$.useState(r);k1(g,r)||y(r);const[_,S]=$.useState(null),[T,E]=$.useState(null),A=$.useCallback(re=>{re!==K.current&&(K.current=re,S(re))},[]),N=$.useCallback(re=>{re!==M.current&&(M.current=re,E(re))},[]),j=s||_,U=a||T,K=$.useRef(null),M=$.useRef(null),k=$.useRef(d),O=c!=null,H=Ew(c),R=Ew(i),L=Ew(h),V=$.useCallback(()=>{if(!K.current||!M.current)return;const re={placement:e,strategy:t,middleware:g};R.current&&(re.platform=R.current),HG(K.current,M.current,re).then(J=>{const q={...J,isPositioned:L.current!==!1};se.current&&!k1(k.current,q)&&(k.current=q,Sx.flushSync(()=>{p(q)}))})},[g,e,t,R,L]);Vv(()=>{h===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,p(re=>({...re,isPositioned:!1})))},[h]);const se=$.useRef(!1);Vv(()=>(se.current=!0,()=>{se.current=!1}),[]),Vv(()=>{if(j&&(K.current=j),U&&(M.current=U),j&&U){if(H.current)return H.current(j,U,V);V()}},[j,U,V,H,O]);const pe=$.useMemo(()=>({reference:K,floating:M,setReference:A,setFloating:N}),[A,N]),G=$.useMemo(()=>({reference:j,floating:U}),[j,U]),Q=$.useMemo(()=>{const re={position:t,left:0,top:0};if(!G.floating)return re;const J=H3(G.floating,d.x),q=H3(G.floating,d.y);return l?{...re,transform:"translate("+J+"px, "+q+"px)",...iM(G.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:J,top:q}},[t,l,G.floating,d.x,d.y]);return $.useMemo(()=>({...d,update:V,refs:pe,elements:G,floatingStyles:Q}),[d,V,pe,G,Q])}const $G=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?z3({element:r.current,padding:i}).fn(t):{}:r?z3({element:r,padding:i}).fn(t):{}}}},GG=(n,e)=>({...UG(n),options:[n,e]}),KG=(n,e)=>({...zG(n),options:[n,e]}),XG=(n,e)=>({...$G(n),options:[n,e]}),QG={...Xv};let q3=!1,JG=0;const W3=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+JG++;function ZG(){const[n,e]=$.useState(()=>q3?W3():void 0);return D1(()=>{n==null&&e(W3())},[]),$.useEffect(()=>{q3=!0},[]),n}const eK=QG.useId,sM=eK||ZG,tK=$.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:a}},width:l=14,height:c=7,tipRadius:h=0,strokeWidth:d=0,staticOffset:p,stroke:g,d:y,style:{transform:_,...S}={},...T}=e,E=sM(),[A,N]=$.useState(!1);if(D1(()=>{if(!i)return;wo(i).direction==="rtl"&&N(!0)},[i]),!i)return null;const[j,U]=r.split("-"),K=j==="top"||j==="bottom";let M=p;(K&&a!=null&&a.x||!K&&a!=null&&a.y)&&(M=null);const k=d*2,O=k/2,H=l/2*(h/-8+1),R=c/2*h/4,L=!!y,V=M&&U==="end"?"bottom":"top";let se=M&&U==="end"?"right":"left";M&&A&&(se=U==="end"?"left":"right");const pe=s?.x!=null?M||s.x:"",G=s?.y!=null?M||s.y:"",Q=y||"M0,0"+(" H"+l)+(" L"+(l-H)+","+(c-R))+(" Q"+l/2+","+c+" "+H+","+(c-R))+" Z",re={top:L?"rotate(180deg)":"",left:L?"rotate(90deg)":"rotate(-90deg)",bottom:L?"":"rotate(180deg)",right:L?"rotate(-90deg)":"rotate(90deg)"}[j];return B.jsxs("svg",{...T,"aria-hidden":!0,ref:t,width:L?l:l+k,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[se]:pe,[V]:G,[j]:K||L?"100%":"calc(100% - "+k/2+"px)",transform:[re,_].filter(J=>!!J).join(" "),...S},children:[k>0&&B.jsx("path",{clipPath:"url(#"+E+")",fill:"none",stroke:g,strokeWidth:k+(y?0:1),d:Q}),B.jsx("path",{stroke:k&&!y?T.fill:"none",d:Q}),B.jsx("clipPath",{id:E,children:B.jsx("rect",{x:-O,y:O*(L?-1:1),width:l+k,height:l})})]})});function nK(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const rK=$.createContext(null),iK=$.createContext(null),sK=()=>{var n;return((n=$.useContext(rK))==null?void 0:n.id)||null},aK=()=>$.useContext(iK);function oK(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=sM(),s=$.useRef({}),[a]=$.useState(()=>nK()),l=sK()!=null,[c,h]=$.useState(r.reference),d=gG((y,_,S)=>{s.current.openEvent=y?_:void 0,a.emit("openchange",{open:y,event:_,reason:S,nested:l}),t?.(y,_,S)}),p=$.useMemo(()=>({setPositionReference:h}),[]),g=$.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return $.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:g,events:a,floatingId:i,refs:p}),[e,d,g,a,i,p])}function lK(n){n===void 0&&(n={});const{nodeId:e}=n,t=oK({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,a]=$.useState(null),[l,c]=$.useState(null),d=i?.domReference||s,p=$.useRef(null),g=aK();D1(()=>{d&&(p.current=d)},[d]);const y=YG({...n,elements:{...i,...l&&{reference:l}}}),_=$.useCallback(N=>{const j=Bs(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;c(j),y.refs.setReference(j)},[y.refs]),S=$.useCallback(N=>{(Bs(N)||N===null)&&(p.current=N,a(N)),(Bs(y.refs.reference.current)||y.refs.reference.current===null||N!==null&&!Bs(N))&&y.refs.setReference(N)},[y.refs]),T=$.useMemo(()=>({...y.refs,setReference:S,setPositionReference:_,domReference:p}),[y.refs,S,_]),E=$.useMemo(()=>({...y.elements,domReference:d}),[y.elements,d]),A=$.useMemo(()=>({...y,...r,refs:T,elements:E,nodeId:e}),[y,T,E,e,r]);return D1(()=>{r.dataRef.current.floatingContext=A;const N=g?.nodesRef.current.find(j=>j.id===e);N&&(N.context=A)}),$.useMemo(()=>({...y,context:A,refs:T,elements:E}),[y,T,E,A])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var E5=function(e,t){return E5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},E5(e,t)};function ss(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E5(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var pn=function(){return pn=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},pn.apply(this,arguments)};function Ql(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var cK=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,s=n.className,a=n.children,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return Ee.createElement("div",{className:s,role:"dialog","aria-label":l,"aria-modal":"true"},a)},uK=function(n,e){var t=$.useRef(null),r=$.useRef(n);r.current=n;var i=$.useCallback(function(s){var a,l=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;t.current&&!t.current.contains(l)&&(e&&l instanceof HTMLElement&&l.classList.contains(e)||(a=r.current)===null||a===void 0||a.call(r,s))},[e]);return $.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},k2=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,s=n.style,a=n.ignoreClass,l=uK(t,a);return Ee.createElement("div",{className:r,style:s,ref:function(c){l.current=c,i&&(i.current=c)}},e)},dt;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(dt||(dt={}));function aM(){var n=typeof window<"u"?window:globalThis;return n}var I0=12;function Bn(n){if(n==null)return new Date;var e=typeof n=="string"?D$(n):St(n);return N2(e)?e:new Date}function Aw(n,e,t,r,i){i===void 0&&(i=Bn());for(var s=Up(t)||Up(TS()),a=Array.isArray(e)?e:[e],l=0,c=a;l<c.length;l++){var h=c[l],d=x$(n,h,i,{locale:s});if(N2(d)&&(!r||n===yr(d,h,t)))return d}return null}function N2(n,e){return w1(n)&&!Xl(n,new Date("1/1/1800"))}function yr(n,e,t){if(t==="en")return R3(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Up(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Up(TS()),R3(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ho(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&yr(n,i,r)||""}var oM=" - ";function hK(n,e,t){if(!n&&!e)return"";var r=n?ho(n,t):"",i=e?ho(e,t):"",s=t.rangeSeparator||oM;return"".concat(r).concat(s).concat(i)}function fK(n,e){if(!n?.length)return"";var t=n[0]?ho(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=ho(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function Cw(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,a=e.second,l=a===void 0?0:a;return Ov(jv(Fv(n,l),s),r)}function dK(n){return mS(n)}function pK(n,e){return yr(n,"ddd",e)}function Bv(n){return hd(n)}function jh(n,e,t){var r=Up(e||TS());return Su(n,{locale:r,weekStartsOn:t})}function mu(n){return F6(n)}function dg(n){return S2(n)}function Y3(n){return w5(n)}function $3(){return hd(Bn())}function G3(n){return O6(n)}function mK(n){return DW(n)}function gK(n){return j6(n)}function $l(n,e){return n&&e?A$(n,e):!n&&!e}function Fs(n,e){return n&&e?T$(n,e):!n&&!e}function N1(n,e){return n&&e?E$(n,e):!n&&!e}function dn(n,e){return n&&e?AW(n,e):!n&&!e}function Uf(n,e){return n&&e?CY(n,e):!n&&!e}function Mf(n,e,t){var r,i=hd(e),s=O6(t);try{r=r0(n,{start:i,end:s})}catch{r=!1}return r}function TS(){var n=aM();return n.__localeId__}function Up(n){if(typeof n=="string"){var e=aM();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function yK(n,e,t){return e(yr(n,"EEEE",t))}function vK(n,e){return yr(n,"EEEEEE",e)}function bK(n,e){return yr(n,"EEE",e)}function ES(n,e){return yr(fo(Bn(),n),"LLLL",e)}function lM(n,e){return yr(fo(Bn(),n),"LLL",e)}function wK(n,e){return yr(up(Bn(),n),"QQQ",e)}function po(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.excludeDateIntervals,l=t.includeDates,c=t.includeDateIntervals,h=t.filterDate;return O0(n,{minDate:r,maxDate:i})||s&&s.some(function(d){return d instanceof Date?dn(n,d):dn(n,d.date)})||a&&a.some(function(d){var p=d.start,g=d.end;return r0(n,{start:p,end:g})})||l&&!l.some(function(d){return dn(n,d)})||c&&!c.some(function(d){var p=d.start,g=d.end;return r0(n,{start:p,end:g})})||h&&!h(Bn(n))||!1}function AS(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var a=s.start,l=s.end;return r0(n,{start:a,end:l})}):r&&r.some(function(s){var a;return s instanceof Date?dn(n,s):dn(n,(a=s.date)!==null&&a!==void 0?a:new Date)})||!1}function cM(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,l=t.filterDate;return O0(n,{minDate:r?F6(r):void 0,maxDate:i?j6(i):void 0})||s?.some(function(c){return Fs(n,c instanceof Date?c:c.date)})||a&&!a.some(function(c){return Fs(n,c)})||l&&!l(Bn(n))||!1}function Xy(n,e,t,r){var i=sn(n),s=As(n),a=sn(e),l=As(e),c=sn(r);return i===a&&i===c?s<=t&&t<=l:i<a?c===i&&s<=t||c===a&&l>=t||c<a&&c>i:!1}function _K(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates;return O0(n,{minDate:r,maxDate:i})||s&&s.some(function(l){return Fs(l instanceof Date?l:l.date,n)})||a&&!a.some(function(l){return Fs(l,n)})||!1}function Qy(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,l=t.filterDate;return O0(n,{minDate:r,maxDate:i})||s?.some(function(c){return N1(n,c instanceof Date?c:c.date)})||a&&!a.some(function(c){return N1(n,c)})||l&&!l(Bn(n))||!1}function Jy(n,e,t){if(!e||!t||!w1(e)||!w1(t))return!1;var r=sn(e),i=sn(t);return r<=n&&i>=n}function Uv(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,l=t.filterDate,c=new Date(n,0,1);return O0(c,{minDate:r?S2(r):void 0,maxDate:i?V6(i):void 0})||s?.some(function(h){return $l(c,h instanceof Date?h:h.date)})||a&&!a.some(function(h){return $l(c,h)})||l&&!l(Bn(c))||!1}function Zy(n,e,t,r){var i=sn(n),s=Gf(n),a=sn(e),l=Gf(e),c=sn(r);return i===a&&i===c?s<=t&&t<=l:i<a?c===i&&s<=t||c===a&&l>=t||c<a&&c>i:!1}function O0(n,e){var t,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(t=i&&Op(n,i)<0||s&&Op(n,s)>0)!==null&&t!==void 0?t:!1}function K3(n,e){return e.some(function(t){return du(t)===du(n)&&pu(t)===pu(n)&&Oh(t)===Oh(n)})}function X3(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return r&&K3(n,r)||i&&!K3(n,i)||s&&!s(n)||!1}function Q3(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Bn();i=Ov(i,du(n)),i=jv(i,pu(n)),i=Fv(i,Oh(n));var s=Bn();s=Ov(s,du(t)),s=jv(s,pu(t)),s=Fv(s,Oh(t));var a=Bn();a=Ov(a,du(r)),a=jv(a,pu(r)),a=Fv(a,Oh(r));var l;try{l=!r0(i,{start:s,end:a})}catch{l=!1}return l}function J3(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=Kf(n,1);return r&&_1(r,s)>0||i&&i.every(function(a){return _1(a,s)>0})||!1}function Z3(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=il(n,1);return r&&_1(s,r)>0||i&&i.every(function(a){return _1(s,a)>0})||!1}function xK(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=S2(n),a=G6(s);return r&&x1(r,a)>0||i&&i.every(function(l){return x1(l,a)>0})||!1}function SK(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=V6(n),a=pS(s,1);return r&&x1(a,r)>0||i&&i.every(function(l){return x1(a,l)>0})||!1}function eC(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=jp(n,1);return r&&S1(r,s)>0||i&&i.every(function(a){return S1(a,s)>0})||!1}function TK(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,s=i===void 0?I0:i,a=dg(jp(n,s)),l=au(a,s).endPeriod,c=r&&sn(r);return c&&c>l||!1}function tC(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=hu(n,1);return r&&S1(s,r)>0||i&&i.every(function(a){return S1(s,a)>0})||!1}function EK(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,s=i===void 0?I0:i,a=hu(n,s),l=au(a,s).startPeriod,c=r&&sn(r);return c&&c<l||!1}function uM(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Op(i,e)>=0});return A3(r)}else return t?A3(t):e}function hM(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Op(i,e)<=0});return E3(r)}else return t?E3(t):e}function nC(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=n.length;i<s;i++){var a=n[i];if(fu(a)){var l=yr(a,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(e)||(c.push(e),r.set(l,c))}else if(typeof a=="object"){var h=Object.keys(a),d=(t=h[0])!==null&&t!==void 0?t:"",p=a[d];if(typeof d=="string"&&Array.isArray(p))for(var g=0,y=p.length;g<y;g++){var _=p[g];if(_){var l=yr(_,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(d)||(c.push(d),r.set(l,c))}}}}return r}function AK(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function CK(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,s=r.holidayName;if(fu(i)){var a=yr(i,"MM.dd.yyyy"),l=t.get(a)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&AK(l.holidayNames,[s]))){l.className=e;var c=l.holidayNames;l.holidayNames=c?Ql(Ql([],c,!0),[s],!1):[s],t.set(a,l)}}}),t}function DK(n,e,t,r,i){for(var s=i.length,a=[],l=0;l<s;l++){var c=n,h=i[l];h&&(c=xW(c,du(h)),c=b5(c,pu(h)),c=EW(c,Oh(h)));var d=b5(n,(t+1)*r);Gh(c,e)&&Xl(c,d)&&h!=null&&a.push(h)}return a}function rC(n){return n<10?"0".concat(n):"".concat(n)}function au(n,e){e===void 0&&(e=I0);var t=Math.ceil(sn(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function kK(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function iC(n){var e=n.getSeconds(),t=n.getMilliseconds();return St(n.getTime()-e*1e3-t)}function NK(n,e){return iC(n).getTime()===iC(e).getTime()}function sC(n){if(!fu(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function Dw(n,e){if(!fu(n)||!fu(e))throw new Error("Invalid date received");var t=sC(n),r=sC(e);return Xl(t,r)}function fM(n){return n.key===dt.Space}var PK=(function(n){ss(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=Ee.createRef(),r.onTimeChange=function(i){var s,a;r.setState({time:i});var l=r.props.date,c=l instanceof Date&&!isNaN(+l),h=c?l:new Date;if(i?.includes(":")){var d=i.split(":"),p=d[0],g=d[1];h.setHours(Number(p)),h.setMinutes(Number(g))}(a=(s=r.props).onChange)===null||a===void 0||a.call(s,h)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,a=s.date,l=s.timeString,c=s.customTimeInput;return c?$.cloneElement(c,{date:a,value:i,onChange:r.onTimeChange}):Ee.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){r.onTimeChange(h.target.value||l)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return Ee.createElement("div",{className:"react-datepicker__input-time-container"},Ee.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Ee.createElement("div",{className:"react-datepicker-time__input-container"},Ee.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})($.Component),RK=(function(n){ss(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=$.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,s,a=r.key;a===dt.Space&&(r.preventDefault(),r.key=dt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isSameDay=function(r){return dn(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),po(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return AS(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return dn(t.props.day,jh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&dn(r,jh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,s=r.highlightDates;if(!s)return!1;var a=yr(i,"MM.dd.yyyy");return s.get(a)},t.getHolidaysClass=function(){var r,i=t.props,s=i.day,a=i.holidays;if(!a)return[void 0];var l=yr(s,"MM.dd.yyyy");return a.has(l)?[(r=a.get(l))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:Mf(i,s,a)},t.isInSelectingRange=function(){var r,i=t.props,s=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,h=i.selectsDisabledDaysInRange,d=i.startDate,p=i.swapRange,g=i.endDate,y=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;if(!(a||l||c)||!y||!h&&t.isDisabled())return!1;if(a&&g&&(Xl(y,g)||Uf(y,g)))return Mf(s,y,g);if(l&&d&&(Gh(y,d)||Uf(y,d)))return Mf(s,d,y);if(c&&d&&!g){if(Uf(y,d)||Gh(y,d))return Mf(s,d,y);if(p&&Xl(y,d))return Mf(s,y,d)}return!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.startDate,l=i.selectsStart,c=i.swapRange,h=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?dn(s,d):h&&c&&a&&d?dn(s,Xl(d,a)?d:a):dn(s,a)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.endDate,l=i.selectsEnd,c=i.selectsRange,h=i.swapRange,d=i.startDate,p=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?dn(s,p):c&&h&&d&&p?dn(s,Xl(p,d)?d:p):c?dn(s,p):dn(s,a)},t.isRangeStart=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:dn(s,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:dn(a,i)},t.isWeekend=function(){var r=SY(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===As(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(As(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Bn())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return Er("react-datepicker__day",i,"react-datepicker__day--"+pK(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,a=s===void 0?"Choose":s,l=r.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,h=t.isDisabled()||t.isExcluded()?c:a;return"".concat(h," ").concat(yr(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,s=r.holidays,a=s===void 0?new Map:s,l=r.excludeDates,c=yr(i,"MM.dd.yyyy"),h=[];return a.has(c)&&h.push.apply(h,a.get(c).holidayNames),t.isExcluded()&&h.push(l?.filter(function(d){return d instanceof Date?dn(d,i):dn(d?.date,i)}).map(function(d){if(!(d instanceof Date))return d?.message})),h.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&dn(i,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(M3(t.props.day),t.props.day):M3(t.props.day)},t.render=function(){return Ee.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Ee.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})($.Component),MK=(function(n){ss(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=$.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,s,a=r.key;a===dt.Space&&(r.preventDefault(),r.key=dt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!dn(t.props.date,t.props.selected)&&dn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||dn(t.props.date,t.props.selected)&&dn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!r?.isInputFocused&&dn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,a=s===void 0?e.defaultProps.ariaLabelPrefix:s,l=t.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&dn(this.props.date,this.props.selected)};return Ee.createElement("div",{ref:this.weekNumberEl,className:Er(c),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},e})($.Component),LK=(function(n){ss(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return po(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,s){for(var a,l,c,h=new Date(r),d=0;d<7;d++){var p=new Date(r);p.setDate(p.getDate()+d);var g=!t.isDisabled(p);if(g){h=p;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(h,i,s),t.props.showWeekPicker&&t.handleDayClick(h,s),((a=t.props.shouldCloseOnSelect)!==null&&a!==void 0?a:e.defaultProps.shouldCloseOnSelect)&&((c=(l=t.props).setOpen)===null||c===void 0||c.call(l,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):dK(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=nl(r,6),s=new Date(r);s<=i;){if(!t.isDisabled(s))return!1;s=nl(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;i.push(Ee.createElement(MK,pn({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var c=nl(r,l);return Ee.createElement(RK,pn({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:t.handleDayClick.bind(t,c),onMouseEnter:t.handleDayMouseEnter.bind(t,c)}))}))},t.startOfWeek=function(){return jh(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!dn(t.startOfWeek(),t.props.selected)&&dn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":dn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Ee.createElement("div",{className:Er(t,r),role:"row"},this.renderDays())},e})($.Component),Qm,IK=6,Tp={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},kw=(Qm={},Qm[Tp.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Qm[Tp.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Qm[Tp.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Qm),ev=1;function aC(n,e){return n?Tp.FOUR_COLUMNS:e?Tp.TWO_COLUMNS:Tp.THREE_COLUMNS}var OK=(function(n){ss(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Ql([],Array(12),!0).map(function(){return $.createRef()}),t.QUARTER_REFS=Ql([],Array(4),!0).map(function(){return $.createRef()}),t.isDisabled=function(r){return po(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return AS(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var s,a;(a=(s=t.props).onDayClick)===null||a===void 0||a.call(s,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate;return!a||!l?!1:Fs(fo(s,r),a)},t.isRangeStartQuarter=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate;return!a||!l?!1:N1(up(s,r),a)},t.isRangeEndMonth=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate;return!a||!l?!1:Fs(fo(s,r),l)},t.isRangeEndQuarter=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate;return!a||!l?!1:N1(up(s,r),l)},t.isInSelectingRangeMonth=function(r){var i,s=t.props,a=s.day,l=s.selectsStart,c=s.selectsEnd,h=s.selectsRange,d=s.startDate,p=s.endDate,g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||h)||!g?!1:l&&p?Xy(g,p,r,a):c&&d||h&&d&&!p?Xy(d,g,r,a):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,a=s.day,l=s.startDate,c=s.selectsStart,h=fo(a,r),d=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c?Fs(h,d):Fs(h,l)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,a=s.day,l=s.endDate,c=s.selectsEnd,h=s.selectsRange,d=fo(a,r),p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c||h?Fs(d,p):Fs(d,l)},t.isInSelectingRangeQuarter=function(r){var i,s=t.props,a=s.day,l=s.selectsStart,c=s.selectsEnd,h=s.selectsRange,d=s.startDate,p=s.endDate,g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||h)||!g?!1:l&&p?Zy(g,p,r,a):c&&d||h&&d&&!p?Zy(d,g,r,a):!1},t.isWeekInMonth=function(r){var i=t.props.day,s=nl(r,6);return Fs(r,i)||Fs(s,i)},t.isCurrentMonth=function(r,i){return sn(r)===sn(Bn())&&i===As(Bn())},t.isCurrentQuarter=function(r,i){return sn(r)===sn(Bn())&&i===Gf(Bn())},t.isSelectedMonth=function(r,i,s){return As(s)===i&&sn(r)===sn(s)},t.isSelectMonthInList=function(r,i,s){return s.some(function(a){return t.isSelectedMonth(r,i,a)})},t.isSelectedQuarter=function(r,i,s){return Gf(r)===i&&sn(r)===sn(s)},t.isMonthSelected=function(){var r=t.props,i=r.day,s=r.selected,a=r.selectedDates,l=r.selectsMultiple,c=As(i);return l?a?.some(function(h){return t.isSelectedMonth(i,c,h)}):!!s&&t.isSelectedMonth(i,c,s)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,s=0,a=!1,l=jh(mu(t.props.day),t.props.locale,t.props.calendarStartDay),c=function(_){return t.props.showWeekPicker?jh(_,t.props.locale,t.props.calendarStartDay):t.props.preSelection},h=function(_){return t.props.showWeekPicker?jh(_,t.props.locale,t.props.calendarStartDay):t.props.selected},d=t.props.selected?h(t.props.selected):void 0,p=t.props.preSelection?c(t.props.preSelection):void 0;r.push(Ee.createElement(LK,pn({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:l,month:As(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:d,preSelection:p,showWeekNumber:t.props.showWeekNumbers}))),!a;){s++,l=b1(l,1);var g=i&&s>=IK,y=!i&&!t.isWeekInMonth(l);if(g||y)if(t.props.peekNextMonth)a=!0;else break}return r},t.onMonthClick=function(r,i){var s=t.isMonthDisabledForLabelDate(i),a=s.isDisabled,l=s.labelDate;a||t.handleDayClick(mu(l),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),s=i.isDisabled,a=i.labelDate;s||t.handleDayMouseEnter(mu(a))},t.handleMonthNavigation=function(r,i){var s,a,l,c;(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(c=(l=t.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},t.handleKeyboardNavigation=function(r,i,s){var a,l=t.props,c=l.selected,h=l.preSelection,d=l.setPreSelection,p=l.minDate,g=l.maxDate,y=l.showFourColumnMonthYearPicker,_=l.showTwoColumnMonthYearPicker;if(h){var S=aC(y,_),T=t.getVerticalOffset(S),E=(a=kw[S])===null||a===void 0?void 0:a.grid,A=function(M,k,O){var H,R,L=k,V=O;switch(M){case dt.ArrowRight:L=il(k,ev),V=O===11?0:O+ev;break;case dt.ArrowLeft:L=Kf(k,ev),V=O===0?11:O-ev;break;case dt.ArrowUp:L=Kf(k,T),V=!((H=E?.[0])===null||H===void 0)&&H.includes(O)?O+12-T:O-T;break;case dt.ArrowDown:L=il(k,T),V=!((R=E?.[E.length-1])===null||R===void 0)&&R.includes(O)?O-12+T:O+T;break}return{newCalculatedDate:L,newCalculatedMonth:V}},N=function(M,k,O){for(var H=40,R=M,L=!1,V=0,se=A(R,k,O),pe=se.newCalculatedDate,G=se.newCalculatedMonth;!L;){if(V>=H){pe=k,G=O;break}if(p&&pe<p){R=dt.ArrowRight;var Q=A(R,pe,G);pe=Q.newCalculatedDate,G=Q.newCalculatedMonth}if(g&&pe>g){R=dt.ArrowLeft;var Q=A(R,pe,G);pe=Q.newCalculatedDate,G=Q.newCalculatedMonth}if(_K(pe,t.props)){var Q=A(R,pe,G);pe=Q.newCalculatedDate,G=Q.newCalculatedMonth}else L=!0;V++}return{newCalculatedDate:pe,newCalculatedMonth:G}};if(i===dt.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),d?.(c));return}var j=N(i,h,s),U=j.newCalculatedDate,K=j.newCalculatedMonth;switch(i){case dt.ArrowRight:case dt.ArrowLeft:case dt.ArrowUp:case dt.ArrowDown:t.handleMonthNavigation(K,U);break}}},t.getVerticalOffset=function(r){var i,s;return(s=(i=kw[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,i){var s=t.props,a=s.disabledKeyboardNavigation,l=s.handleOnMonthKeyDown,c=r.key;c!==dt.Tab&&r.preventDefault(),a||t.handleKeyboardNavigation(r,c,i),l&&l(r)},t.onQuarterClick=function(r,i){var s=up(t.props.day,i);Qy(s,t.props)||t.handleDayClick(Y3(s),r)},t.onQuarterMouseEnter=function(r){var i=up(t.props.day,r);Qy(i,t.props)||t.handleDayMouseEnter(Y3(i))},t.handleQuarterNavigation=function(r,i){var s,a,l,c;t.isDisabled(i)||t.isExcluded(i)||((a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(c=(l=t.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},t.onQuarterKeyDown=function(r,i){var s,a,l=r.key;if(!t.props.disabledKeyboardNavigation)switch(l){case dt.Enter:t.onQuarterClick(r,i),(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,t.props.selected);break;case dt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,pS(t.props.preSelection,1));break;case dt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,G6(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,s=t.props,a=s.day,l=s.minDate,c=s.maxDate,h=s.excludeDates,d=s.includeDates,p=fo(a,r);return{isDisabled:(i=(l||c||h||d)&&cM(p,t.props))!==null&&i!==void 0?i:!1,labelDate:p}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate,c=i.preSelection,h=i.monthClassName,d=h?h(fo(s,r)):void 0,p=t.getSelection();return Er("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":p?t.isSelectMonthInList(s,r,p):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&c&&t.isSelectedMonth(s,r,c)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":a&&l?Xy(a,l,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=As(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,a=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Gf(t.props.preSelection),s=Qy(t.props.day,t.props),a=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getAriaLabel=function(r){var i=t.props,s=i.chooseDayAriaLabelPrefix,a=s===void 0?"Choose":s,l=i.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,h=i.day,d=i.locale,p=fo(h,r),g=t.isDisabled(p)||t.isExcluded(p)?c:a;return"".concat(g," ").concat(yr(p,"MMMM yyyy",d))},t.getQuarterClassNames=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate,c=i.selected,h=i.minDate,d=i.maxDate,p=i.excludeDates,g=i.includeDates,y=i.filterDate,_=i.preSelection,S=i.disabledKeyboardNavigation,T=(h||d||p||g||y)&&Qy(up(s,r),t.props);return Er("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":T,"react-datepicker__quarter-text--selected":c?t.isSelectedQuarter(s,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&_&&t.isSelectedQuarter(s,r,_)&&!T,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":a&&l?Zy(a,l,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var i=t.props,s=i.showFullMonthYearPicker,a=i.renderMonthContent,l=i.locale,c=i.day,h=lM(r,l),d=ES(r,l);return a?a(r,h,d,c):s?d:h},t.getQuarterContent=function(r){var i,s=t.props,a=s.renderQuarterContent,l=s.locale,c=wK(r,l);return(i=a?.(r,c))!==null&&i!==void 0?i:c},t.renderMonths=function(){var r,i=t.props,s=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,l=i.day,c=i.selected,h=(r=kw[aC(a,s)])===null||r===void 0?void 0:r.grid;return h?.map(function(d,p){return Ee.createElement("div",{className:"react-datepicker__month-wrapper",key:p},d.map(function(g,y){return Ee.createElement("div",{ref:t.MONTH_REFS[g],key:y,onClick:function(_){t.onMonthClick(_,g)},onKeyDown:function(_){fM(_)&&(_.preventDefault(),_.key=dt.Enter),t.onMonthKeyDown(_,g)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(g)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(g)}:void 0,tabIndex:Number(t.getTabIndex(g)),className:t.getMonthClassNames(g),"aria-disabled":t.isMonthDisabled(g),role:"option","aria-label":t.getAriaLabel(g),"aria-current":t.isCurrentMonth(l,g)?"date":void 0,"aria-selected":c?t.isSelectedMonth(l,g,c):void 0},t.getMonthContent(g))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,s=r.selected,a=[1,2,3,4];return Ee.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(l,c){return Ee.createElement("div",{key:c,ref:t.QUARTER_REFS[c],role:"option",onClick:function(h){t.onQuarterClick(h,l)},onKeyDown:function(h){t.onQuarterKeyDown(h,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":s?t.isSelectedQuarter(i,l,s):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(i,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,s=r.selectsStart,a=r.selectsEnd,l=r.showMonthYearPicker,c=r.showQuarterYearPicker,h=r.showWeekPicker;return Er("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||a)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":h})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,a=t.ariaLabelPrefix,l=a===void 0?"Month ":a,c=l?l.trim()+" ":"",h=r||i;return h?Ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(yr(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():this.renderQuarters()):Ee.createElement("div",{role:"table"},this.props.dayNamesHeader&&Ee.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),Ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(yr(s,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})($.Component),jK=(function(n){ss(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(r){return t.props.month===r},t.handleOptionKeyDown=function(r,i){var s;switch(i.key){case"Enter":i.preventDefault(),t.onChange(r);break;case"Escape":i.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var a=(r+(i.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(s=t.monthOptionButtonsRef[a])===null||s===void 0||s.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(r,i){return Ee.createElement("div",{ref:function(s){t.monthOptionButtonsRef[i]=s,t.isSelectedMonth(i)&&s?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),onKeyDown:t.handleOptionKeyDown.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?Ee.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Ee.createElement(k2,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})($.Component),FK=(function(n){ss(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,s){return Ee.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(r){return Ee.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return Ee.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Ee.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Ee.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return Ee.createElement(jK,pn({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,r)];return i&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return lM(s,t.props.locale)}:function(s){return ES(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return Ee.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e})($.Component);function VK(n,e){for(var t=[],r=mu(n),i=mu(e);!Gh(r,i);)t.push(Bn(r)),r=il(r,1);return t}var BK=(function(n){ss(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=x5(i),a=$l(r.props.date,i)&&Fs(r.props.date,i);return Ee.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":a?"true":void 0},a?Ee.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",yr(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:VK(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Er({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Ee.createElement(k2,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})($.Component),UK=(function(n){ss(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=mu(t.props.minDate),i=mu(t.props.maxDate),s=[];!Gh(r,i);){var a=x5(r);s.push(Ee.createElement("option",{key:a,value:a},yr(r,t.props.dateFormat,t.props.locale))),r=il(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Ee.createElement("select",{value:x5(mu(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=yr(t.props.date,t.props.dateFormat,t.props.locale);return Ee.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Ee.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Ee.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return Ee.createElement(BK,pn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Bn(r);$l(t.props.date,i)&&Fs(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ee.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})($.Component),zK=(function(n){ss(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var i,s;(t.props.minTime||t.props.maxTime)&&Q3(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&X3(r,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&NK(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&Q3(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&X3(r,t.props)},t.liClasses=function(r){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(du(r)*3600+pu(r)*60+Oh(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,i){var s,a;r.key===dt.Space&&(r.preventDefault(),r.key=dt.Enter),(r.key===dt.ArrowUp||r.key===dt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===dt.ArrowDown||r.key===dt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===dt.Enter&&t.handleClick(i),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,r)},t.renderTimes=function(){for(var r,i=[],s=typeof t.props.format=="string"?t.props.format:"p",a=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Bn(),c=Bv(l),h=t.props.injectTimes&&t.props.injectTimes.sort(function(T,E){return T.getTime()-E.getTime()}),d=60*kK(l),p=d/a,g=0;g<p;g++){var y=b5(c,g*a);if(i.push(y),h){var _=DK(c,y,g,a,h);i=i.concat(_)}}var S=i.reduce(function(T,E){return E.getTime()<=l.getTime()?E:T},i[0]);return i.map(function(T){return Ee.createElement("li",{key:T.valueOf(),onClick:t.handleClick.bind(t,T),className:t.liClasses(T),ref:function(E){T===S&&(t.centerLi=E)},onKeyDown:function(E){t.handleOnKeyDown(E,T)},tabIndex:T===S?0:-1,role:"option","aria-selected":t.isSelectedTime(T)?"true":void 0,"aria-disabled":t.isDisabledTime(T)?"true":void 0},yr(T,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Ee.createElement(Ee.Fragment,null):Ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},Ee.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,i=this.state.height;return Ee.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Ee.createElement("div",{className:"react-datepicker__time"},Ee.createElement("div",{className:"react-datepicker__time-box"},Ee.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e})($.Component),oC=3,HK=(function(n){ss(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=Ql([],Array(r.props.yearItemNumber),!0).map(function(){return $.createRef()}),r.isDisabled=function(i){return po(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return AS(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var a,l;(l=(a=r.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var a,l,c,h,d=r.props,p=d.date,g=d.yearItemNumber;if(!(p===void 0||g===void 0)){var y=au(p,g).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((l=(a=r.props).setPreSelection)===null||l===void 0||l.call(a,s),i-y<0?r.updateFocusOnPaginate(g-(y-i)):i-y>=g?r.updateFocusOnPaginate(Math.abs(g-(i-y))):(h=(c=r.YEAR_REFS[i-y])===null||c===void 0?void 0:c.current)===null||h===void 0||h.focus())}},r.isSameDay=function(i,s){return dn(i,s)},r.isCurrentYear=function(i){return i===sn(Bn())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&$l(Wl(Bn(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&$l(Wl(Bn(),i),r.props.endDate)},r.isInRange=function(i){return Jy(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,h=s.startDate,d=s.endDate;return!(a||l||c)||!r.selectingDate()?!1:a&&d?Jy(i,r.selectingDate(),d):l&&h||c&&h&&!d?Jy(i,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,l=a.startDate,c=a.selectsStart,h=Wl(Bn(),i);return c?$l(h,(s=r.selectingDate())!==null&&s!==void 0?s:null):$l(h,l??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,l=a.endDate,c=a.selectsEnd,h=a.selectsRange,d=Wl(Bn(),i);return c||h?$l(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):$l(d,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,a=s.minDate,l=s.maxDate,c=s.excludeDates,h=s.includeDates,d=s.filterDate,p=s.selected,g=dg(Wl(r.props.date,i)),y=(a||l||c||h||d)&&Uv(i,r.props),_=!!p&&dn(g,dg(p)),S=dn(g,dg(r.props.preSelection));return!r.props.inline&&!_&&S&&!y}},r.isSelectedYear=function(i){var s=r.props,a=s.selectsMultiple,l=s.selected,c=s.selectedDates;return a?c?.some(function(h){return i===sn(h)}):!!l&&i===sn(l)},r.onYearClick=function(i,s){var a=r.props.date;a!==void 0&&r.handleYearClick(dg(Wl(a,s)),i)},r.onYearKeyDown=function(i,s){var a,l,c=i.key,h=r.props,d=h.date,p=h.yearItemNumber,g=h.handleOnKeyDown;if(c!==dt.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case dt.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(l=(a=r.props).setPreSelection)===null||l===void 0||l.call(a,r.props.selected);break;case dt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,hu(r.props.preSelection,1));break;case dt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,jp(r.props.preSelection,1));break;case dt.ArrowUp:{if(d===void 0||p===void 0||r.props.preSelection==null)break;var y=au(d,p).startPeriod,_=oC,S=s-_;if(S<y){var T=p%_;s>=y&&s<y+T?_=T:_+=T,S=s-_}r.handleYearNavigation(S,jp(r.props.preSelection,_));break}case dt.ArrowDown:{if(d===void 0||p===void 0||r.props.preSelection==null)break;var E=au(d,p).endPeriod,_=oC,S=s+_;if(S>E){var T=p%_;s<=E&&s>E-T?_=T:_+=T,S=s+_}r.handleYearNavigation(S,hu(r.props.preSelection,_));break}}g&&g(i)},r.getYearClassNames=function(i){var s=r.props,a=s.date,l=s.minDate,c=s.maxDate,h=s.excludeDates,d=s.includeDates,p=s.filterDate,g=s.yearClassName;return Er("react-datepicker__year-text","react-datepicker__year-".concat(i),a?g?.(Wl(a,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(l||c||h||d||p)&&Uv(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=sn(r.props.preSelection),a=Uv(i,r.props);return i===s&&!a?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,s=i.date,a=i.yearItemNumber,l=i.onYearMouseEnter,c=i.onYearMouseLeave;if(s===void 0)return null;for(var h=au(s,a),d=h.startPeriod,p=h.endPeriod,g=function(S){r.push(Ee.createElement("div",{ref:y.YEAR_REFS[S-d],onClick:function(T){t.onYearClick(T,S)},onKeyDown:function(T){fM(T)&&(T.preventDefault(),T.key=dt.Enter),t.onYearKeyDown(T,S)},tabIndex:Number(y.getYearTabIndex(S)),className:y.getYearClassNames(S),onMouseEnter:y.props.usePointerEvent?void 0:function(T){return l(T,S)},onPointerEnter:y.props.usePointerEvent?function(T){return l(T,S)}:void 0,onMouseLeave:y.props.usePointerEvent?void 0:function(T){return c(T,S)},onPointerLeave:y.props.usePointerEvent?function(T){return c(T,S)}:void 0,key:S,"aria-current":y.isCurrentYear(S)?"date":void 0},y.getYearContent(S)))},y=this,_=d;_<=p;_++)g(_);return Ee.createElement("div",{className:"react-datepicker__year"},Ee.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e})($.Component);function qK(n,e,t,r){for(var i=[],s=0;s<2*e+1;s++){var a=n+e-s,l=!0;t&&(l=sn(t)<=a),r&&l&&(l=sn(r)>=a),l&&i.push(a)}return i}var WK=(function(n){ss(e,n);function e(t){var r=n.call(this,t)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(l,c){var h;switch(c.key){case"Enter":c.preventDefault(),r.onChange(l);break;case"Escape":c.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var d=l+(c.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[d]&&((h=r.yearOptionButtonsRef[d])===null||h===void 0||h.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var l=r.props.year,c=r.state.yearsList.map(function(p){return Ee.createElement("div",{ref:function(g){r.yearOptionButtonsRef[p]=g,p===l&&g?.focus()},role:"button",tabIndex:0,className:l===p?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:p,onClick:r.onChange.bind(r,p),onKeyDown:r.handleOptionKeyDown.bind(r,p),"aria-selected":l===p?"true":void 0},l===p?Ee.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",p)}),h=r.props.minDate?sn(r.props.minDate):null,d=r.props.maxDate?sn(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(p){return p===d}))&&c.unshift(Ee.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},Ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(p){return p===h}))&&c.push(Ee.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},Ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var c=r.state.yearsList.map(function(h){return h+l});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,a=i||(s?10:5);return r.state={yearsList:qK(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=$.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Er({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Ee.createElement(k2,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})($.Component),YK=(function(n){ss(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?sn(t.props.minDate):1900,i=t.props.maxDate?sn(t.props.maxDate):2100,s=[],a=r;a<=i;a++)s.push(Ee.createElement("option",{key:a,value:a},a));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return Ee.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return Ee.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},Ee.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Ee.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Ee.createElement(WK,pn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var s,a;(a=(s=t.props).onSelect)===null||a===void 0||a.call(s,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Ee.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})($.Component),$K=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],dM="react-datepicker-ignore-onclickoutside",GK=function(n){var e=(n.className||"").split(/\s+/);return $K.some(function(t){return e.indexOf(t)>=0})},KK=(function(n){ss(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,a;GK(i.target)&&((a=(s=r.props).onDropdownFocus)===null||a===void 0||a.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,a=i.selected,l=i.openToDate,c=uM(r.props),h=hM(r.props),d=Bn(),p=l||a||s;return p||(c&&Xl(d,c)?c:h&&Gh(d,h)?h:d)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:il(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Kf(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,a){r.props.onSelect(i,s,a),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:Wl(Bn(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,a,l,c;(a=(s=r.props).onYearChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!po(i,r.props))return i;for(var s=mu(i),a=gK(i),l=CW(a,s),c=null,h=0;h<=l;h++){var d=nl(s,h);if(!po(d,r.props)){c=d;break}}return c},r.handleMonthChange=function(i){var s,a,l,c=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(i){var s,a;(a=(s=r.props).onMonthChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var a=s.date;return{date:Wl(a,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var a=s.date;return{date:fo(a,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var a=s.date;return{date:Wl(fo(a,As(i)),sn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=jh(i,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(Ee.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},Ee.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Ee.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),a.concat([0,1,2,3,4,5,6].map(function(l){var c=nl(s,l),h=r.formatWeekday(c,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return Ee.createElement("div",{key:l,role:"columnheader",className:Er("react-datepicker__day-name",d)},Ee.createElement("span",{className:"react-datepicker__sr-only"},yr(c,"EEEE",r.props.locale)),Ee.createElement("span",{"aria-hidden":"true"},h))}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?yK(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?bK(i,s):vK(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:jp(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,a;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,h=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,d=Kf(r.state.date,h),p;switch(!0){case r.props.showMonthYearPicker:p=eC(r.state.date,r.props);break;case r.props.showYearPicker:p=TK(r.state.date,r.props);break;case r.props.showQuarterYearPicker:p=xK(r.state.date,r.props);break;default:p=J3(d,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&p||r.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],y=["react-datepicker__navigation","react-datepicker__navigation--previous"],_=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(_=r.decreaseYear),p&&r.props.showDisabledMonthNavigation&&(y.push("react-datepicker__navigation--previous--disabled"),_=void 0);var S=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,T=r.props,E=T.previousMonthButtonLabel,A=E===void 0?e.defaultProps.previousMonthButtonLabel:E,N=T.previousYearButtonLabel,j=N===void 0?e.defaultProps.previousYearButtonLabel:N,U=r.props,K=U.previousMonthAriaLabel,M=K===void 0?typeof A=="string"?A:"Previous Month":K,k=U.previousYearAriaLabel,O=k===void 0?typeof j=="string"?j:"Previous Year":k;return Ee.createElement("button",{type:"button",className:y.join(" "),onClick:_,onKeyDown:r.props.handleOnKeyDown,"aria-label":S?O:M},Ee.createElement("span",{className:g.join(" ")},S?j:A))}}},r.increaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:hu(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=tC(r.state.date,r.props);break;case r.props.showYearPicker:s=EK(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=SK(r.state.date,r.props);break;default:s=Z3(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),c=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,p=d.nextMonthButtonLabel,g=p===void 0?e.defaultProps.nextMonthButtonLabel:p,y=d.nextYearButtonLabel,_=y===void 0?e.defaultProps.nextYearButtonLabel:y,S=r.props,T=S.nextMonthAriaLabel,E=T===void 0?typeof g=="string"?g:"Next Month":T,A=S.nextYearAriaLabel,N=A===void 0?typeof _=="string"?_:"Next Year":A;return Ee.createElement("button",{type:"button",className:a.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?N:E},Ee.createElement("span",{className:l.join(" ")},h?_:g))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),Ee.createElement("h2",{className:s.join(" ")},yr(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return Ee.createElement(YK,pn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:sn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return Ee.createElement(FK,pn({},e.defaultProps,r.props,{month:As(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return Ee.createElement(UK,pn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect($3(),i),r.props.setPreSelection&&r.props.setPreSelection($3())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return Ee.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(i){return Ee.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(i))},r.renderDefaultHeader=function(i){var s=i.monthDate,a=i.i;return Ee.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),Ee.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(a!==0),r.renderMonthYearDropdown(a!==0),r.renderYearDropdown(a!==0)))},r.renderCustomHeader=function(i){var s,a,l=i.monthDate,c=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=r.props,d=h.showYearPicker,p=h.yearItemNumber,g;if(d){var y=au(l,p),_=y.startPeriod,S=y.endPeriod;g={startYear:_,endYear:S}}var T=J3(r.state.date,r.props),E=Z3(r.state.date,r.props),A=eC(r.state.date,r.props),N=tC(r.state.date,r.props);return Ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(a=(s=r.props).renderCustomHeader)===null||a===void 0?void 0:a.call(s,pn(pn(pn({},r.state),d&&{visibleYearsRange:g}),{customHeaderCount:c,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:T,nextMonthButtonDisabled:E,prevYearButtonDisabled:A,nextYearButtonDisabled:N})))},r.renderYearHeader=function(i){var s=i.monthDate,a=r.props,l=a.showYearPicker,c=a.yearItemNumber,h=c===void 0?e.defaultProps.yearItemNumber:c,d=au(s,h),p=d.startPeriod,g=d.endPeriod;return Ee.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(p," - ").concat(g):sn(s))},r.renderHeader=function(i){var s=i.monthDate,a=i.i,l=a===void 0?0:a,c={monthDate:s,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var a=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?hu(r.state.date,c):Kf(r.state.date,c),d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,p=0;p<l;++p){var g=p-d+c,y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?hu(h,g):il(h,g),_="month-".concat(p),S=p<l-1,T=p>0;a.push(Ee.createElement("div",{key:_,ref:function(E){r.monthContainer=E??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:y,i:p}),Ee.createElement(OK,pn({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:y,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:p,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:T,dayNamesHeader:r.renderDayNamesHeader(y)}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return Ee.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),Ee.createElement(HK,pn({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return Ee.createElement(zK,pn({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&N2(i)&&!!r.props.selected,a=s?"".concat(rC(i.getHours()),":").concat(rC(i.getMinutes())):"";if(r.props.showTimeInput)return Ee.createElement(PK,pn({},e.defaultProps,r.props,{date:i,timeString:a,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=au(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),a=s.startPeriod,l=s.endPeriod,c;return r.props.showYearPicker?c="".concat(a," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=sn(r.state.date):c="".concat(ES(As(r.state.date),r.props.locale)," ").concat(sn(r.state.date)),Ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return Ee.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=$.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:dM,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:I0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!dn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Fs(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!dn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||cK;return Ee.createElement(k2,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Ee.createElement("div",{style:{display:"contents"},ref:this.containerRef},Ee.createElement(t,{className:Er("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})($.Component),XK=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return Ee.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(Ee.isValidElement(e)){var a=e;return Ee.cloneElement(a,{className:"".concat(a.props.className||""," ").concat(s," ").concat(r),onClick:function(l){typeof a.props.onClick=="function"&&a.props.onClick(l),typeof i=="function"&&i(l)}})}return Ee.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},Ee.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},pM=(function(n){ss(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return gj.createPortal(this.props.children,this.el)},e})($.Component),QK="[tabindex], a, button, input, select, textarea",JK=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},mM=(function(n){ss(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(QK),1,-1).filter(JK)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=$.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Ee.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Ee.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Ee.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})($.Component);function ZK(n){function e(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=$.useRef(null),a=lK(pn({open:!i,whileElementsMounted:BG,placement:t.popperPlacement,middleware:Ql([KG({padding:15}),GG(10),XG({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),l=pn(pn({},t),{hidePopper:i,popperProps:pn(pn({},a),{arrowRef:s})});return Ee.createElement(n,pn({},l))}return e.displayName="withFloating(".concat(n.displayName||n.name||"Component",")"),e}var eX=function(n){var e=n.className,t=n.wrapperClassName,r=n.hidePopper,i=r===void 0?!0:r,s=n.popperComponent,a=n.targetComponent,l=n.enableTabLoop,c=n.popperOnKeyDown,h=n.portalId,d=n.portalHost,p=n.popperProps,g=n.showArrow,y=void 0;if(!i){var _=Er("react-datepicker-popper",e);y=Ee.createElement(mM,{enableTabLoop:l},Ee.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:_,"data-placement":p.placement,onKeyDown:c},s,g&&Ee.createElement(tK,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}n.popperContainer&&(y=$.createElement(n.popperContainer,{},y)),h&&!i&&(y=Ee.createElement(pM,{portalId:h,portalHost:d},y));var S=Er("react-datepicker-wrapper",t);return Ee.createElement(Ee.Fragment,null,Ee.createElement("div",{ref:p.refs.setReference,className:S},a),y)},tX=ZK(eX);function nX(n,e){return n&&e?As(n)!==As(e)||sn(n)!==sn(e):n!==e}var Nw="Date input not valid.",P1=(function(n){ss(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Bn()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,a){var l=new Date(a.date);return N2(l)?Ql(Ql([],s,!0),[pn(pn({},a),{date:l})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),a=uM(r.props),l=hM(r.props),c=a&&Xl(s,Bv(a))?a:l&&Gh(s,G3(l))?l:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:c,highlightDates:nC(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var i,s=r.props,a=s.locale,l=s.startDate,c=s.endDate,h=s.rangeSeparator,d=s.selected,p=s.selectedDates,g=s.selectsMultiple,y=s.selectsRange,_=s.value,S=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,T=r.state.inputValue;return typeof _=="string"?_:typeof T=="string"?T:y?hK(l,c,{dateFormat:S,locale:a,rangeSeparator:h}):g?fK(p??[],{dateFormat:S,locale:a}):ho(d,{dateFormat:S,locale:a})},r.resetHiddenStatus=function(){r.setState(pn(pn({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(pn(pn({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Pw},function(){i||r.setState(function(a){return{focused:s?a.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return fu(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,a,l=r.state.wasHidden,c=l?r.state.open:!0;l&&r.resetHiddenStatus(),r.state.preventFocus||((a=(s=r.props).onFocus)===null||a===void 0||a.call(s,i),c&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(pn(pn({},r.state),{inputValue:null}))},r.handleBlur=function(i){var s,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((a=(s=r.props).onBlur)===null||a===void 0||a.call(s,i)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,a;r.props.inline||r.setOpen(!1),(a=(s=r.props).onClickOutside)===null||a===void 0||a.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,a,l,c,h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var p=h[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,h),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){r.setState({inputValue:p?.target instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:rX});var g=r.props,y=g.selectsRange,_=g.startDate,S=g.endDate,T=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,E=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,A=p?.target instanceof HTMLInputElement?p.target.value:"";if(y){var N=r.props.rangeSeparator,j=N.trim(),U=A.split(T.includes(j)?N:j,2).map(function(V){return V.trim()}),K=U[0],M=U[1],k=Aw(K??"",T,r.props.locale,E),O=k?Aw(M??"",T,r.props.locale,E):null,H=_?.getTime()!==k?.getTime(),R=S?.getTime()!==O?.getTime();if(!H&&!R||k&&po(k,r.props)||O&&po(O,r.props))return;(l=(a=r.props).onChange)===null||l===void 0||l.call(a,[k,O],p)}else{var L=Aw(A,T,r.props.locale,E,(c=r.props.selected)!==null&&c!==void 0?c:void 0);(L||!A)&&r.setSelected(L,p,!0)}}},r.handleSelect=function(i,s,a){if(!r.props.readOnly){var l=r.props,c=l.selectsRange,h=l.startDate,d=l.endDate,p=l.swapRange,g=!c||h&&!d&&(p||!Dw(i,h));r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&g&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(i):g&&r.setOpen(!1)}},r.setSelected=function(i,s,a,l){var c,h,d=i;if(r.props.showYearPicker){if(d!==null&&Uv(sn(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&cM(d,r.props))return}else if(d!==null&&po(d,r.props))return;var p=r.props,g=p.onChange,y=p.selectsRange,_=p.startDate,S=p.endDate,T=p.selectsMultiple,E=p.selectedDates,A=p.minTime,N=p.swapRange;if(!Uf(r.props.selected,d)||r.props.allowSameDay||y||T)if(d!==null&&(r.props.selected&&(!a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=Cw(d,{hour:du(r.props.selected),minute:pu(r.props.selected),second:Oh(r.props.selected)})),!a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&A&&(d=Cw(d,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),y){var j=!_&&!S,U=_&&!S,K=!_&&!!S,M=_&&S;j?g?.([d,null],s):U?d===null?g?.([null,null],s):Dw(d,_)?g?.(N?[d,_]:[d,null],s):g?.([_,d],s):K&&(d&&Dw(d,S)?g?.([d,S],s):g?.([d,null],s)),M&&g?.([d,null],s)}else if(T){if(d!==null)if(!E?.length)g?.([d],s);else{var k=E.some(function(H){return dn(H,d)});if(k){var O=E.filter(function(H){return!dn(H,d)});g?.(O,s)}else g?.(Ql(Ql([],E,!0),[d],!1),s)}}else g?.(d,s);a||((h=(c=r.props).onSelect)===null||h===void 0||h.call(c,d,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=fu(r.props.minDate),a=fu(r.props.maxDate),l=!0;if(i){var c=Bv(i);if(s&&a)l=Mf(i,r.props.minDate,r.props.maxDate);else if(s){var h=Bv(r.props.minDate);l=Gh(i,h)||Uf(c,h)}else if(a){var d=G3(r.props.maxDate);l=Xl(i,d)||Uf(c,d)}}l&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,a;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?i:Cw(l,{hour:du(i),minute:pu(i)});r.setState({preSelection:c}),(a=(s=r.props).onChange)===null||a===void 0||a.call(s,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,a,l,c,h,d;(a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i);var p=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(p===dt.ArrowDown||p===dt.ArrowUp||p===dt.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(p===dt.ArrowDown||p===dt.ArrowUp){i.preventDefault();var g=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(g);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var _=Bn(r.state.preSelection);p===dt.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Pw?(r.handleSelect(_,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(_)):r.setOpen(!1)):p===dt.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):p===dt.Tab&&r.setOpen(!1),r.inputOk()||(d=(h=r.props).onInputError)===null||d===void 0||d.call(h,{code:1,msg:Nw})}},r.onPortalKeyDown=function(i){var s=i.key;s===dt.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,a,l,c,h,d,p=r.props,g=p.minDate,y=p.maxDate,_=p.disabledKeyboardNavigation,S=p.showWeekPicker,T=p.shouldCloseOnSelect,E=p.locale,A=p.calendarStartDay,N=p.adjustDateOnChange,j=p.inline;if((a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i),!_){var U=i.key,K=i.shiftKey,M=Bn(r.state.preSelection),k=function(pe,G){var Q=G;switch(pe){case dt.ArrowRight:Q=S?b1(G,1):nl(G,1);break;case dt.ArrowLeft:Q=S?L3(G):C$(G);break;case dt.ArrowUp:Q=L3(G);break;case dt.ArrowDown:Q=b1(G,1);break;case dt.PageUp:Q=K?jp(G,1):Kf(G,1);break;case dt.PageDown:Q=K?hu(G,1):il(G,1);break;case dt.Home:Q=jh(G,E,A);break;case dt.End:Q=mK(G);break}return Q},O=function(pe,G){for(var Q=40,re=pe,J=!1,q=0,oe=k(pe,G);!J;){if(q>=Q){oe=G;break}g&&oe<g&&(re=dt.ArrowRight,oe=po(g,r.props)?k(re,oe):g),y&&oe>y&&(re=dt.ArrowLeft,oe=po(y,r.props)?k(re,oe):y),po(oe,r.props)?((re===dt.PageUp||re===dt.Home)&&(re=dt.ArrowRight),(re===dt.PageDown||re===dt.End)&&(re=dt.ArrowLeft),oe=k(re,oe)):J=!0,q++}return oe};if(U===dt.Enter){i.preventDefault(),r.handleSelect(M,i),!T&&r.setPreSelection(M);return}else if(U===dt.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:Nw});return}var H=null;switch(U){case dt.ArrowLeft:case dt.ArrowRight:case dt.ArrowUp:case dt.ArrowDown:case dt.PageUp:case dt.PageDown:case dt.Home:case dt.End:H=O(U,M);break}if(!H){(d=(h=r.props).onInputError)===null||d===void 0||d.call(h,{code:1,msg:Nw});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Pw}),N&&r.setSelected(H),r.setPreSelection(H),j){var R=As(M),L=As(H),V=sn(M),se=sn(H);R!==L||V!==se?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===dt.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,a=s.selectsRange,l=s.onChange;l?.(a?[null,null]:null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:Ee.createElement(KK,pn({showMonthYearDropdown:void 0,ref:function(a){r.calendar=a}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:CK(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i,s=r.props.locale,a=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",h;return r.props.selectsRange?h="Selected start date: ".concat(ho(r.props.startDate,{dateFormat:c,locale:s}),". ").concat(r.props.endDate?"End date: "+ho(r.props.endDate,{dateFormat:c,locale:s}):""):r.props.showTimeSelectOnly?h="Selected time: ".concat(ho(r.props.selected,{dateFormat:a,locale:s})):r.props.showYearPicker?h="Selected year: ".concat(ho(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?h="Selected month: ".concat(ho(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?h="Selected quarter: ".concat(ho(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):h="Selected date: ".concat(ho(r.props.selected,{dateFormat:c,locale:s})),Ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},h)},r.renderDateInput=function(){var i,s,a=Er(r.props.className,(i={},i[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,i)),l=r.props.customInput||Ee.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref";return $.cloneElement(l,(s={},s[c]=function(h){r.input=h},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=Er(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,a=i.disabled,l=i.selected,c=i.startDate,h=i.endDate,d=i.clearButtonTitle,p=i.clearButtonClassName,g=p===void 0?"":p,y=i.ariaLabelClose,_=y===void 0?"Close":y,S=i.selectedDates,T=i.readOnly;return s&&!T&&(l!=null||c!=null||h!=null||S?.length)?Ee.createElement("button",{type:"button",className:Er("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":_,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:dM,readOnly:!1,rangeSeparator:oM,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:I0,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,s,a,l;t.inline&&nX(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:nC(this.props.highlightDates)}),!r.focused&&!Uf(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((l=(a=this.props).onCalendarClose)===null||l===void 0||l.call(a)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,s=t.calendarIconClassname,a=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Ee.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&Ee.createElement(XK,pn({icon:i,className:Er(a,!a&&s,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?Ee.createElement(mM,{enableTabLoop:this.props.enableTabLoop},Ee.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=Ee.createElement(pM,pn({portalId:this.props.portalId},this.props),r)),Ee.createElement("div",null,this.renderInputContainer(),r)}return Ee.createElement(tX,pn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})($.Component),rX="input",Pw="navigate";const iX=()=>{const n=gd(),[e,t]=$.useState({name:"",specialization:"",city:"",contact:"",fee:"",available_slots:{}}),[r,i]=$.useState(""),[s,a]=$.useState(""),l=()=>{if(!r||!s){ct.error("Select both date and time.");return}const d=r.toLocaleDateString("en-GB"),p=s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});t(g=>({...g,available_slots:{...g.available_slots,[d]:Array.from(new Set([...g.available_slots[d]||[],p]))}})),i(""),a(""),ct.success("Slot added")};$.useEffect(()=>{const d=localStorage.getItem("doctorContact");d&&(async()=>{try{const y=await(await fetch(`https://mediconnect-backend1-r5kg.onrender.com/get-doctor-profile?contact=${d}`)).json();y.success&&t(y.doctor)}catch(g){console.error("Error fetching doctor profile:",g)}})()},[]);const c=d=>{t({...e,[d.target.name]:d.target.value})},h=async d=>{if(d.preventDefault(),Object.keys(e.available_slots).length===0){ct.error("Please add at least one available slot.");return}try{const g=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/doctor-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();g.success?(ct.success("Doctor Logged in"),localStorage.setItem("doctorContact",e.contact),n("/home")):ct.error(g.message||"Login failed")}catch{ct.error("Server error")}};return B.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-[#191024] via-[#1e293b] to-[#0f172a] px-4",children:[B.jsxs("form",{onSubmit:h,className:"bg-[#1e293b] text-gray-200 p-8 rounded-2xl shadow-2xl w-full max-w-lg border border-gray-700",children:[B.jsxs("h2",{className:"text-3xl font-bold mb-6 text-center",children:["Doctor ",B.jsx("span",{className:"text-[#f43f5e]",children:"Profile Setup"})]}),[{name:"name",placeholder:"Full Name",icon:B.jsx(dS,{className:"w-5 h-5"})},{name:"specialization",placeholder:"Specialization",icon:B.jsx(y2,{className:"w-5 h-5"})},{name:"city",placeholder:"City",icon:B.jsx(t0,{className:"w-5 h-5"})},{name:"contact",placeholder:"Contact Number",icon:B.jsx(fS,{className:"w-5 h-5"})},{name:"fee",placeholder:"Consultation Fee",icon:B.jsx(uq,{className:"w-5 h-5"})}].map(d=>B.jsxs("div",{className:"relative mb-4",children:[B.jsx("span",{className:"absolute left-3 top-3 text-gray-400",children:d.icon}),B.jsx("input",{type:"text",name:d.name,placeholder:d.placeholder,value:e[d.name],onChange:c,required:!0,className:"w-full pl-10 pr-3 py-2 bg-[#0f172a] border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#f43f5e] outline-none"})]},d.name)),B.jsxs("div",{className:"mb-6",children:[B.jsx("label",{className:"font-semibold block mb-2 text-gray-300",children:"Available Slots"}),B.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-center gap-2",children:[B.jsx(P1,{selected:r,onChange:d=>i(d),dateFormat:"dd/MM/yyyy",minDate:new Date,className:"border p-2 rounded-md w-full sm:w-[180px] text-sm bg-[#0f172a] text-gray-200 border-gray-600",placeholderText:"Date"}),B.jsx(P1,{selected:s,onChange:d=>a(d),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:30,timeCaption:"Time",dateFormat:"h:mm aa",className:"border p-2 rounded-md w-full sm:w-[140px] text-sm bg-[#0f172a] text-gray-200 border-gray-600",placeholderText:"Time"}),B.jsx("button",{type:"button",onClick:l,className:"bg-green-600 hover:bg-green-700 text-white text-sm px-4 py-2 rounded-lg transition shadow",children:"Add"})]})]}),Object.keys(e.available_slots).length>0&&B.jsxs("div",{className:"mb-6 bg-[#0f172a] p-4 rounded-xl border border-gray-600",children:[B.jsxs("h3",{className:"font-semibold mb-2 text-[#f43f5e] flex items-center gap-2",children:[B.jsx(S6,{className:"w-5 h-5"})," Preview Slots"]}),Object.entries(e.available_slots).map(([d,p])=>B.jsxs("div",{className:"mb-2",children:[B.jsxs("p",{className:"font-medium",children:[d,":"]}),B.jsx("ul",{className:"list-disc list-inside ml-4 text-gray-300",children:p.map((g,y)=>B.jsxs("li",{children:[" ",g]},y))})]},d))]}),B.jsx("button",{type:"submit",className:"w-full bg-[#f43f5e] hover:bg-[#be123c] text-white py-3 rounded-lg font-semibold shadow-md transition transform hover:scale-[1.02] active:scale-95",children:"Save & Login"})]}),B.jsx(yc,{position:"top-right",autoClose:3e3})]})},sX=()=>{const[n,e]=$.useState(""),[t,r]=$.useState(""),[i,s]=$.useState(""),[a,l]=$.useState([]),[c,h]=$.useState(null),[d,p]=$.useState(!1),[g,y]=$.useState({name:"",phone:"",age:"",location:""}),[_,S]=$.useState(!1),[T,E]=$.useState([]),[A,N]=$.useState(""),[j,U]=$.useState([]),[K,M]=$.useState(""),[k,O]=$.useState(0),[H,R]=$.useState(null),[L,V]=$.useState(!1),[se,pe]=$.useState(!1),G=localStorage.getItem("phone");$.useEffect(()=>{const F=j.slice().reverse().find(W=>W.role==="user");F&&/yes|doctor|suggest/i.test(F.message)&&V(!0)},[j]);const Q=async()=>{const F=localStorage.getItem("user_id")||"guest",W=[...j,{role:"user",message:K}];U(W),console.log("Sending follow-up count:",k);try{const ae=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/follow-up",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversation:W,count:k,user_id:F,emergency_asked:se})})).json();console.log("Backend response:",ae),console.log("Follow-up count:",k),ae.emergency_asked!==void 0&&pe(ae.emergency_asked),ae.doctors&&l(ae.doctors);const fe=[...W],_e=j.slice(-4).map(ve=>ve.message.toLowerCase());if(ae.answer&&!_e.includes(ae.answer.toLowerCase())&&fe.push({role:"assistant",message:ae.answer}),ae.specialist&&(s(ae.specialist),J(ae.specialist)),ae.follow_up_question?.trim()&&fe.push({role:"assistant",message:ae.follow_up_question}),U(fe),N(""),ae.final&&/doctor|remedy|specialist/i.test(K)){console.log(" Is result.final true?",ae.final),R(ae);const be=W.filter(Be=>Be.role==="user").at(-1)?.message||"N/A",je={user_id:localStorage.getItem("user_id")||"guest",date:new Date().toISOString(),symptoms:be,ai_suggestion:ae.answer,suggested_tests:ae.tests||[],urgency:"Low",full_conversation:fe,phone:G};try{const Ze=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/save-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)})).json();console.log("Report saved:",Ze)}catch(Be){console.error("Failed to save report:",Be)}}else N(ae.follow_up_question||""),O(ve=>ve+1);M("")}catch(te){console.error("Follow-up failed:",te),ct.error("Follow-up failed")}},re=async F=>{if(F.preventDefault(),!n.trim()){ct.warn("Please describe your symptoms.");return}S(!0);const W=new FormData;W.append("query",n);try{const ae=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/symptom-check",{method:"POST",body:W})).json(),_e=[...[{role:"user",message:n},{role:"assistant",message:ae.answer||"Sorry, I couldn't understand that."}]];if(ae.follow_up_question&&_e.push({role:"assistant",message:ae.follow_up_question}),U(_e),r(ae.answer),s(ae.specialist),N(ae.follow_up_question),O(0),console.log("Is result.final true?",ae.final),ae.final){R(ae);const ve=[{role:"user",message:n},{role:"assistant",message:ae.answer}];ae.follow_up_question&&ve.push({role:"assistant",message:ae.follow_up_question});const be={user_id:localStorage.getItem("user_id")||"guest",date:new Date().toISOString(),symptoms:n,ai_suggestion:ae.answer,suggested_tests:ae.tests||[],urgency:"Low",full_conversation:ve,phone:G};try{const Be=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/save-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(be)})).json();console.log("Report saved:",Be)}catch(je){console.error("Failed to save report:",je)}}ae.specialist&&J(ae.specialist),ct.success("Symptoms checked!"),S(!1)}catch(te){console.error("Error:",te),ct.error("Failed to check symptoms."),S(!1)}},J=async F=>{try{const te=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/find-doctors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({specialization:F})})).json();console.log("Doctors found:",te.doctors),l(te.doctors)}catch(W){console.error("Error fetching doctors:",W)}},q=F=>{h(F),p(!0)},oe=async()=>{if(!g.name||!g.phone||!c){ct.warn("Please fill in all the required fields.");return}const F={user_name:g.name,phone:g.phone,age:g.age,location:g.location,doctor_name:c.doctor_name,contact:c.contact,specialization:c.specialization,date:c.date,time:c.time};try{const te=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/book-appointment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).json();ct.success(te.message),p(!1),y({name:"",phone:"",age:"",location:""})}catch(W){console.error("Booking failed:",W),ct.error("Booking failed. Please try again.")}};return B.jsx("div",{className:"mt-10  text-gray-200 font-sans ",children:B.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[B.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Symptom ",B.jsx("span",{className:"text-[#f43f5e]",children:"Checker"})]}),B.jsxs("form",{onSubmit:re,className:"space-y-4",children:[B.jsx("input",{type:"text",placeholder:"Describe your symptoms...",className:"w-full px-4 py-3  mt-5 rounded-lg border border-gray-600 bg-[#1e293b] text-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f43f5e]",value:n,onChange:F=>e(F.target.value)}),B.jsx("button",{type:"submit",disabled:_,className:`w-full py-3 rounded-lg font-semibold shadow-md transition transform hover:scale-[1.02] active:scale-95 ${_?"bg-gray-600 cursor-not-allowed":"bg-[#f43f5e] hover:bg-[#be123c] text-white"}`,children:_?"Checking...":" Check"})]}),t&&!H&&B.jsxs("div",{className:"bg-[#1e293b] p-4 mt-4 rounded-lg border border-gray-700 text-gray-200",children:[B.jsx("h2",{className:"font-semibold mb-2 text-[#f43f5e]",children:"AI Advice"}),B.jsx("p",{className:"text-gray-200",children:t}),i&&B.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:["Recommended Specialist: ",B.jsx("span",{className:"font-semibold text-gray-100",children:i})]})]}),B.jsx("div",{className:"mt-4 space-y-2",children:j.map((F,W)=>B.jsx("div",{className:`p-2 my-1 rounded max-w-md break-words ${F.role==="user"?"ml-auto text-right bg-[#f43f5e] text-white":"mr-auto text-left bg-[#1e293b] text-gray-200 border border-gray-700"}`,children:F.message},W))}),j.length>0&&H&&k>=3&&j.slice(-4).some(F=>F.role==="user"&&/yes|doctor|suggest/i.test(F.message))&&B.jsxs("div",{className:"bg-[#1e293b] p-4 mt-4 rounded border border-gray-700 text-gray-200",children:[B.jsx("h3",{className:"font-semibold mb-2 text-[#f43f5e]",children:"Doctor's Available"}),B.jsx("p",{className:"mb-2",children:H.answer})]}),!H&&(A?.trim()!==""||t?.trim()!=="")&&B.jsxs("div",{className:"bg-[#1e293b] p-4 mt-4 rounded border border-gray-700 text-gray-200",children:[B.jsx("h2",{className:"font-semibold mb-2 text-[#f43f5e]",children:"Follow-up Question"}),B.jsx("p",{className:"mb-3 text-gray-200",children:A}),B.jsx("input",{type:"text",placeholder:"Your answer...",className:"w-full p-2 border border-gray-600 rounded mb-2 bg-[#0f172a] text-gray-200 focus:outline-none focus:ring-2 focus:ring-[#f43f5e]",value:K,onChange:F=>M(F.target.value)}),B.jsx("button",{onClick:Q,className:"bg-[#f43f5e] text-white px-4 py-2 rounded hover:bg-[#be123c] active:scale-95 transition",children:"Submit Follow-up Answer"})]}),L&&i&&a.length>0&&B.jsxs("div",{className:"mt-6",children:[B.jsxs("h3",{className:"text-lg font-bold mb-2 text-gray-100",children:["Available ",i,"s"]}),a.map((F,W)=>B.jsxs("div",{className:"bg-[#1e293b] p-4 rounded-lg shadow mb-4 border border-gray-700",children:[B.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:F.name}),B.jsxs("p",{className:"text-sm text-gray-400",children:["Location: ",F.city,", ",F.state]}),B.jsxs("p",{className:"text-sm text-gray-400",children:["Contact: ",F.contact]}),F.available_slots&&Object.entries(F.available_slots).map(([te,ae])=>B.jsxs("div",{className:"mt-3",children:[B.jsx("p",{className:"font-semibold text-gray-200",children:te}),B.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ae.map(fe=>{const _e=F.booked_slots?.[te]?.includes(fe);let ve="";if(te&&te.includes("/")){const tt=te.split("/");if(tt.length===3){const[pt,Ue,ge]=tt;ve=`${ge}-${Ue.padStart(2,"0")}-${pt.padStart(2,"0")}`}}const be=new Date(ve),je=new Date;be.setHours(0,0,0,0),je.setHours(0,0,0,0);const Be=be<je,Ze=_e||Be;return B.jsxs("button",{onClick:()=>!Ze&&q({doctor_name:F.name,specialization:F.specialization,contact:F.contact,date:te,time:fe}),disabled:Ze,className:`px-3 py-1 rounded text-sm transition ${Ze?"bg-gray-600 text-white cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600 active:scale-95 shadow-sm"}`,children:[fe," ",_e?"(Booked)":Be?"(Past)":""]},fe)})})]},te))]},W))]}),d&&B.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:B.jsxs("div",{className:"bg-[#1e293b] rounded-2xl shadow-xl w-full max-w-md px-6 py-8 transition-all border border-gray-700",children:[B.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-gray-100",children:"Book Appointment"}),B.jsxs("div",{className:"space-y-4",children:[B.jsx("input",{type:"text",placeholder:"Your Name",required:!0,className:"w-full px-4 py-2 border border-gray-600 rounded-xl bg-[#0f172a] text-gray-200 focus:outline-none focus:ring-2 focus:ring-[#f43f5e]",value:g.name,onChange:F=>y({...g,name:F.target.value})}),B.jsx("input",{type:"text",placeholder:"Phone Number",required:!0,className:"w-full px-4 py-2 border border-gray-600 rounded-xl bg-[#0f172a] text-gray-200 focus:outline-none focus:ring-2 focus:ring-[#f43f5e]",value:g.phone,onChange:F=>y({...g,phone:F.target.value})}),B.jsx("input",{type:"text",placeholder:"Age",required:!0,className:"w-full px-4 py-2 border border-gray-600 rounded-xl bg-[#0f172a] text-gray-200 focus:outline-none focus:ring-2 focus:ring-[#f43f5e]",value:g.age,onChange:F=>y({...g,age:F.target.value})}),B.jsx("input",{type:"text",required:!0,placeholder:"Location",className:"w-full px-4 py-2 border border-gray-600 rounded-xl bg-[#0f172a] text-gray-200 focus:outline-none focus:ring-2 focus:ring-[#f43f5e]",value:g.location,onChange:F=>y({...g,location:F.target.value})}),B.jsx("button",{onClick:oe,className:"w-full bg-[#f43f5e] text-white font-medium px-4 py-2 rounded-xl mt-2 hover:bg-[#be123c] active:scale-95 transition-all duration-200 shadow-md",children:"Confirm Booking"}),B.jsx("button",{onClick:()=>p(!1),className:"w-full mt-2 py-2 rounded-xl text-center text-gray-300 hover:text-gray-100 transition",children:"Cancel"})]})]})}),B.jsx(yc,{position:"top-right",autoClose:3e3})]})})},aX=()=>{const[n,e]=$.useState(null),[t,r]=$.useState([]),[i,s]=$.useState(!1),[a,l]=$.useState(null),c=()=>{if(!navigator.geolocation){ct.error("Geolocation is not supported by your browser.");return}s(!0),navigator.geolocation.getCurrentPosition(async d=>{const p=d.coords.latitude,g=d.coords.longitude;e({lat:p,lng:g});try{const _=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/nearby-places",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lat:p,lng:g,tag:"hospital"})})).json();r(_.places||[])}catch{ct.error("Failed to fetch nearby hospitals.")}s(!1)},()=>{ct.error("Location access denied or unavailable."),s(!1)})},h=d=>{const p=d.match(/query=([-0-9.]+),([-0-9.]+)/);return p?{lat:parseFloat(p[1]),lng:parseFloat(p[2])}:null};return B.jsxs("div",{className:" text-gray-200 font-sans",children:[B.jsxs("section",{className:"py-10 px-6 flex flex-col md:flex-row items-center justify-between max-w-6xl mx-auto",children:[B.jsxs("div",{className:"text-center md:text-left",children:[B.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Find ",B.jsx("span",{className:"text-[#f43f5e]",children:"Nearby Hospitals"})]}),B.jsx("p",{className:"text-gray-400 max-w-xl",children:"Get hospitals closest to your current location in just one click."})]}),B.jsx("div",{className:"mt-6 md:mt-0",children:B.jsx("button",{onClick:c,disabled:i,className:`px-6 py-2 rounded-lg font-semibold shadow-md transition transform hover:scale-[1.02] active:scale-95 ${i?"bg-gray-600 cursor-not-allowed":"bg-[#f43f5e] hover:bg-[#be123c] text-white"}`,children:i?"Fetching nearby hospitals...":"Find Nearby Hospitals"})})]}),B.jsxs("div",{className:"flex flex-col md:flex-row gap-8 px-6 max-w-7xl mx-auto pb-12",children:[B.jsxs("div",{className:"md:w-1/2 space-y-6",children:[B.jsxs("div",{className:"bg-[#1e293b] border border-red-500/30 p-6 rounded-2xl shadow-md text-center",children:[B.jsxs("h2",{className:"text-xl font-bold text-red-400 flex items-center justify-center gap-2 mb-2",children:[B.jsx(qH,{className:"w-5 h-5"})," Emergency?"]}),B.jsx("p",{className:"text-gray-400 mb-4",children:"If this is a medical emergency, call immediately."}),B.jsx("a",{href:"tel:112",children:B.jsxs("button",{className:"bg-red-600 hover:bg-red-700 px-6 py-2 rounded-lg text-white font-semibold shadow transition",children:[B.jsx(Aq,{className:"w-4 h-4 inline mr-2"}),"Call Emergency"]})})]}),n&&B.jsxs("div",{className:"bg-[#0f172a] border border-gray-700 p-3 rounded-lg text-sm text-gray-400 text-center",children:[B.jsx(t0,{className:"inline w-4 h-4 mr-2 text-[#f43f5e]"}),"Your Location: ",n.lat.toFixed(4),", ",n.lng.toFixed(4)]}),t.length>0&&B.jsxs("div",{className:"bg-[#0f172a] border border-gray-700 rounded-2xl shadow-md p-6",children:[B.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#f43f5e]",children:"Nearby Hospitals"}),B.jsx("ul",{className:"space-y-4",children:t.map((d,p)=>{const y=d.split(`
`)[0],_=h(d);return B.jsxs("li",{className:"bg-[#1e293b] hover:bg-[#334155] p-4 rounded-xl transition border border-gray-700",children:[B.jsx("p",{className:"font-semibold text-gray-100",children:y}),_&&B.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[B.jsxs("button",{onClick:()=>l(_),className:"flex items-center gap-1 text-blue-400 hover:text-blue-300",children:[B.jsx(lq,{className:"w-4 h-4"})," View on Map"]}),B.jsxs("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${_.lat},${_.lng}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-green-400 hover:text-green-300",children:[B.jsx(t0,{className:"w-4 h-4"})," Get Directions"]})]})]},p)})})]}),!i&&t.length===0&&n&&B.jsx("p",{className:"text-center text-red-400",children:"No nearby hospitals found."})]}),B.jsx("div",{className:"md:w-1/2",children:B.jsx("div",{className:"bg-[#0f172a] border border-gray-700 rounded-2xl shadow-md h-[500px] flex items-center justify-center overflow-hidden",children:a?B.jsx("iframe",{title:"Hospital Directions",src:`https://www.google.com/maps?q=${a.lat},${a.lng}&z=16&output=embed`,width:"100%",height:"100%",className:"rounded-2xl",allowFullScreen:!0}):B.jsx("p",{className:"text-gray-500",children:"Select a hospital to preview on map"})})})]}),B.jsx(yc,{position:"top-right",autoClose:3e3})]})},oX=()=>{const[n,e]=$.useState([]),[t,r]=$.useState(""),[i,s]=$.useState(""),[a,l]=$.useState(null),[c,h]=$.useState(!1),[d,p]=$.useState({name:"",phone:"",age:"",location:""});$.useEffect(()=>{fetch("https://mediconnect-backend1-r5kg.onrender.com/all_doctors").then(S=>S.json()).then(S=>e(S.doctors||S)).catch(S=>console.error("Error:",S))},[]);const g=n.filter((S,T,E)=>(t?S.specialization.toLowerCase().includes(t.toLowerCase()):!0)&&(i?S.city.toLowerCase().includes(i.toLowerCase()):!0)&&T===E.findIndex(A=>A.name===S.name&&A.contact===S.contact)),y=S=>{l(S),h(!0)},_=async()=>{if(!d.name||!d.phone||!d.age||!d.location||!a){ct.warn("Please fill in all the required fields.");return}const S={user_name:d.name,email:`${d.phone}@mail.com`,amount:a.fee,phone:d.phone,age:d.age,location:d.location,doctor_name:a.doctor_name,specialization:a.specialization,contact:a.contact,date:a.date,time:a.time};try{const T=await fetch("https://mediconnect-backend1-r5kg.onrender.com/book-appointment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)}),E=await T.json();T.ok?(ct.success(E.message),h(!1),l(null),p({name:"",phone:"",age:"",location:""})):ct.warn(E.message)}catch(T){console.error("Payment Error:",T),ct.error("Booking failed. Please try again.")}};return B.jsxs("div",{className:" text-gray-200",children:[B.jsxs("section",{className:"py-10 px-6 flex flex-col md:flex-row items-center justify-between max-w-6xl mx-auto",children:[B.jsxs("div",{className:"text-center md:text-left",children:[B.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Book Your ",B.jsx("span",{className:"text-[#f43f5e]",children:"Appointment"})]}),B.jsx("p",{className:"text-gray-400 max-w-xl",children:"Find trusted doctors, choose a time slot, and confirm instantly."})]}),B.jsxs("div",{className:"flex gap-3 mt-6 md:mt-0",children:[B.jsx("input",{type:"text",placeholder:"Search Specialization",value:t,onChange:S=>r(S.target.value),className:"p-2 rounded-xl border border-gray-700 bg-[#1e293b] text-gray-200 w-40 md:w-52 focus:ring-2 focus:ring-[#f43f5e] outline-none"}),B.jsx("input",{type:"text",placeholder:"Search City",value:i,onChange:S=>s(S.target.value),className:"p-2 rounded-xl border border-gray-700 bg-[#1e293b] text-gray-200 w-40 md:w-52 focus:ring-2 focus:ring-[#f43f5e] outline-none"})]})]}),B.jsx("section",{className:"px-6 pb-20 max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8",children:g.map((S,T)=>B.jsxs("div",{className:"bg-[#1e293b] border border-gray-700 hover:border-[#f43f5e] transition-all p-6 rounded-2xl shadow-md hover:shadow-lg flex flex-col md:flex-row gap-6",children:[B.jsxs("div",{className:"flex gap-4 md:w-1/2",children:[B.jsx("img",{src:`https://ui-avatars.com/api/?name=${S.name.replace(" ","+")}&background=random&size=128`,alt:"doctor",className:"w-24 h-24 rounded-full object-cover border-2 border-[#f43f5e]"}),B.jsxs("div",{children:[B.jsx("h2",{className:"text-xl font-bold text-[#f43f5e]",children:S.name}),B.jsxs("p",{className:"text-gray-300 flex items-center gap-1",children:[B.jsx(y2,{size:16})," ",S.specialization]}),B.jsxs("p",{className:"text-gray-400 flex items-center gap-1 text-sm",children:[B.jsx(t0,{size:14})," ",S.city]}),B.jsxs("p",{className:"text-gray-400 flex items-center gap-1 text-sm",children:[B.jsx(fS,{size:14})," ",S.contact]}),B.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:[" Fee: ",B.jsx("span",{className:"font-semibold",children:S.fee})]})]})]}),B.jsx("div",{className:"md:w-1/2",children:S.available_slots&&Object.entries(S.available_slots).map(([E,A])=>B.jsxs("div",{className:"mb-4",children:[B.jsxs("p",{className:"font-semibold text-gray-200 flex items-center gap-1",children:[B.jsx(GH,{size:16})," ",E]}),B.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:A.map(N=>{const j=S.booked_slots?.[E]?.includes(N);let U="";if(E&&E.includes("/")){const H=E.split("/");if(H.length===3){const[R,L,V]=H;U=`${V}-${L.padStart(2,"0")}-${R.padStart(2,"0")}`}}const K=new Date(U),M=new Date;K.setHours(0,0,0,0),M.setHours(0,0,0,0);const k=K<M,O=j||k;return B.jsxs("button",{onClick:()=>!O&&y({doctor_name:S.name,specialization:S.specialization,contact:S.contact,fee:S.fee,date:E,time:N}),disabled:O,className:`px-3 py-1 rounded-lg text-sm transition
                              ${O?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-[#f43f5e] text-white hover:bg-[#be123c] active:scale-95 shadow-md"}`,children:[N," ",j?"(Booked)":k?"(Past)":""]},N)})})]},E))})]},T))}),c&&B.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:B.jsxs("div",{className:"bg-[#1e293b] p-8 rounded-2xl shadow-xl w-full max-w-md text-gray-200",children:[B.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-[#f43f5e]",children:"Confirm Appointment"}),B.jsxs("div",{className:"space-y-4",children:[B.jsx("input",{type:"text",placeholder:"Your Name",value:d.name,onChange:S=>p({...d,name:S.target.value}),className:"w-full px-4 py-2 rounded-lg bg-[#0f172a] border border-gray-600 focus:ring-2 focus:ring-[#f43f5e] outline-none"}),B.jsx("input",{type:"text",placeholder:"Phone Number",value:d.phone,onChange:S=>p({...d,phone:S.target.value}),className:"w-full px-4 py-2 rounded-lg bg-[#0f172a] border border-gray-600 focus:ring-2 focus:ring-[#f43f5e] outline-none"}),B.jsx("input",{type:"number",placeholder:"Age",value:d.age,onChange:S=>p({...d,age:S.target.value}),className:"w-full px-4 py-2 rounded-lg bg-[#0f172a] border border-gray-600 focus:ring-2 focus:ring-[#f43f5e] outline-none"}),B.jsx("input",{type:"text",placeholder:"Location",value:d.location,onChange:S=>p({...d,location:S.target.value}),className:"w-full px-4 py-2 rounded-lg bg-[#0f172a] border border-gray-600 focus:ring-2 focus:ring-[#f43f5e] outline-none"}),B.jsx("button",{onClick:_,className:"bg-[#f43f5e] w-full py-2 rounded-lg font-semibold hover:bg-[#be123c] active:scale-95 transition",children:"Confirm Booking"}),B.jsx("button",{onClick:()=>{h(!1),l(null),p({name:"",phone:"",age:"",location:""})},className:"text-gray-400 w-full mt-2 hover:text-red-400",children:"Cancel"})]})]})}),B.jsx(yc,{position:"top-right",autoClose:3e3})]})};var lX=Object.defineProperty,cX=(n,e,t)=>e in n?lX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rw=(n,e,t)=>(cX(n,typeof e!="symbol"?e+"":e,t),t);let uX=class{constructor(){Rw(this,"current",this.detect()),Rw(this,"handoffState","pending"),Rw(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ac=new uX;function P2(n){var e,t;return ac.isServer?null:n?"ownerDocument"in n?n.ownerDocument:"current"in n?(t=(e=n.current)==null?void 0:e.ownerDocument)!=null?t:document:null:document}function R2(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Nu(){let n=[],e={addEventListener(t,r,i,s){return t.addEventListener(r,i,s),e.add(()=>t.removeEventListener(r,i,s))},requestAnimationFrame(...t){let r=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let r=setTimeout(...t);return e.add(()=>clearTimeout(r))},microTask(...t){let r={current:!0};return R2(()=>{r.current&&t[0]()}),e.add(()=>{r.current=!1})},style(t,r,i){let s=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:i}),this.add(()=>{Object.assign(t.style,{[r]:s})})},group(t){let r=Nu();return t(r),this.add(()=>r.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let r=n.indexOf(t);if(r>=0)for(let i of n.splice(r,1))i()}},dispose(){for(let t of n.splice(0))t()}};return e}function CS(){let[n]=$.useState(Nu);return $.useEffect(()=>()=>n.dispose(),[n]),n}let ks=(n,e)=>{ac.isServer?$.useEffect(n,e):$.useLayoutEffect(n,e)};function Sd(n){let e=$.useRef(n);return ks(()=>{e.current=n},[n]),e}let lr=function(n){let e=Sd(n);return Ee.useCallback((...t)=>e.current(...t),[e])},hX=$.createContext(void 0);function fX(){return $.useContext(hX)}function A5(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Tu(n,e,...t){if(n in e){let i=e[n];return typeof i=="function"?i(...t):i}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Tu),r}var R1=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(R1||{}),Eh=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Eh||{});function xo(){let n=pX();return $.useCallback(e=>dX({mergeRefs:n,...e}),[n])}function dX({ourProps:n,theirProps:e,slot:t,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:l}){l=l??mX;let c=gM(e,n);if(s)return tv(c,t,r,a,l);let h=i??0;if(h&2){let{static:d=!1,...p}=c;if(d)return tv(p,t,r,a,l)}if(h&1){let{unmount:d=!0,...p}=c;return Tu(d?0:1,{0(){return null},1(){return tv({...p,hidden:!0,style:{display:"none"}},t,r,a,l)}})}return tv(c,t,r,a,l)}function tv(n,e={},t,r,i){let{as:s=t,children:a,refName:l="ref",...c}=Mw(n,["unmount","static"]),h=n.ref!==void 0?{[l]:n.ref}:{},d=typeof a=="function"?a(e):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let p={};if(e){let g=!1,y=[];for(let[_,S]of Object.entries(e))typeof S=="boolean"&&(g=!0),S===!0&&y.push(_.replace(/([A-Z])/g,T=>`-${T.toLowerCase()}`));if(g){p["data-headlessui-state"]=y.join(" ");for(let _ of y)p[`data-${_}`]=""}}if(s===$.Fragment&&(Object.keys(Lf(c)).length>0||Object.keys(Lf(p)).length>0))if(!$.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Lf(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Lf(c)).concat(Object.keys(Lf(p))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=d.props,y=g?.className,_=typeof y=="function"?(...E)=>A5(y(...E),c.className):A5(y,c.className),S=_?{className:_}:{},T=gM(d.props,Lf(Mw(c,["ref"])));for(let E in p)E in T&&delete p[E];return $.cloneElement(d,Object.assign({},T,p,h,{ref:i(gX(d),h.ref)},S))}return $.createElement(s,Object.assign({},Mw(c,["ref"]),s!==$.Fragment&&h,s!==$.Fragment&&p),d)}function pX(){let n=$.useRef([]),e=$.useCallback(t=>{for(let r of n.current)r!=null&&(typeof r=="function"?r(t):r.current=t)},[]);return(...t)=>{if(!t.every(r=>r==null))return n.current=t,e}}function mX(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function gM(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(t[i]!=null||(t[i]=[]),t[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(t[r]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let r in t)Object.assign(e,{[r](i,...s){let a=t[r];for(let l of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return e}function ua(n){var e;return Object.assign($.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Lf(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function Mw(n,e=[]){let t=Object.assign({},n);for(let r of e)r in t&&delete t[r];return t}function gX(n){return Ee.version.split(".")[0]>="19"?n.props.ref:n.ref}let yX="span";var M1=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(M1||{});function vX(n,e){var t;let{features:r=1,...i}=n,s={ref:e,"aria-hidden":(r&2)===2?!0:(t=i["aria-hidden"])!=null?t:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return xo()({ourProps:s,theirProps:i,slot:{},defaultTag:yX,name:"Hidden"})}let C5=ua(vX);function yM(n){return typeof n!="object"||n===null?!1:"nodeType"in n}function Fh(n){return yM(n)&&"tagName"in n}function dd(n){return Fh(n)&&"accessKey"in n}function Ah(n){return Fh(n)&&"tabIndex"in n}function bX(n){return Fh(n)&&"style"in n}function wX(n){return dd(n)&&n.nodeName==="IFRAME"}function _X(n){return dd(n)&&n.nodeName==="INPUT"}let vM=Symbol();function xX(n,e=!0){return Object.assign(n,{[vM]:e})}function bc(...n){let e=$.useRef(n);$.useEffect(()=>{e.current=n},[n]);let t=lr(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return n.every(r=>r==null||r?.[vM])?void 0:t}let DS=$.createContext(null);DS.displayName="DescriptionContext";function bM(){let n=$.useContext(DS);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,bM),e}return n}function SX(){let[n,e]=$.useState([]);return[n.length>0?n.join(" "):void 0,$.useMemo(()=>function(t){let r=lr(s=>(e(a=>[...a,s]),()=>e(a=>{let l=a.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),i=$.useMemo(()=>({register:r,slot:t.slot,name:t.name,props:t.props,value:t.value}),[r,t.slot,t.name,t.props,t.value]);return Ee.createElement(DS.Provider,{value:i},t.children)},[e])]}let TX="p";function EX(n,e){let t=$.useId(),r=fX(),{id:i=`headlessui-description-${t}`,...s}=n,a=bM(),l=bc(e);ks(()=>a.register(i),[i,a.register]);let c=r||!1,h=$.useMemo(()=>({...a.slot,disabled:c}),[a.slot,c]),d={ref:l,...a.props,id:i};return xo()({ourProps:d,theirProps:s,slot:h,defaultTag:TX,name:a.name||"Description"})}let AX=ua(EX),CX=Object.assign(AX,{});var wM=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(wM||{});let DX=$.createContext(()=>{});function kX({value:n,children:e}){return Ee.createElement(DX.Provider,{value:n},e)}let _M=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};var NX=Object.defineProperty,PX=(n,e,t)=>e in n?NX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,RX=(n,e,t)=>(PX(n,e+"",t),t),xM=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},ao=(n,e,t)=>(xM(n,e,"read from private field"),t?t.call(n):e.get(n)),Lw=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},lC=(n,e,t,r)=>(xM(n,e,"write to private field"),e.set(n,t),t),Bl,pg,mg;let MX=class{constructor(e){Lw(this,Bl,{}),Lw(this,pg,new _M(()=>new Set)),Lw(this,mg,new Set),RX(this,"disposables",Nu()),lC(this,Bl,e),ac.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return ao(this,Bl)}subscribe(e,t){if(ac.isServer)return()=>{};let r={selector:e,callback:t,current:e(ao(this,Bl))};return ao(this,mg).add(r),this.disposables.add(()=>{ao(this,mg).delete(r)})}on(e,t){return ac.isServer?()=>{}:(ao(this,pg).get(e).add(t),this.disposables.add(()=>{ao(this,pg).get(e).delete(t)}))}send(e){let t=this.reduce(ao(this,Bl),e);if(t!==ao(this,Bl)){lC(this,Bl,t);for(let r of ao(this,mg)){let i=r.selector(ao(this,Bl));SM(r.current,i)||(r.current=i,r.callback(i))}for(let r of ao(this,pg).get(e.type))r(ao(this,Bl),e)}}};Bl=new WeakMap,pg=new WeakMap,mg=new WeakMap;function SM(n,e){return Object.is(n,e)?!0:typeof n!="object"||n===null||typeof e!="object"||e===null?!1:Array.isArray(n)&&Array.isArray(e)?n.length!==e.length?!1:Iw(n[Symbol.iterator](),e[Symbol.iterator]()):n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set?n.size!==e.size?!1:Iw(n.entries(),e.entries()):cC(n)&&cC(e)?Iw(Object.entries(n)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Iw(n,e){do{let t=n.next(),r=e.next();if(t.done&&r.done)return!0;if(t.done||r.done||!Object.is(t.value,r.value))return!1}while(!0)}function cC(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;let e=Object.getPrototypeOf(n);return e===null||Object.getPrototypeOf(e)===null}var LX=Object.defineProperty,IX=(n,e,t)=>e in n?LX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,uC=(n,e,t)=>(IX(n,typeof e!="symbol"?e+"":e,t),t),OX=(n=>(n[n.Push=0]="Push",n[n.Pop=1]="Pop",n))(OX||{});let jX={0(n,e){let t=e.id,r=n.stack,i=n.stack.indexOf(t);if(i!==-1){let s=n.stack.slice();return s.splice(i,1),s.push(t),r=s,{...n,stack:r}}return{...n,stack:[...n.stack,t]}},1(n,e){let t=e.id,r=n.stack.indexOf(t);if(r===-1)return n;let i=n.stack.slice();return i.splice(r,1),{...n,stack:i}}},FX=class TM extends MX{constructor(){super(...arguments),uC(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),uC(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new TM({stack:[]})}reduce(e,t){return Tu(t.type,jX,e,t)}};const EM=new _M(()=>FX.new());var Ow={exports:{}},jw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function VX(){if(hC)return jw;hC=1;var n=Q1();function e(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,a=n.useMemo,l=n.useDebugValue;return jw.useSyncExternalStoreWithSelector=function(c,h,d,p,g){var y=i(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=a(function(){function T(U){if(!E){if(E=!0,A=U,U=p(U),g!==void 0&&_.hasValue){var K=_.value;if(g(K,U))return N=K}return N=U}if(K=N,t(A,U))return K;var M=p(U);return g!==void 0&&g(K,M)?(A=U,K):(A=U,N=M)}var E=!1,A,N,j=d===void 0?null:d;return[function(){return T(h())},j===null?void 0:function(){return T(j())}]},[h,d,p,g]);var S=r(c,y[0],y[1]);return s(function(){_.hasValue=!0,_.value=S},[S]),l(S),S},jw}var fC;function BX(){return fC||(fC=1,Ow.exports=VX()),Ow.exports}var UX=BX();function AM(n,e,t=SM){return UX.useSyncExternalStoreWithSelector(lr(r=>n.subscribe(zX,r)),lr(()=>n.state),lr(()=>n.state),lr(e),t)}function zX(n){return n}function j0(n,e){let t=$.useId(),r=EM.get(e),[i,s]=AM(r,$.useCallback(a=>[r.selectors.isTop(a,t),r.selectors.inStack(a,t)],[r,t]));return ks(()=>{if(n)return r.actions.push(t),()=>r.actions.pop(t)},[r,n,t]),n?s?i:!0:!1}let D5=new Map,Dg=new Map;function dC(n){var e;let t=(e=Dg.get(n))!=null?e:0;return Dg.set(n,t+1),t!==0?()=>pC(n):(D5.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>pC(n))}function pC(n){var e;let t=(e=Dg.get(n))!=null?e:1;if(t===1?Dg.delete(n):Dg.set(n,t-1),t!==1)return;let r=D5.get(n);r&&(r["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,D5.delete(n))}function HX(n,{allowed:e,disallowed:t}={}){let r=j0(n,"inert-others");ks(()=>{var i,s;if(!r)return;let a=Nu();for(let c of(i=t?.())!=null?i:[])c&&a.add(dC(c));let l=(s=e?.())!=null?s:[];for(let c of l){if(!c)continue;let h=P2(c);if(!h)continue;let d=c.parentElement;for(;d&&d!==h.body;){for(let p of d.children)l.some(g=>p.contains(g))||a.add(dC(p));d=d.parentElement}}return a.dispose},[r,e,t])}function qX(n,e,t){let r=Sd(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&t()});$.useEffect(()=>{if(!n)return;let i=e===null?null:dd(e)?e:e.current;if(!i)return;let s=Nu();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,r,n])}let L1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),WX=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var ru=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(ru||{}),k5=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(k5||{}),YX=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(YX||{});function $X(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(L1)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function GX(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(WX)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var CM=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(CM||{});function KX(n,e=0){var t;return n===((t=P2(n))==null?void 0:t.body)?!1:Tu(e,{0(){return n.matches(L1)},1(){let r=n;for(;r!==null;){if(r.matches(L1))return!0;r=r.parentElement}return!1}})}var XX=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(XX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function gu(n){n?.focus({preventScroll:!0})}let QX=["textarea","input"].join(",");function JX(n){var e,t;return(t=(e=n?.matches)==null?void 0:e.call(n,QX))!=null?t:!1}function ZX(n,e=t=>t){return n.slice().sort((t,r)=>{let i=e(t),s=e(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kg(n,e,{sorted:t=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,a=Array.isArray(n)?t?ZX(n):n:e&64?GX(n):$X(n);i.length>0&&a.length>1&&(a=a.filter(y=>!i.some(_=>_!=null&&"current"in _?_?.current===y:_===y))),r=r??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=e&32?{preventScroll:!0}:{},d=0,p=a.length,g;do{if(d>=p||d+p<=0)return 0;let y=c+d;if(e&16)y=(y+p)%p;else{if(y<0)return 3;if(y>=p)return 1}g=a[y],g?.focus(h),d+=l}while(g!==s.activeElement);return e&6&&JX(g)&&g.select(),2}function DM(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function eQ(){return/Android/gi.test(window.navigator.userAgent)}function mC(){return DM()||eQ()}function nv(n,e,t,r){let i=Sd(t);$.useEffect(()=>{if(!n)return;function s(a){i.current(a)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[n,e,r])}function kM(n,e,t,r){let i=Sd(t);$.useEffect(()=>{if(!n)return;function s(a){i.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[n,e,r])}const gC=30;function tQ(n,e,t){let r=Sd(t),i=$.useCallback(function(l,c){if(l.defaultPrevented)return;let h=c(l);if(h===null||!h.getRootNode().contains(h)||!h.isConnected)return;let d=(function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]})(e);for(let p of d)if(p!==null&&(p.contains(h)||l.composed&&l.composedPath().includes(p)))return;return!KX(h,CM.Loose)&&h.tabIndex!==-1&&l.preventDefault(),r.current(l,h)},[r,e]),s=$.useRef(null);nv(n,"pointerdown",l=>{var c,h;mC()||(s.current=((h=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:h[0])||l.target)},!0),nv(n,"pointerup",l=>{if(mC()||!s.current)return;let c=s.current;return s.current=null,i(l,()=>c)},!0);let a=$.useRef({x:0,y:0});nv(n,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),nv(n,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=gC||Math.abs(c.y-a.current.y)>=gC))return i(l,()=>Ah(l.target)?l.target:null)},!0),kM(n,"blur",l=>i(l,()=>wX(window.document.activeElement)?window.document.activeElement:null),!0)}function M2(...n){return $.useMemo(()=>P2(...n),[...n])}function NM(n,e,t,r){let i=Sd(t);$.useEffect(()=>{n=n??window;function s(a){i.current(a)}return n.addEventListener(e,s,r),()=>n.removeEventListener(e,s,r)},[n,e,r])}function nQ(n){return $.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}function rQ(n,e){let t=n(),r=new Set;return{getSnapshot(){return t},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=e[i].call(t,...s);a&&(t=a,r.forEach(l=>l()))}}}function iQ(){let n;return{before({doc:e}){var t;let r=e.documentElement,i=(t=e.defaultView)!=null?t:window;n=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:t}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,n-i);t.style(r,"paddingRight",`${s}px`)}}}function sQ(){return DM()?{before({doc:n,d:e,meta:t}){function r(i){return t.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let l=Nu();l.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(n,"click",l=>{if(Ah(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:h}=new URL(c.href),d=n.querySelector(h);Ah(d)&&!r(d)&&(a=d)}catch{}},!0),e.addEventListener(n,"touchstart",l=>{if(Ah(l.target)&&bX(l.target))if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(n,"touchmove",l=>{if(Ah(l.target)){if(_X(l.target))return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function aQ(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function oQ(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let zf=rQ(()=>new Map,{PUSH(n,e){var t;let r=(t=this.get(n))!=null?t:{doc:n,count:0,d:Nu(),meta:new Set};return r.count++,r.meta.add(e),this.set(n,r),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let r={doc:n,d:e,meta:oQ(t)},i=[sQ(),iQ(),aQ()];i.forEach(({before:s})=>s?.(r)),i.forEach(({after:s})=>s?.(r))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});zf.subscribe(()=>{let n=zf.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let r=e.get(t.doc)==="hidden",i=t.count!==0;(i&&!r||!i&&r)&&zf.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&zf.dispatch("TEARDOWN",t)}});function lQ(n,e,t=()=>({containers:[]})){let r=nQ(zf),i=e?r.get(e):void 0,s=i?i.count>0:!1;return ks(()=>{if(!(!e||!n))return zf.dispatch("PUSH",e,t),()=>zf.dispatch("POP",e,t)},[n,e]),s}function cQ(n,e,t=()=>[document.body]){let r=j0(n,"scroll-lock");lQ(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],t]}})}function uQ(n=0){let[e,t]=$.useState(n),r=$.useCallback(c=>t(c),[e]),i=$.useCallback(c=>t(h=>h|c),[e]),s=$.useCallback(c=>(e&c)===c,[e]),a=$.useCallback(c=>t(h=>h&~c),[t]),l=$.useCallback(c=>t(h=>h^c),[t]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:l}}var hQ={},yC,vC;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((yC=process==null?void 0:hQ)==null?void 0:yC.NODE_ENV)==="test"&&typeof((vC=Element?.prototype)==null?void 0:vC.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var fQ=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(fQ||{});function dQ(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function pQ(n,e,t,r){let[i,s]=$.useState(t),{hasFlag:a,addFlag:l,removeFlag:c}=uQ(n&&i?3:0),h=$.useRef(!1),d=$.useRef(!1),p=CS();return ks(()=>{var g;if(n){if(t&&s(!0),!e){t&&l(3);return}return(g=r?.start)==null||g.call(r,t),mQ(e,{inFlight:h,prepare(){d.current?d.current=!1:d.current=h.current,h.current=!0,!d.current&&(t?(l(3),c(4)):(l(4),c(2)))},run(){d.current?t?(c(3),l(4)):(c(4),l(3)):t?c(1):l(1)},done(){var y;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(h.current=!1,c(7),t||s(!1),(y=r?.end)==null||y.call(r,t))}})}},[n,t,e,p]),n?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function mQ(n,{prepare:e,run:t,done:r,inFlight:i}){let s=Nu();return yQ(n,{prepare:e,inFlight:i}),s.nextFrame(()=>{t(),s.requestAnimationFrame(()=>{s.add(gQ(n,r))})}),s.dispose}function gQ(n,e){var t,r;let i=Nu();if(!n)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(t=n.getAnimations)==null?void 0:t.call(n).filter(l=>l instanceof CSSTransition))!=null?r:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(l=>l.finished)).then(()=>{s||e()}),i.dispose)}function yQ(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let r=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=r}function kS(n,e){let t=$.useRef([]),r=lr(n);$.useEffect(()=>{let i=[...t.current];for(let[s,a]of e.entries())if(t.current[s]!==a){let l=r(e,i);return t.current=e,l}},[r,...e])}let L2=$.createContext(null);L2.displayName="OpenClosedContext";var tl=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(tl||{});function I2(){return $.useContext(L2)}function vQ({value:n,children:e}){return Ee.createElement(L2.Provider,{value:n},e)}function bQ({children:n}){return Ee.createElement(L2.Provider,{value:null},n)}function wQ(n){function e(){document.readyState!=="loading"&&(n(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let xh=[];wQ(()=>{function n(e){if(!Ah(e.target)||e.target===document.body||xh[0]===e.target)return;let t=e.target;t=t.closest(L1),xh.unshift(t??e.target),xh=xh.filter(r=>r!=null&&r.isConnected),xh.splice(10)}window.addEventListener("click",n,{capture:!0}),window.addEventListener("mousedown",n,{capture:!0}),window.addEventListener("focus",n,{capture:!0}),document.body.addEventListener("click",n,{capture:!0}),document.body.addEventListener("mousedown",n,{capture:!0}),document.body.addEventListener("focus",n,{capture:!0})});function PM(n){let e=lr(n),t=$.useRef(!1);$.useEffect(()=>(t.current=!1,()=>{t.current=!0,R2(()=>{t.current&&e()})}),[e])}function _Q(){let n=typeof document>"u";return"useSyncExternalStore"in Xv?(e=>e.useSyncExternalStore)(Xv)(()=>()=>{},()=>!1,()=>!n):!1}function F0(){let n=_Q(),[e,t]=$.useState(ac.isHandoffComplete);return e&&ac.isHandoffComplete===!1&&t(!1),$.useEffect(()=>{e!==!0&&t(!0)},[e]),$.useEffect(()=>ac.handoff(),[]),n?!1:e}let RM=$.createContext(!1);function xQ(){return $.useContext(RM)}function bC(n){return Ee.createElement(RM.Provider,{value:n.force},n.children)}function SQ(n){let e=xQ(),t=$.useContext(LM),[r,i]=$.useState(()=>{var s;if(!e&&t!==null)return(s=t.current)!=null?s:null;if(ac.isServer)return null;let a=n?.getElementById("headlessui-portal-root");if(a)return a;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return $.useEffect(()=>{r!==null&&(n!=null&&n.body.contains(r)||n==null||n.body.appendChild(r))},[r,n]),$.useEffect(()=>{e||t!==null&&i(t.current)},[t,i,e]),r}let MM=$.Fragment,TQ=ua(function(n,e){let{ownerDocument:t=null,...r}=n,i=$.useRef(null),s=bc(xX(y=>{i.current=y}),e),a=M2(i),l=t??a,c=SQ(l),[h]=$.useState(()=>{var y;return ac.isServer?null:(y=l?.createElement("div"))!=null?y:null}),d=$.useContext(N5),p=F0();ks(()=>{!c||!h||c.contains(h)||(h.setAttribute("data-headlessui-portal",""),c.appendChild(h))},[c,h]),ks(()=>{if(h&&d)return d.register(h)},[d,h]),PM(()=>{var y;!c||!h||(yM(h)&&c.contains(h)&&c.removeChild(h),c.childNodes.length<=0&&((y=c.parentElement)==null||y.removeChild(c)))});let g=xo();return p?!c||!h?null:Sx.createPortal(g({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:MM,name:"Portal"}),h):null});function EQ(n,e){let t=bc(e),{enabled:r=!0,ownerDocument:i,...s}=n,a=xo();return r?Ee.createElement(TQ,{...s,ownerDocument:i,ref:t}):a({ourProps:{ref:t},theirProps:s,slot:{},defaultTag:MM,name:"Portal"})}let AQ=$.Fragment,LM=$.createContext(null);function CQ(n,e){let{target:t,...r}=n,i={ref:bc(e)},s=xo();return Ee.createElement(LM.Provider,{value:t},s({ourProps:i,theirProps:r,defaultTag:AQ,name:"Popover.Group"}))}let N5=$.createContext(null);function DQ(){let n=$.useContext(N5),e=$.useRef([]),t=lr(s=>(e.current.push(s),n&&n.register(s),()=>r(s))),r=lr(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),n&&n.unregister(s)}),i=$.useMemo(()=>({register:t,unregister:r,portals:e}),[t,r,e]);return[e,$.useMemo(()=>function({children:s}){return Ee.createElement(N5.Provider,{value:i},s)},[i])]}let kQ=ua(EQ),IM=ua(CQ),NQ=Object.assign(kQ,{Group:IM});function PQ(n,e=typeof document<"u"?document.defaultView:null,t){let r=j0(n,"escape");NM(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===wM.Escape&&t(i))})}function RQ(){var n;let[e]=$.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[t,r]=$.useState((n=e?.matches)!=null?n:!1);return ks(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),t}function MQ({defaultContainers:n=[],portals:e,mainTreeNode:t}={}){let r=M2(t),i=lr(()=>{var s,a;let l=[];for(let c of n)c!==null&&(Fh(c)?l.push(c):"current"in c&&Fh(c.current)&&l.push(c.current));if(e!=null&&e.current)for(let c of e.current)l.push(c);for(let c of(s=r?.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&Fh(c)&&c.id!=="headlessui-portal-root"&&(t&&(c.contains(t)||c.contains((a=t?.getRootNode())==null?void 0:a.host))||l.some(h=>c.contains(h))||l.push(c));return l});return{resolveContainers:i,contains:lr(s=>i().some(a=>a.contains(s)))}}let OM=$.createContext(null);function wC({children:n,node:e}){let[t,r]=$.useState(null),i=jM(e??t);return Ee.createElement(OM.Provider,{value:i},n,i===null&&Ee.createElement(C5,{features:M1.Hidden,ref:s=>{var a,l;if(s){for(let c of(l=(a=P2(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&Fh(c)&&c!=null&&c.contains(s)){r(c);break}}}}))}function jM(n=null){var e;return(e=$.useContext(OM))!=null?e:n}function NS(){let n=$.useRef(!1);return ks(()=>(n.current=!0,()=>{n.current=!1}),[]),n}var gg=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(gg||{});function LQ(){let n=$.useRef(0);return kM(!0,"keydown",e=>{e.key==="Tab"&&(n.current=e.shiftKey?1:0)},!0),n}function FM(n){if(!n)return new Set;if(typeof n=="function")return new Set(n());let e=new Set;for(let t of n.current)Fh(t.current)&&e.add(t.current);return e}let IQ="div";var Ff=(n=>(n[n.None=0]="None",n[n.InitialFocus=1]="InitialFocus",n[n.TabLock=2]="TabLock",n[n.FocusLock=4]="FocusLock",n[n.RestoreFocus=8]="RestoreFocus",n[n.AutoFocus=16]="AutoFocus",n))(Ff||{});function OQ(n,e){let t=$.useRef(null),r=bc(t,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:l=15,...c}=n;F0()||(l=0);let h=M2(t);BQ(l,{ownerDocument:h});let d=UQ(l,{ownerDocument:h,container:t,initialFocus:i,initialFocusFallback:s});zQ(l,{ownerDocument:h,container:t,containers:a,previousActiveElement:d});let p=LQ(),g=lr(A=>{if(!dd(t.current))return;let N=t.current;(j=>j())(()=>{Tu(p.current,{[gg.Forwards]:()=>{kg(N,ru.First,{skipElements:[A.relatedTarget,s]})},[gg.Backwards]:()=>{kg(N,ru.Last,{skipElements:[A.relatedTarget,s]})}})})}),y=j0(!!(l&2),"focus-trap#tab-lock"),_=CS(),S=$.useRef(!1),T={ref:r,onKeyDown(A){A.key=="Tab"&&(S.current=!0,_.requestAnimationFrame(()=>{S.current=!1}))},onBlur(A){if(!(l&4))return;let N=FM(a);dd(t.current)&&N.add(t.current);let j=A.relatedTarget;Ah(j)&&j.dataset.headlessuiFocusGuard!=="true"&&(VM(N,j)||(S.current?kg(t.current,Tu(p.current,{[gg.Forwards]:()=>ru.Next,[gg.Backwards]:()=>ru.Previous})|ru.WrapAround,{relativeTo:A.target}):Ah(A.target)&&gu(A.target)))}},E=xo();return Ee.createElement(Ee.Fragment,null,y&&Ee.createElement(C5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:M1.Focusable}),E({ourProps:T,theirProps:c,defaultTag:IQ,name:"FocusTrap"}),y&&Ee.createElement(C5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:M1.Focusable}))}let jQ=ua(OQ),FQ=Object.assign(jQ,{features:Ff});function VQ(n=!0){let e=$.useRef(xh.slice());return kS(([t],[r])=>{r===!0&&t===!1&&R2(()=>{e.current.splice(0)}),r===!1&&t===!0&&(e.current=xh.slice())},[n,xh,e]),lr(()=>{var t;return(t=e.current.find(r=>r!=null&&r.isConnected))!=null?t:null})}function BQ(n,{ownerDocument:e}){let t=!!(n&8),r=VQ(t);kS(()=>{t||e?.activeElement===e?.body&&gu(r())},[t]),PM(()=>{t&&gu(r())})}function UQ(n,{ownerDocument:e,container:t,initialFocus:r,initialFocusFallback:i}){let s=$.useRef(null),a=j0(!!(n&1),"focus-trap#initial-focus"),l=NS();return kS(()=>{if(n===0)return;if(!a){i!=null&&i.current&&gu(i.current);return}let c=t.current;c&&R2(()=>{if(!l.current)return;let h=e?.activeElement;if(r!=null&&r.current){if(r?.current===h){s.current=h;return}}else if(c.contains(h)){s.current=h;return}if(r!=null&&r.current)gu(r.current);else{if(n&16){if(kg(c,ru.First|ru.AutoFocus)!==k5.Error)return}else if(kg(c,ru.First)!==k5.Error)return;if(i!=null&&i.current&&(gu(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,a,n]),s}function zQ(n,{ownerDocument:e,container:t,containers:r,previousActiveElement:i}){let s=NS(),a=!!(n&4);NM(e?.defaultView,"focus",l=>{if(!a||!s.current)return;let c=FM(r);dd(t.current)&&c.add(t.current);let h=i.current;if(!h)return;let d=l.target;dd(d)?VM(c,d)?(i.current=d,gu(d)):(l.preventDefault(),l.stopPropagation(),gu(h)):gu(i.current)},!0)}function VM(n,e){for(let t of n)if(t.contains(e))return!0;return!1}function BM(n){var e;return!!(n.enter||n.enterFrom||n.enterTo||n.leave||n.leaveFrom||n.leaveTo)||((e=n.as)!=null?e:zM)!==$.Fragment||Ee.Children.count(n.children)===1}let O2=$.createContext(null);O2.displayName="TransitionContext";var HQ=(n=>(n.Visible="visible",n.Hidden="hidden",n))(HQ||{});function qQ(){let n=$.useContext(O2);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}function WQ(){let n=$.useContext(j2);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}let j2=$.createContext(null);j2.displayName="NestingContext";function F2(n){return"children"in n?F2(n.children):n.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function UM(n,e){let t=Sd(n),r=$.useRef([]),i=NS(),s=CS(),a=lr((y,_=Eh.Hidden)=>{let S=r.current.findIndex(({el:T})=>T===y);S!==-1&&(Tu(_,{[Eh.Unmount](){r.current.splice(S,1)},[Eh.Hidden](){r.current[S].state="hidden"}}),s.microTask(()=>{var T;!F2(r)&&i.current&&((T=t.current)==null||T.call(t))}))}),l=lr(y=>{let _=r.current.find(({el:S})=>S===y);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:y,state:"visible"}),()=>a(y,Eh.Unmount)}),c=$.useRef([]),h=$.useRef(Promise.resolve()),d=$.useRef({enter:[],leave:[]}),p=lr((y,_,S)=>{c.current.splice(0),e&&(e.chains.current[_]=e.chains.current[_].filter(([T])=>T!==y)),e?.chains.current[_].push([y,new Promise(T=>{c.current.push(T)})]),e?.chains.current[_].push([y,new Promise(T=>{Promise.all(d.current[_].map(([E,A])=>A)).then(()=>T())})]),_==="enter"?h.current=h.current.then(()=>e?.wait.current).then(()=>S(_)):S(_)}),g=lr((y,_,S)=>{Promise.all(d.current[_].splice(0).map(([T,E])=>E)).then(()=>{var T;(T=c.current.shift())==null||T()}).then(()=>S(_))});return $.useMemo(()=>({children:r,register:l,unregister:a,onStart:p,onStop:g,wait:h,chains:d}),[l,a,r,p,g,d,h])}let zM=$.Fragment,HM=R1.RenderStrategy;function YQ(n,e){var t,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:l,afterLeave:c,enter:h,enterFrom:d,enterTo:p,entered:g,leave:y,leaveFrom:_,leaveTo:S,...T}=n,[E,A]=$.useState(null),N=$.useRef(null),j=BM(n),U=bc(...j?[N,e,A]:e===null?[]:[e]),K=(t=T.unmount)==null||t?Eh.Unmount:Eh.Hidden,{show:M,appear:k,initial:O}=qQ(),[H,R]=$.useState(M?"visible":"hidden"),L=WQ(),{register:V,unregister:se}=L;ks(()=>V(N),[V,N]),ks(()=>{if(K===Eh.Hidden&&N.current){if(M&&H!=="visible"){R("visible");return}return Tu(H,{hidden:()=>se(N),visible:()=>V(N)})}},[H,N,V,se,M,K]);let pe=F0();ks(()=>{if(j&&pe&&H==="visible"&&N.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[N,H,pe,j]);let G=O&&!k,Q=k&&M&&O,re=$.useRef(!1),J=UM(()=>{re.current||(R("hidden"),se(N))},L),q=lr(_e=>{re.current=!0;let ve=_e?"enter":"leave";J.onStart(N,ve,be=>{be==="enter"?s?.():be==="leave"&&l?.()})}),oe=lr(_e=>{let ve=_e?"enter":"leave";re.current=!1,J.onStop(N,ve,be=>{be==="enter"?a?.():be==="leave"&&c?.()}),ve==="leave"&&!F2(J)&&(R("hidden"),se(N))});$.useEffect(()=>{j&&i||(q(M),oe(M))},[M,j,i]);let F=!(!i||!j||!pe||G),[,W]=pQ(F,E,M,{start:q,end:oe}),te=Lf({ref:U,className:((r=A5(T.className,Q&&h,Q&&d,W.enter&&h,W.enter&&W.closed&&d,W.enter&&!W.closed&&p,W.leave&&y,W.leave&&!W.closed&&_,W.leave&&W.closed&&S,!W.transition&&M&&g))==null?void 0:r.trim())||void 0,...dQ(W)}),ae=0;H==="visible"&&(ae|=tl.Open),H==="hidden"&&(ae|=tl.Closed),M&&H==="hidden"&&(ae|=tl.Opening),!M&&H==="visible"&&(ae|=tl.Closing);let fe=xo();return Ee.createElement(j2.Provider,{value:J},Ee.createElement(vQ,{value:ae},fe({ourProps:te,theirProps:T,defaultTag:zM,features:HM,visible:H==="visible",name:"Transition.Child"})))}function $Q(n,e){let{show:t,appear:r=!1,unmount:i=!0,...s}=n,a=$.useRef(null),l=BM(n),c=bc(...l?[a,e]:e===null?[]:[e]);F0();let h=I2();if(t===void 0&&h!==null&&(t=(h&tl.Open)===tl.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,p]=$.useState(t?"visible":"hidden"),g=UM(()=>{t||p("hidden")}),[y,_]=$.useState(!0),S=$.useRef([t]);ks(()=>{y!==!1&&S.current[S.current.length-1]!==t&&(S.current.push(t),_(!1))},[S,t]);let T=$.useMemo(()=>({show:t,appear:r,initial:y}),[t,r,y]);ks(()=>{t?p("visible"):!F2(g)&&a.current!==null&&p("hidden")},[t,g]);let E={unmount:i},A=lr(()=>{var U;y&&_(!1),(U=n.beforeEnter)==null||U.call(n)}),N=lr(()=>{var U;y&&_(!1),(U=n.beforeLeave)==null||U.call(n)}),j=xo();return Ee.createElement(j2.Provider,{value:g},Ee.createElement(O2.Provider,{value:T},j({ourProps:{...E,as:$.Fragment,children:Ee.createElement(qM,{ref:c,...E,...s,beforeEnter:A,beforeLeave:N})},theirProps:{},defaultTag:$.Fragment,features:HM,visible:d==="visible",name:"Transition"})))}function GQ(n,e){let t=$.useContext(O2)!==null,r=I2()!==null;return Ee.createElement(Ee.Fragment,null,!t&&r?Ee.createElement(P5,{ref:e,...n}):Ee.createElement(qM,{ref:e,...n}))}let P5=ua($Q),qM=ua(YQ),PS=ua(GQ),R5=Object.assign(P5,{Child:PS,Root:P5});var KQ=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(KQ||{}),XQ=(n=>(n[n.SetTitleId=0]="SetTitleId",n))(XQ||{});let QQ={0(n,e){return n.titleId===e.id?n:{...n,titleId:e.id}}},RS=$.createContext(null);RS.displayName="DialogContext";function V2(n){let e=$.useContext(RS);if(e===null){let t=new Error(`<${n} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,V2),t}return e}function JQ(n,e){return Tu(e.type,QQ,n,e)}let _C=ua(function(n,e){let t=$.useId(),{id:r=`headlessui-dialog-${t}`,open:i,onClose:s,initialFocus:a,role:l="dialog",autoFocus:c=!0,__demoMode:h=!1,unmount:d=!1,...p}=n,g=$.useRef(!1);l=(function(){return l==="dialog"||l==="alertdialog"?l:(g.current||(g.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=I2();i===void 0&&y!==null&&(i=(y&tl.Open)===tl.Open);let _=$.useRef(null),S=bc(_,e),T=M2(_),E=i?0:1,[A,N]=$.useReducer(JQ,{titleId:null,descriptionId:null,panelRef:$.createRef()}),j=lr(()=>s(!1)),U=lr(W=>N({type:0,id:W})),K=F0()?E===0:!1,[M,k]=DQ(),O={get current(){var W;return(W=A.panelRef.current)!=null?W:_.current}},H=jM(),{resolveContainers:R}=MQ({mainTreeNode:H,portals:M,defaultContainers:[O]}),L=y!==null?(y&tl.Closing)===tl.Closing:!1;HX(h||L?!1:K,{allowed:lr(()=>{var W,te;return[(te=(W=_.current)==null?void 0:W.closest("[data-headlessui-portal]"))!=null?te:null]}),disallowed:lr(()=>{var W;return[(W=H?.closest("body > *:not(#headlessui-portal-root)"))!=null?W:null]})});let V=EM.get(null);ks(()=>{if(K)return V.actions.push(r),()=>V.actions.pop(r)},[V,r,K]);let se=AM(V,$.useCallback(W=>V.selectors.isTop(W,r),[V,r]));tQ(se,R,W=>{W.preventDefault(),j()}),PQ(se,T?.defaultView,W=>{W.preventDefault(),W.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),j()}),cQ(h||L?!1:K,T,R),qX(K,_,j);let[pe,G]=SX(),Q=$.useMemo(()=>[{dialogState:E,close:j,setTitleId:U,unmount:d},A],[E,A,j,U,d]),re=$.useMemo(()=>({open:E===0}),[E]),J={ref:S,id:r,role:l,tabIndex:-1,"aria-modal":h?void 0:E===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":pe,unmount:d},q=!RQ(),oe=Ff.None;K&&!h&&(oe|=Ff.RestoreFocus,oe|=Ff.TabLock,c&&(oe|=Ff.AutoFocus),q&&(oe|=Ff.InitialFocus));let F=xo();return Ee.createElement(bQ,null,Ee.createElement(bC,{force:!0},Ee.createElement(NQ,null,Ee.createElement(RS.Provider,{value:Q},Ee.createElement(IM,{target:_},Ee.createElement(bC,{force:!1},Ee.createElement(G,{slot:re},Ee.createElement(k,null,Ee.createElement(FQ,{initialFocus:a,initialFocusFallback:_,containers:R,features:oe},Ee.createElement(kX,{value:j},F({ourProps:J,theirProps:p,slot:re,defaultTag:ZQ,features:eJ,visible:E===0,name:"Dialog"})))))))))))}),ZQ="div",eJ=R1.RenderStrategy|R1.Static;function tJ(n,e){let{transition:t=!1,open:r,...i}=n,s=I2(),a=n.hasOwnProperty("open")||s!==null,l=n.hasOwnProperty("onClose");if(!a&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof n.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n.open}`);if(typeof n.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${n.onClose}`);return(r!==void 0||t)&&!i.static?Ee.createElement(wC,null,Ee.createElement(R5,{show:r,transition:t,unmount:i.unmount},Ee.createElement(_C,{ref:e,...i}))):Ee.createElement(wC,null,Ee.createElement(_C,{ref:e,open:r,...i}))}let nJ="div";function rJ(n,e){let t=$.useId(),{id:r=`headlessui-dialog-panel-${t}`,transition:i=!1,...s}=n,[{dialogState:a,unmount:l},c]=V2("Dialog.Panel"),h=bc(e,c.panelRef),d=$.useMemo(()=>({open:a===0}),[a]),p=lr(T=>{T.stopPropagation()}),g={ref:h,id:r,onClick:p},y=i?PS:$.Fragment,_=i?{unmount:l}:{},S=xo();return Ee.createElement(y,{..._},S({ourProps:g,theirProps:s,slot:d,defaultTag:nJ,name:"Dialog.Panel"}))}let iJ="div";function sJ(n,e){let{transition:t=!1,...r}=n,[{dialogState:i,unmount:s}]=V2("Dialog.Backdrop"),a=$.useMemo(()=>({open:i===0}),[i]),l={ref:e,"aria-hidden":!0},c=t?PS:$.Fragment,h=t?{unmount:s}:{},d=xo();return Ee.createElement(c,{...h},d({ourProps:l,theirProps:r,slot:a,defaultTag:iJ,name:"Dialog.Backdrop"}))}let aJ="h2";function oJ(n,e){let t=$.useId(),{id:r=`headlessui-dialog-title-${t}`,...i}=n,[{dialogState:s,setTitleId:a}]=V2("Dialog.Title"),l=bc(e);$.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=$.useMemo(()=>({open:s===0}),[s]),h={ref:l,id:r};return xo()({ourProps:h,theirProps:i,slot:c,defaultTag:aJ,name:"Dialog.Title"})}let lJ=ua(tJ),cJ=ua(rJ);ua(sJ);let uJ=ua(oJ),Fw=Object.assign(lJ,{Panel:cJ,Title:uJ,Description:CX});const hJ="modulepreload",fJ=function(n){return"/"+n},xC={},M5=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let c=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(t.map(h=>{if(h=fJ(h),h in xC)return;xC[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":hJ,d||(g.as="script"),g.crossOrigin="",g.href=h,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((y,_)=>{g.addEventListener("load",y),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function Gn(n){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(n)}var Cs=Uint8Array,Ia=Uint16Array,MS=Int32Array,B2=new Cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),U2=new Cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L5=new Cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WM=function(n,e){for(var t=new Ia(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new MS(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},YM=WM(B2,2),$M=YM.b,I5=YM.r;$M[28]=258,I5[258]=28;var GM=WM(U2,0),dJ=GM.b,SC=GM.r,O5=new Ia(32768);for(var gr=0;gr<32768;++gr){var mh=(gr&43690)>>1|(gr&21845)<<1;mh=(mh&52428)>>2|(mh&13107)<<2,mh=(mh&61680)>>4|(mh&3855)<<4,O5[gr]=((mh&65280)>>8|(mh&255)<<8)>>1}var oc=(function(n,e,t){for(var r=n.length,i=0,s=new Ia(e);i<r;++i)n[i]&&++s[n[i]-1];var a=new Ia(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(t){l=new Ia(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],d=e-n[i],p=a[n[i]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)l[O5[p]>>c]=h}else for(l=new Ia(r),i=0;i<r;++i)n[i]&&(l[i]=O5[a[n[i]-1]++]>>15-n[i]);return l}),Xh=new Cs(288);for(var gr=0;gr<144;++gr)Xh[gr]=8;for(var gr=144;gr<256;++gr)Xh[gr]=9;for(var gr=256;gr<280;++gr)Xh[gr]=7;for(var gr=280;gr<288;++gr)Xh[gr]=8;var s0=new Cs(32);for(var gr=0;gr<32;++gr)s0[gr]=5;var pJ=oc(Xh,9,0),mJ=oc(Xh,9,1),gJ=oc(s0,5,0),yJ=oc(s0,5,1),Vw=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ko=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},Bw=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},LS=function(n){return(n+7)/8|0},KM=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Cs(n.subarray(e,t))},vJ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jo=function(n,e,t){var r=new Error(e||vJ[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Jo),!t)throw r;return r},bJ=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new Cs(0);var a=!t,l=a||e.i!=2,c=e.i;a&&(t=new Cs(i*3));var h=function(Be){var Ze=t.length;if(Be>Ze){var tt=new Cs(Math.max(Ze*2,Be));tt.set(t),t=tt}},d=e.f||0,p=e.p||0,g=e.b||0,y=e.l,_=e.d,S=e.m,T=e.n,E=i*8;do{if(!y){d=Ko(n,p,1);var A=Ko(n,p+1,3);if(p+=3,A)if(A==1)y=mJ,_=yJ,S=9,T=5;else if(A==2){var K=Ko(n,p,31)+257,M=Ko(n,p+10,15)+4,k=K+Ko(n,p+5,31)+1;p+=14;for(var O=new Cs(k),H=new Cs(19),R=0;R<M;++R)H[L5[R]]=Ko(n,p+R*3,7);p+=M*3;for(var L=Vw(H),V=(1<<L)-1,se=oc(H,L,1),R=0;R<k;){var pe=se[Ko(n,p,V)];p+=pe&15;var N=pe>>4;if(N<16)O[R++]=N;else{var G=0,Q=0;for(N==16?(Q=3+Ko(n,p,3),p+=2,G=O[R-1]):N==17?(Q=3+Ko(n,p,7),p+=3):N==18&&(Q=11+Ko(n,p,127),p+=7);Q--;)O[R++]=G}}var re=O.subarray(0,K),J=O.subarray(K);S=Vw(re),T=Vw(J),y=oc(re,S,1),_=oc(J,T,1)}else Jo(1);else{var N=LS(p)+4,j=n[N-4]|n[N-3]<<8,U=N+j;if(U>i){c&&Jo(0);break}l&&h(g+j),t.set(n.subarray(N,U),g),e.b=g+=j,e.p=p=U*8,e.f=d;continue}if(p>E){c&&Jo(0);break}}l&&h(g+131072);for(var q=(1<<S)-1,oe=(1<<T)-1,F=p;;F=p){var G=y[Bw(n,p)&q],W=G>>4;if(p+=G&15,p>E){c&&Jo(0);break}if(G||Jo(2),W<256)t[g++]=W;else if(W==256){F=p,y=null;break}else{var te=W-254;if(W>264){var R=W-257,ae=B2[R];te=Ko(n,p,(1<<ae)-1)+$M[R],p+=ae}var fe=_[Bw(n,p)&oe],_e=fe>>4;fe||Jo(3),p+=fe&15;var J=dJ[_e];if(_e>3){var ae=U2[_e];J+=Bw(n,p)&(1<<ae)-1,p+=ae}if(p>E){c&&Jo(0);break}l&&h(g+131072);var ve=g+te;if(g<J){var be=s-J,je=Math.min(J,ve);for(be+g<0&&Jo(3);g<je;++g)t[g]=r[be+g]}for(;g<ve;++g)t[g]=t[g-J]}}e.l=y,e.p=F,e.b=g,e.f=d,y&&(d=1,e.m=S,e.d=_,e.n=T)}while(!d);return g!=t.length&&a?KM(t,0,g):t.subarray(0,g)},Jc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Jm=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Uw=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:QM,l:0};if(i==1){var a=new Cs(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(U,K){return U.f-K.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],h=0,d=1,p=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=t[t[h].f<t[p].f?h++:p++],c=t[h!=d&&t[h].f<t[p].f?h++:p++],t[d++]={s:-1,f:l.f+c.f,l,r:c};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var y=new Ia(g+1),_=j5(t[d-1],y,0);if(_>e){var r=0,S=0,T=_-e,E=1<<T;for(s.sort(function(K,M){return y[M.s]-y[K.s]||K.f-M.f});r<i;++r){var A=s[r].s;if(y[A]>e)S+=E-(1<<_-y[A]),y[A]=e;else break}for(S>>=T;S>0;){var N=s[r].s;y[N]<e?S-=1<<e-y[N]++-1:++r}for(;r>=0&&S;--r){var j=s[r].s;y[j]==e&&(--y[j],++S)}_=e}return{t:new Cs(y),l:_}},j5=function(n,e,t){return n.s==-1?Math.max(j5(n.l,e,t+1),j5(n.r,e,t+1)):e[n.s]=t},TC=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ia(++e),r=0,i=n[0],s=1,a=function(c){t[r++]=c},l=1;l<=e;++l)if(n[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[l]}return{c:t.subarray(0,r),n:e}},Zm=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},XM=function(n,e,t){var r=t.length,i=LS(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},EC=function(n,e,t,r,i,s,a,l,c,h,d){Jc(e,d++,t),++i[256];for(var p=Uw(i,15),g=p.t,y=p.l,_=Uw(s,15),S=_.t,T=_.l,E=TC(g),A=E.c,N=E.n,j=TC(S),U=j.c,K=j.n,M=new Ia(19),k=0;k<A.length;++k)++M[A[k]&31];for(var k=0;k<U.length;++k)++M[U[k]&31];for(var O=Uw(M,7),H=O.t,R=O.l,L=19;L>4&&!H[L5[L-1]];--L);var V=h+5<<3,se=Zm(i,Xh)+Zm(s,s0)+a,pe=Zm(i,g)+Zm(s,S)+a+14+3*L+Zm(M,H)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&V<=se&&V<=pe)return XM(e,d,n.subarray(c,c+h));var G,Q,re,J;if(Jc(e,d,1+(pe<se)),d+=2,pe<se){G=oc(g,y,0),Q=g,re=oc(S,T,0),J=S;var q=oc(H,R,0);Jc(e,d,N-257),Jc(e,d+5,K-1),Jc(e,d+10,L-4),d+=14;for(var k=0;k<L;++k)Jc(e,d+3*k,H[L5[k]]);d+=3*L;for(var oe=[A,U],F=0;F<2;++F)for(var W=oe[F],k=0;k<W.length;++k){var te=W[k]&31;Jc(e,d,q[te]),d+=H[te],te>15&&(Jc(e,d,W[k]>>5&127),d+=W[k]>>12)}}else G=pJ,Q=Xh,re=gJ,J=s0;for(var k=0;k<l;++k){var ae=r[k];if(ae>255){var te=ae>>18&31;Jm(e,d,G[te+257]),d+=Q[te+257],te>7&&(Jc(e,d,ae>>23&31),d+=B2[te]);var fe=ae&31;Jm(e,d,re[fe]),d+=J[fe],fe>3&&(Jm(e,d,ae>>5&8191),d+=U2[fe])}else Jm(e,d,G[ae]),d+=Q[ae]}return Jm(e,d,G[256]),d+Q[256]},wJ=new MS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),QM=new Cs(0),_J=function(n,e,t,r,i,s){var a=s.z||n.length,l=new Cs(r+a+5*(1+Math.ceil(a/7e3))+i),c=l.subarray(r,l.length-i),h=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var p=wJ[e-1],g=p>>13,y=p&8191,_=(1<<t)-1,S=s.p||new Ia(32768),T=s.h||new Ia(_+1),E=Math.ceil(t/3),A=2*E,N=function(pt){return(n[pt]^n[pt+1]<<E^n[pt+2]<<A)&_},j=new MS(25e3),U=new Ia(288),K=new Ia(32),M=0,k=0,O=s.i||0,H=0,R=s.w||0,L=0;O+2<a;++O){var V=N(O),se=O&32767,pe=T[V];if(S[se]=pe,T[V]=se,R<=O){var G=a-O;if((M>7e3||H>24576)&&(G>423||!h)){d=EC(n,c,0,j,U,K,k,H,L,O-L,d),H=M=k=0,L=O;for(var Q=0;Q<286;++Q)U[Q]=0;for(var Q=0;Q<30;++Q)K[Q]=0}var re=2,J=0,q=y,oe=se-pe&32767;if(G>2&&V==N(O-oe))for(var F=Math.min(g,G)-1,W=Math.min(32767,O),te=Math.min(258,G);oe<=W&&--q&&se!=pe;){if(n[O+re]==n[O+re-oe]){for(var ae=0;ae<te&&n[O+ae]==n[O+ae-oe];++ae);if(ae>re){if(re=ae,J=oe,ae>F)break;for(var fe=Math.min(oe,ae-2),_e=0,Q=0;Q<fe;++Q){var ve=O-oe+Q&32767,be=S[ve],je=ve-be&32767;je>_e&&(_e=je,pe=ve)}}}se=pe,pe=S[se],oe+=se-pe&32767}if(J){j[H++]=268435456|I5[re]<<18|SC[J];var Be=I5[re]&31,Ze=SC[J]&31;k+=B2[Be]+U2[Ze],++U[257+Be],++K[Ze],R=O+re,++M}else j[H++]=n[O],++U[n[O]]}}for(O=Math.max(O,R);O<a;++O)j[H++]=n[O],++U[n[O]];d=EC(n,c,h,j,U,K,k,H,L,O-L,d),h||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=T,s.p=S,s.i=O,s.w=R)}else{for(var O=s.w||0;O<a+h;O+=65535){var tt=O+65535;tt>=a&&(c[d/8|0]=h,tt=a),d=XM(c,d+1,n.subarray(O,tt))}s.i=a}return KM(l,0,r+LS(d)+i)},JM=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},xJ=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Cs(s.length+n.length);a.set(s),a.set(n,s.length),n=a,i.w=s.length}return _J(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},ZM=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},SJ=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=JM();i.p(e.dictionary),ZM(n,2,i.d())}},TJ=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Jo(6,"invalid zlib data"),(n[1]>>5&1)==1&&Jo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function F5(n,e){e||(e={});var t=JM();t.p(n);var r=xJ(n,e,e.dictionary?6:2,4);return SJ(r,e),ZM(r,r.length-4,t.d()),r}function EJ(n,e){return bJ(n.subarray(TJ(n),-4),{i:2},e,e)}var AJ=typeof TextDecoder<"u"&&new TextDecoder,CJ=0;try{AJ.decode(QM,{stream:!0}),CJ=1}catch{}var Ft=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function zw(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var ar={log:zw,warn:function(n){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):zw.call(null,arguments))},error:function(n){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):zw(n))}};function Hw(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){If(r.response,e,t)},r.onerror=function(){ar.error("could not download file")},r.send()}function AC(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function rv(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ng,V5,If=Ft.saveAs||((typeof window>"u"?"undefined":Gn(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ft.URL||Ft.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?AC(i.href)?Hw(n,e,t):rv(i,i.target="_blank"):rv(i)):(i.href=r.createObjectURL(n),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){rv(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(AC(n))Hw(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout((function(){rv(r)}))}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Gn(s)!=="object"&&(ar.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Hw(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Ft.HTMLElement)||Ft.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Gn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(n)}else{var c=Ft.URL||Ft.webkitURL,h=c.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout((function(){c.revokeObjectURL(h)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eL(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qw(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ws(t,r,i,s,e[0],7,-680876936),s=ws(s,t,r,i,e[1],12,-389564586),i=ws(i,s,t,r,e[2],17,606105819),r=ws(r,i,s,t,e[3],22,-1044525330),t=ws(t,r,i,s,e[4],7,-176418897),s=ws(s,t,r,i,e[5],12,1200080426),i=ws(i,s,t,r,e[6],17,-1473231341),r=ws(r,i,s,t,e[7],22,-45705983),t=ws(t,r,i,s,e[8],7,1770035416),s=ws(s,t,r,i,e[9],12,-1958414417),i=ws(i,s,t,r,e[10],17,-42063),r=ws(r,i,s,t,e[11],22,-1990404162),t=ws(t,r,i,s,e[12],7,1804603682),s=ws(s,t,r,i,e[13],12,-40341101),i=ws(i,s,t,r,e[14],17,-1502002290),t=_s(t,r=ws(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=_s(s,t,r,i,e[6],9,-1069501632),i=_s(i,s,t,r,e[11],14,643717713),r=_s(r,i,s,t,e[0],20,-373897302),t=_s(t,r,i,s,e[5],5,-701558691),s=_s(s,t,r,i,e[10],9,38016083),i=_s(i,s,t,r,e[15],14,-660478335),r=_s(r,i,s,t,e[4],20,-405537848),t=_s(t,r,i,s,e[9],5,568446438),s=_s(s,t,r,i,e[14],9,-1019803690),i=_s(i,s,t,r,e[3],14,-187363961),r=_s(r,i,s,t,e[8],20,1163531501),t=_s(t,r,i,s,e[13],5,-1444681467),s=_s(s,t,r,i,e[2],9,-51403784),i=_s(i,s,t,r,e[7],14,1735328473),t=xs(t,r=_s(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=xs(s,t,r,i,e[8],11,-2022574463),i=xs(i,s,t,r,e[11],16,1839030562),r=xs(r,i,s,t,e[14],23,-35309556),t=xs(t,r,i,s,e[1],4,-1530992060),s=xs(s,t,r,i,e[4],11,1272893353),i=xs(i,s,t,r,e[7],16,-155497632),r=xs(r,i,s,t,e[10],23,-1094730640),t=xs(t,r,i,s,e[13],4,681279174),s=xs(s,t,r,i,e[0],11,-358537222),i=xs(i,s,t,r,e[3],16,-722521979),r=xs(r,i,s,t,e[6],23,76029189),t=xs(t,r,i,s,e[9],4,-640364487),s=xs(s,t,r,i,e[12],11,-421815835),i=xs(i,s,t,r,e[15],16,530742520),t=Ss(t,r=xs(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ss(s,t,r,i,e[7],10,1126891415),i=Ss(i,s,t,r,e[14],15,-1416354905),r=Ss(r,i,s,t,e[5],21,-57434055),t=Ss(t,r,i,s,e[12],6,1700485571),s=Ss(s,t,r,i,e[3],10,-1894986606),i=Ss(i,s,t,r,e[10],15,-1051523),r=Ss(r,i,s,t,e[1],21,-2054922799),t=Ss(t,r,i,s,e[8],6,1873313359),s=Ss(s,t,r,i,e[15],10,-30611744),i=Ss(i,s,t,r,e[6],15,-1560198380),r=Ss(r,i,s,t,e[13],21,1309151649),t=Ss(t,r,i,s,e[4],6,-145523070),s=Ss(s,t,r,i,e[11],10,-1120210379),i=Ss(i,s,t,r,e[2],15,718787259),r=Ss(r,i,s,t,e[9],21,-343485551),n[0]=Ch(t,n[0]),n[1]=Ch(r,n[1]),n[2]=Ch(i,n[2]),n[3]=Ch(s,n[3])}function z2(n,e,t,r,i,s){return e=Ch(Ch(e,n),Ch(r,s)),Ch(e<<i|e>>>32-i,t)}function ws(n,e,t,r,i,s,a){return z2(e&t|~e&r,n,e,i,s,a)}function _s(n,e,t,r,i,s,a){return z2(e&r|t&~r,n,e,i,s,a)}function xs(n,e,t,r,i,s,a){return z2(e^t^r,n,e,i,s,a)}function Ss(n,e,t,r,i,s,a){return z2(t^(e|~r),n,e,i,s,a)}function tL(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)qw(r,DJ(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(qw(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,qw(r,i),r}function DJ(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Ng=Ft.atob.bind(Ft),V5=Ft.btoa.bind(Ft);var CC="0123456789abcdef".split("");function kJ(n){for(var e="",t=0;t<4;t++)e+=CC[n>>8*t+4&15]+CC[n>>8*t&15];return e}function NJ(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function B5(n){return tL(n).map(NJ).join("")}var PJ=(function(n){for(var e=0;e<n.length;e++)n[e]=kJ(n[e]);return n.join("")})(tL("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ch(n,e){if(PJ){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function U5(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var d=l[c];h=(h+d+a.charCodeAt(c))%256,l[c]=l[h],l[h]=d}t=n,r=l}else l=r;var p=e.length,g=0,y=0,_="";for(c=0;c<p;c++)y=(y+(d=l[g=(g+1)%256]))%256,l[g]=l[y],l[y]=d,a=l[(l[g]+l[y])%256],_+=String.fromCharCode(e.charCodeAt(c)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var DC={print:4,modify:8,copy:16,"annot-forms":32};function hp(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach((function(l){if(DC.perm!==void 0)throw new Error("Invalid permission: "+l);i+=DC[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=B5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=U5(this.encryptionKey,this.padding)}function fp(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function kC(n){if(Gn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(l){Ft.console&&ar.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function a0(n){if(!(this instanceof a0))return new a0(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function nL(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Sh(n,e,t,r,i){if(!(this instanceof Sh))return new Sh(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,nL.call(this,r,i)}function Hf(n,e,t,r,i){if(!(this instanceof Hf))return new Hf(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,nL.call(this,r,i)}function Nt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,c=16,h="S",d=null;Gn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,g={},y={internal:{},__private__:{}};y.__private__.PubSub=kC;var _="1.3",S=y.__private__.getPdfVersion=function(){return _};y.__private__.setPdfVersion=function(D){_=D};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return T};var E=y.__private__.getPageFormat=function(D){return T[D]};i=i||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},N=A.COMPAT;function j(){this.saveGraphicsState(),ge(new ht(ut,0,0,-ut,0,Vi()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),h="n",N=A.ADVANCED}function U(){this.restoreGraphicsState(),h="S",N=A.COMPAT}var K=y.__private__.combineFontStyleAndFontWeight=function(D,ee){if(D=="bold"&&ee=="normal"||D=="bold"&&ee==400||D=="normal"&&ee=="italic"||D=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(D=ee==400||ee==="normal"?D==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||D!=="normal"?(ee==700?"bold":ee)+""+D:"bold"),D};y.advancedAPI=function(D){var ee=N===A.COMPAT;return ee&&j.call(this),typeof D!="function"||(D(this),ee&&U.call(this)),this},y.compatAPI=function(D){var ee=N===A.ADVANCED;return ee&&U.call(this),typeof D!="function"||(D(this),ee&&j.call(this)),this},y.isAdvancedAPI=function(){return N===A.ADVANCED};var M,k=function(D){if(N!==A.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=y.roundToPrecision=y.__private__.roundToPrecision=function(D,ee){var me=e||ee;if(isNaN(D)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(me).replace(/0+$/,"")};M=y.hpf=y.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return O(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return O(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return O(D,16)};var H=y.f2=y.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return O(D,2)},R=y.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return O(D,3)},L=y.scale=y.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return N===A.COMPAT?D*ut:N===A.ADVANCED?D:void 0},V=function(D){return N===A.COMPAT?Vi()-D:N===A.ADVANCED?D:void 0},se=function(D){return L(V(D))};y.__private__.setPrecision=y.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var pe,G="00000000000000000000000000000000",Q=y.__private__.getFileId=function(){return G},re=y.__private__.setFileId=function(D){return G=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():G.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),d!==null&&(zn=new hp(d.userPermissions,d.userPassword,d.ownerPassword,G)),G};y.setFileId=function(D){return re(D),this},y.getFileId=function(){return Q()};var J=y.__private__.convertDateToPDFDate=function(D){var ee=D.getTimezoneOffset(),me=ee<0?"+":"-",we=Math.floor(Math.abs(ee/60)),De=Math.abs(ee%60),ze=[me,te(we),"'",te(De),"'"].join("");return["D:",D.getFullYear(),te(D.getMonth()+1),te(D.getDate()),te(D.getHours()),te(D.getMinutes()),te(D.getSeconds()),ze].join("")},q=y.__private__.convertPDFDateToDate=function(D){var ee=parseInt(D.substr(2,4),10),me=parseInt(D.substr(6,2),10)-1,we=parseInt(D.substr(8,2),10),De=parseInt(D.substr(10,2),10),ze=parseInt(D.substr(12,2),10),Qe=parseInt(D.substr(14,2),10);return new Date(ee,me,we,De,ze,Qe,0)},oe=y.__private__.setCreationDate=function(D){var ee;if(D===void 0&&(D=new Date),D instanceof Date)ee=J(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=D}return pe=ee},F=y.__private__.getCreationDate=function(D){var ee=pe;return D==="jsDate"&&(ee=q(pe)),ee};y.setCreationDate=function(D){return oe(D),this},y.getCreationDate=function(D){return F(D)};var W,te=y.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ae=y.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},fe=0,_e=[],ve=[],be=0,je=[],Be=[],Ze=!1,tt=ve,pt=function(){fe=0,be=0,ve=[],_e=[],je=[],$i=wr(),fi=wr()};y.__private__.setCustomOutputDestination=function(D){Ze=!0,tt=D};var Ue=function(D){Ze||(tt=D)};y.__private__.resetCustomOutputDestination=function(){Ze=!1,tt=ve};var ge=y.__private__.out=function(D){return D=D.toString(),be+=D.length+1,tt.push(D),tt},Tt=y.__private__.write=function(D){return ge(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},yt=y.__private__.getArrayBuffer=function(D){for(var ee=D.length,me=new ArrayBuffer(ee),we=new Uint8Array(me);ee--;)we[ee]=D.charCodeAt(ee);return me},nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return nt};var rt=n.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(D){return rt=N===A.ADVANCED?D/ut:D,this};var ot,lt=y.__private__.getFontSize=y.getFontSize=function(){return N===A.COMPAT?rt:rt*ut},_t=n.R2L||!1;y.__private__.setR2L=y.setR2L=function(D){return _t=D,this},y.__private__.getR2L=y.getR2L=function(){return _t};var It,Ht=y.__private__.setZoomMode=function(D){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))ot=D;else if(isNaN(D)){if(ee.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');ot=D}else ot=parseInt(D,10)};y.__private__.getZoomMode=function(){return ot};var xt,wt=y.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');It=D};y.__private__.getPageMode=function(){return It};var Kt=y.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');xt=D};y.__private__.getLayoutMode=function(){return xt},y.__private__.setDisplayMode=y.setDisplayMode=function(D,ee,me){return Ht(D),Kt(ee),wt(me),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(D){if(Object.keys(vt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[D]},y.__private__.getDocumentProperties=function(){return vt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(D){for(var ee in vt)vt.hasOwnProperty(ee)&&D[ee]&&(vt[ee]=D[ee]);return this},y.__private__.setDocumentProperty=function(D,ee){if(Object.keys(vt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[D]=ee};var Xt,ut,vr,Zt,xi,tn={},Ln={},Li=[],hn={},fa={},Xn={},Gr={},Si=null,Qn=0,Dt=[],fn=new kC(y),as=n.hotfixes||[],br={},Ti={},Ps=[],ht=function D(ee,me,we,De,ze,Qe){if(!(this instanceof D))return new D(ee,me,we,De,ze,Qe);isNaN(ee)&&(ee=1),isNaN(me)&&(me=0),isNaN(we)&&(we=0),isNaN(De)&&(De=1),isNaN(ze)&&(ze=0),isNaN(Qe)&&(Qe=0),this._matrix=[ee,me,we,De,ze,Qe]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(D)},ht.prototype.multiply=function(D){var ee=D.sx*this.sx+D.shy*this.shx,me=D.sx*this.shy+D.shy*this.sy,we=D.shx*this.sx+D.sy*this.shx,De=D.shx*this.shy+D.sy*this.sy,ze=D.tx*this.sx+D.ty*this.shx+this.tx,Qe=D.tx*this.shy+D.ty*this.sy+this.ty;return new ht(ee,me,we,De,ze,Qe)},ht.prototype.decompose=function(){var D=this.sx,ee=this.shy,me=this.shx,we=this.sy,De=this.tx,ze=this.ty,Qe=Math.sqrt(D*D+ee*ee),st=(D/=Qe)*me+(ee/=Qe)*we;me-=D*st,we-=ee*st;var b=Math.sqrt(me*me+we*we);return st/=b,D*(we/=b)<ee*(me/=b)&&(D=-D,ee=-ee,st=-st,Qe=-Qe),{scale:new ht(Qe,0,0,b,0,0),translate:new ht(1,0,0,1,De,ze),rotate:new ht(D,ee,-ee,D,0,0),skew:new ht(1,0,st,1,0,0)}},ht.prototype.toString=function(D){return this.join(" ")},ht.prototype.inversed=function(){var D=this.sx,ee=this.shy,me=this.shx,we=this.sy,De=this.tx,ze=this.ty,Qe=1/(D*we-ee*me),st=we*Qe,b=-ee*Qe,I=-me*Qe,Y=D*Qe;return new ht(st,b,I,Y,-st*De-I*ze,-b*De-Y*ze)},ht.prototype.applyToPoint=function(D){var ee=D.x*this.sx+D.y*this.shx+this.tx,me=D.x*this.shy+D.y*this.sy+this.ty;return new No(ee,me)},ht.prototype.applyToRectangle=function(D){var ee=this.applyToPoint(D),me=this.applyToPoint(new No(D.x+D.w,D.y+D.h));return new pl(ee.x,ee.y,me.x-ee.x,me.y-ee.y)},ht.prototype.clone=function(){var D=this.sx,ee=this.shy,me=this.shx,we=this.sy,De=this.tx,ze=this.ty;return new ht(D,ee,me,we,De,ze)},y.Matrix=ht;var In=y.matrixMult=function(D,ee){return ee.multiply(D)},On=new ht(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=On;var ir=function(D,ee){if(!fa[D]){var me=(ee instanceof Sh?"Sh":"P")+(Object.keys(hn).length+1).toString(10);ee.id=me,fa[D]=me,hn[me]=ee,fn.publish("addPattern",ee)}};y.ShadingPattern=Sh,y.TilingPattern=Hf,y.addShadingPattern=function(D,ee){return k("addShadingPattern()"),ir(D,ee),this},y.beginTilingPattern=function(D){k("beginTilingPattern()"),Ya(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},y.endTilingPattern=function(D,ee){k("endTilingPattern()"),ee.stream=Be[W].join(`
`),ir(D,ee),fn.publish("endTilingPattern",ee),Ps.pop().restore()};var hr=y.__private__.newObject=function(){var D=wr();return jr(D,!0),D},wr=y.__private__.newObjectDeferred=function(){return fe++,_e[fe]=function(){return be},fe},jr=function(D,ee){return ee=typeof ee=="boolean"&&ee,_e[D]=be,ee&&ge(D+" 0 obj"),D},So=y.__private__.newAdditionalObject=function(){var D={objId:wr(),content:""};return je.push(D),D},$i=wr(),fi=wr(),Kr=y.__private__.decodeColorString=function(D){var ee=D.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var me=parseFloat(ee[0]);ee=[me,me,me,"r"]}for(var we="#",De=0;De<3;De++)we+=("0"+Math.floor(255*parseFloat(ee[De])).toString(16)).slice(-2);return we},Fr=y.__private__.encodeColorString=function(D){var ee;typeof D=="string"&&(D={ch1:D});var me=D.ch1,we=D.ch2,De=D.ch3,ze=D.ch4,Qe=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var st=new eL(me);if(st.ok)me=st.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var b=parseInt(me.substr(1),16);me=b>>16&255,we=b>>8&255,De=255&b}if(we===void 0||ze===void 0&&me===we&&we===De)if(typeof me=="string")ee=me+" "+Qe[0];else switch(D.precision){case 2:ee=H(me/255)+" "+Qe[0];break;case 3:default:ee=R(me/255)+" "+Qe[0]}else if(ze===void 0||Gn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return ee=["1.","1.","1.",Qe[1]].join(" ");if(typeof me=="string")ee=[me,we,De,Qe[1]].join(" ");else switch(D.precision){case 2:ee=[H(me/255),H(we/255),H(De/255),Qe[1]].join(" ");break;default:case 3:ee=[R(me/255),R(we/255),R(De/255),Qe[1]].join(" ")}}else if(typeof me=="string")ee=[me,we,De,ze,Qe[2]].join(" ");else switch(D.precision){case 2:ee=[H(me),H(we),H(De),H(ze),Qe[2]].join(" ");break;case 3:default:ee=[R(me),R(we),R(De),R(ze),Qe[2]].join(" ")}return ee},Xr=y.__private__.getFilters=function(){return a},Jn=y.__private__.putStream=function(D){var ee=(D=D||{}).data||"",me=D.filters||Xr(),we=D.alreadyAppliedFilters||[],De=D.addLength1||!1,ze=ee.length,Qe=D.objectId,st=function(Mt){return Mt};if(d!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(st=zn.encryptor(Qe,0));var b={};me===!0&&(me=["FlateEncode"]);var I=D.additionalKeyValues||[],Y=(b=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(ee,me):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(b.data.length!==0&&(I.push({key:"Length",value:b.data.length}),De===!0&&I.push({key:"Length1",value:ze})),Y.length!=0)if(Y.split("/").length-1==1)I.push({key:"Filter",value:Y});else{I.push({key:"Filter",value:"["+Y+"]"});for(var ce=0;ce<I.length;ce+=1)if(I[ce].key==="DecodeParms"){for(var Ce=[],Le=0;Le<b.reverseChain.split("/").length-1;Le+=1)Ce.push("null");Ce.push(I[ce].value),I[ce].value="["+Ce.join(" ")+"]"}}ge("<<");for(var Je=0;Je<I.length;Je++)ge("/"+I[Je].key+" "+I[Je].value);ge(">>"),b.data.length!==0&&(ge("stream"),ge(st(b.data)),ge("endstream"))},Cn=y.__private__.putPage=function(D){var ee=D.number,me=D.data,we=D.objId,De=D.contentsObjId;jr(we,!0),ge("<</Type /Page"),ge("/Parent "+D.rootDictionaryObjId+" 0 R"),ge("/Resources "+D.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(M(D.mediaBox.bottomLeftX))+" "+parseFloat(M(D.mediaBox.bottomLeftY))+" "+M(D.mediaBox.topRightX)+" "+M(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&ge("/CropBox ["+M(D.cropBox.bottomLeftX)+" "+M(D.cropBox.bottomLeftY)+" "+M(D.cropBox.topRightX)+" "+M(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&ge("/BleedBox ["+M(D.bleedBox.bottomLeftX)+" "+M(D.bleedBox.bottomLeftY)+" "+M(D.bleedBox.topRightX)+" "+M(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&ge("/TrimBox ["+M(D.trimBox.bottomLeftX)+" "+M(D.trimBox.bottomLeftY)+" "+M(D.trimBox.topRightX)+" "+M(D.trimBox.topRightY)+"]"),D.artBox!==null&&ge("/ArtBox ["+M(D.artBox.bottomLeftX)+" "+M(D.artBox.bottomLeftY)+" "+M(D.artBox.topRightX)+" "+M(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&ge("/UserUnit "+D.userUnit),fn.publish("putPage",{objId:we,pageContext:Dt[ee],pageNumber:ee,page:me}),ge("/Contents "+De+" 0 R"),ge(">>"),ge("endobj");var ze=me.join(`
`);return N===A.ADVANCED&&(ze+=`
Q`),jr(De,!0),Jn({data:ze,filters:Xr(),objectId:De}),ge("endobj"),we},da=y.__private__.putPages=function(){var D,ee,me=[];for(D=1;D<=Qn;D++)Dt[D].objId=wr(),Dt[D].contentsObjId=wr();for(D=1;D<=Qn;D++)me.push(Cn({number:D,data:Be[D],objId:Dt[D].objId,contentsObjId:Dt[D].contentsObjId,mediaBox:Dt[D].mediaBox,cropBox:Dt[D].cropBox,bleedBox:Dt[D].bleedBox,trimBox:Dt[D].trimBox,artBox:Dt[D].artBox,userUnit:Dt[D].userUnit,rootDictionaryObjId:$i,resourceDictionaryObjId:fi}));jr($i,!0),ge("<</Type /Pages");var we="/Kids [";for(ee=0;ee<Qn;ee++)we+=me[ee]+" 0 R ";ge(we+"]"),ge("/Count "+Qn),ge(">>"),ge("endobj"),fn.publish("postPutPages")},pa=function(D){fn.publish("putFont",{font:D,out:ge,newObject:hr,putStream:Jn}),D.isAlreadyPutted!==!0&&(D.objectNumber=hr(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+fp(D.postScriptName)),ge("/Subtype /Type1"),typeof D.encoding=="string"&&ge("/Encoding /"+D.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},Ii=function(){for(var D in tn)tn.hasOwnProperty(D)&&(p===!1||p===!0&&g.hasOwnProperty(D))&&pa(tn[D])},os=function(D){D.objectNumber=hr();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[M(D.x),M(D.y),M(D.x+D.width),M(D.y+D.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var me=D.pages[1].join(`
`);Jn({data:me,additionalKeyValues:ee,objectId:D.objectNumber}),ge("endobj")},To=function(){for(var D in br)br.hasOwnProperty(D)&&os(br[D])},_c=function(D,ee){var me,we=[],De=1/(ee-1);for(me=0;me<1;me+=De)we.push(me);if(we.push(1),D[0].offset!=0){var ze={offset:0,color:D[0].color};D.unshift(ze)}if(D[D.length-1].offset!=1){var Qe={offset:1,color:D[D.length-1].color};D.push(Qe)}for(var st="",b=0,I=0;I<we.length;I++){for(me=we[I];me>D[b+1].offset;)b++;var Y=D[b].offset,ce=(me-Y)/(D[b+1].offset-Y),Ce=D[b].color,Le=D[b+1].color;st+=ae(Math.round((1-ce)*Ce[0]+ce*Le[0]).toString(16))+ae(Math.round((1-ce)*Ce[1]+ce*Le[1]).toString(16))+ae(Math.round((1-ce)*Ce[2]+ce*Le[2]).toString(16))}return st.trim()},Eo=function(D,ee){ee||(ee=21);var me=hr(),we=_c(D.colors,ee),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+ee+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jn({data:we,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),ge("endobj"),D.objectNumber=hr(),ge("<< /ShadingType "+D.type),ge("/ColorSpace /DeviceRGB");var ze="/Coords ["+M(parseFloat(D.coords[0]))+" "+M(parseFloat(D.coords[1]))+" ";D.type===2?ze+=M(parseFloat(D.coords[2]))+" "+M(parseFloat(D.coords[3])):ze+=M(parseFloat(D.coords[2]))+" "+M(parseFloat(D.coords[3]))+" "+M(parseFloat(D.coords[4]))+" "+M(parseFloat(D.coords[5])),ge(ze+="]"),D.matrix&&ge("/Matrix ["+D.matrix.toString()+"]"),ge("/Function "+me+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},Pu=function(D,ee){var me=wr(),we=hr();ee.push({resourcesOid:me,objectOid:we}),D.objectNumber=we;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+D.boundingBox.map(M).join(" ")+"]"}),De.push({key:"XStep",value:M(D.xStep)}),De.push({key:"YStep",value:M(D.yStep)}),De.push({key:"Resources",value:me+" 0 R"}),D.matrix&&De.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Jn({data:D.stream,additionalKeyValues:De,objectId:D.objectNumber}),ge("endobj")},Rs=function(D){var ee;for(ee in hn)hn.hasOwnProperty(ee)&&(hn[ee]instanceof Sh?Eo(hn[ee]):hn[ee]instanceof Hf&&Pu(hn[ee],D))},Ms=function(D){for(var ee in D.objectNumber=hr(),ge("<<"),D)switch(ee){case"opacity":ge("/ca "+H(D[ee]));break;case"stroke-opacity":ge("/CA "+H(D[ee]))}ge(">>"),ge("endobj")},Qr=function(){var D;for(D in Xn)Xn.hasOwnProperty(D)&&Ms(Xn[D])},ma=function(){for(var D in ge("/XObject <<"),br)br.hasOwnProperty(D)&&br[D].objectNumber>=0&&ge("/"+D+" "+br[D].objectNumber+" 0 R");fn.publish("putXobjectDict"),ge(">>")},Ru=function(){zn.oid=hr(),ge("<<"),ge("/Filter /Standard"),ge("/V "+zn.v),ge("/R "+zn.r),ge("/U <"+zn.toHexString(zn.U)+">"),ge("/O <"+zn.toHexString(zn.O)+">"),ge("/P "+zn.P),ge(">>"),ge("endobj")},zs=function(){for(var D in ge("/Font <<"),tn)tn.hasOwnProperty(D)&&(p===!1||p===!0&&g.hasOwnProperty(D))&&ge("/"+D+" "+tn[D].objectNumber+" 0 R");ge(">>")},ll=function(){if(Object.keys(hn).length>0){for(var D in ge("/Shading <<"),hn)hn.hasOwnProperty(D)&&hn[D]instanceof Sh&&hn[D].objectNumber>=0&&ge("/"+D+" "+hn[D].objectNumber+" 0 R");fn.publish("putShadingPatternDict"),ge(">>")}},ga=function(D){if(Object.keys(hn).length>0){for(var ee in ge("/Pattern <<"),hn)hn.hasOwnProperty(ee)&&hn[ee]instanceof y.TilingPattern&&hn[ee].objectNumber>=0&&hn[ee].objectNumber<D&&ge("/"+ee+" "+hn[ee].objectNumber+" 0 R");fn.publish("putTilingPatternDict"),ge(">>")}},xc=function(){if(Object.keys(Xn).length>0){var D;for(D in ge("/ExtGState <<"),Xn)Xn.hasOwnProperty(D)&&Xn[D].objectNumber>=0&&ge("/"+D+" "+Xn[D].objectNumber+" 0 R");fn.publish("putGStateDict"),ge(">>")}},Zn=function(D){jr(D.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),zs(),ll(),ga(D.objectOid),xc(),ma(),ge(">>"),ge("endobj")},di=function(){var D=[];Ii(),Qr(),To(),Rs(D),fn.publish("putResources"),D.forEach(Zn),Zn({resourcesOid:fi,objectOid:Number.MAX_SAFE_INTEGER}),fn.publish("postPutResources")},cl=function(){fn.publish("putAdditionalObjects");for(var D=0;D<je.length;D++){var ee=je[D];jr(ee.objId,!0),ge(ee.content),ge("endobj")}fn.publish("postPutAdditionalObjects")},Mu=function(D){Ln[D.fontName]=Ln[D.fontName]||{},Ln[D.fontName][D.fontStyle]=D.id},ja=function(D,ee,me,we,De){var ze={id:"F"+(Object.keys(tn).length+1).toString(10),postScriptName:D,fontName:ee,fontStyle:me,encoding:we,isStandardFont:De||!1,metadata:{}};return fn.publish("addFont",{font:ze,instance:this}),tn[ze.id]=ze,Mu(ze),ze.id},Sc=function(D){for(var ee=0,me=nt.length;ee<me;ee++){var we=ja.call(this,D[ee][0],D[ee][1],D[ee][2],nt[ee][3],!0);p===!1&&(g[we]=!0);var De=D[ee][0].split("-");Mu({id:we,fontName:De[0],fontStyle:De[1]||""})}fn.publish("addFonts",{fonts:tn,dictionary:Ln})},Ei=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(we){var ee=we.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var me="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+we.message;if(!Ft.console)throw new Error(me);Ft.console.error(me,we),Ft.alert&&alert(me)}},D.foo.bar=D,D.foo},ul=function(D,ee){var me,we,De,ze,Qe,st,b,I,Y;if(De=(ee=ee||{}).sourceEncoding||"Unicode",Qe=ee.outputEncoding,(ee.autoencode||Qe)&&tn[Xt].metadata&&tn[Xt].metadata[De]&&tn[Xt].metadata[De].encoding&&(ze=tn[Xt].metadata[De].encoding,!Qe&&tn[Xt].encoding&&(Qe=tn[Xt].encoding),!Qe&&ze.codePages&&(Qe=ze.codePages[0]),typeof Qe=="string"&&(Qe=ze[Qe]),Qe)){for(b=!1,st=[],me=0,we=D.length;me<we;me++)(I=Qe[D.charCodeAt(me)])?st.push(String.fromCharCode(I)):st.push(D[me]),st[me].charCodeAt(0)>>8&&(b=!0);D=st.join("")}for(me=D.length;b===void 0&&me!==0;)D.charCodeAt(me-1)>>8&&(b=!0),me--;if(!b)return D;for(st=ee.noBOM?[]:[254,255],me=0,we=D.length;me<we;me++){if((Y=(I=D.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");st.push(Y),st.push(I-(Y<<8))}return String.fromCharCode.apply(void 0,st)},vn=y.__private__.pdfEscape=y.pdfEscape=function(D,ee){return ul(D,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ai=y.__private__.beginPage=function(D){Be[++Qn]=[],Dt[Qn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Hs(Qn),Ue(Be[W])},Fa=function(D,ee){var me,we,De;switch(t=ee||t,typeof D=="string"&&(me=E(D.toLowerCase()),Array.isArray(me)&&(we=me[0],De=me[1])),Array.isArray(D)&&(we=D[0]*ut,De=D[1]*ut),isNaN(we)&&(we=i[0],De=i[1]),(we>14400||De>14400)&&(ar.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),De=Math.min(14400,De)),i=[we,De],t.substr(0,1)){case"l":De>we&&(i=[De,we]);break;case"p":we>De&&(i=[De,we])}Ai(i),Cc(za),ge(Ci),Dc!==0&&ge(Dc+" J"),ko!==0&&ge(ko+" j"),fn.publish("addPage",{pageNumber:Qn})},Va=function(D){D>0&&D<=Qn&&(Be.splice(D,1),Dt.splice(D,1),Qn--,W>Qn&&(W=Qn),this.setPage(W))},Hs=function(D){D>0&&D<=Qn&&(W=D)},Dn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Be.length-1},Ba=function(D,ee,me){var we,De=void 0;return me=me||{},D=D!==void 0?D:tn[Xt].fontName,ee=ee!==void 0?ee:tn[Xt].fontStyle,we=D.toLowerCase(),Ln[we]!==void 0&&Ln[we][ee]!==void 0?De=Ln[we][ee]:Ln[D]!==void 0&&Ln[D][ee]!==void 0?De=Ln[D][ee]:me.disableWarning===!1&&ar.warn("Unable to look up font label for font '"+D+"', '"+ee+"'. Refer to getFontList() for available fonts."),De||me.noFallback||(De=Ln.times[ee])==null&&(De=Ln.times.normal),De},ls=y.__private__.putInfo=function(){var D=hr(),ee=function(we){return we};for(var me in d!==null&&(ee=zn.encryptor(D,0)),ge("<<"),ge("/Producer ("+vn(ee("jsPDF "+Nt.version))+")"),vt)vt.hasOwnProperty(me)&&vt[me]&&ge("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+vn(ee(vt[me]))+")");ge("/CreationDate ("+vn(ee(pe))+")"),ge(">>"),ge("endobj")},ya=y.__private__.putCatalog=function(D){var ee=(D=D||{}).rootDictionaryObjId||$i;switch(hr(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+ee+" 0 R"),ot||(ot="fullwidth"),ot){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+ot;me.substr(me.length-1)==="%"&&(ot=parseInt(ot)/100),typeof ot=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+H(ot)+"]")}switch(xt||(xt="continuous"),xt){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}It&&ge("/PageMode /"+It),fn.publish("putCatalog"),ge(">>"),ge("endobj")},Lu=y.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(fe+1)),ge("/Root "+fe+" 0 R"),ge("/Info "+(fe-1)+" 0 R"),d!==null&&ge("/Encrypt "+zn.oid+" 0 R"),ge("/ID [ <"+G+"> <"+G+"> ]"),ge(">>")},Tc=y.__private__.putHeader=function(){ge("%PDF-"+_),ge("%")},Ec=y.__private__.putXRef=function(){var D="0000000000";ge("xref"),ge("0 "+(fe+1)),ge("0000000000 65535 f ");for(var ee=1;ee<=fe;ee++)typeof _e[ee]=="function"?ge((D+_e[ee]()).slice(-10)+" 00000 n "):_e[ee]!==void 0?ge((D+_e[ee]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},va=y.__private__.buildDocument=function(){pt(),Ue(ve),fn.publish("buildDocument"),Tc(),da(),cl(),di(),d!==null&&Ru(),ls(),ya();var D=be;return Ec(),Lu(),ge("startxref"),ge(""+D),ge("%%EOF"),Ue(Be[W]),ve.join(`
`)},hl=y.__private__.getBlob=function(D){return new Blob([yt(D)],{type:"application/pdf"})},ba=y.output=y.__private__.output=Ei((function(D,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",D){case void 0:return va();case"save":y.save(ee.filename);break;case"arraybuffer":return yt(va());case"blob":return hl(va());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(hl(va()))||void 0;ar.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",we=va();try{me=V5(we)}catch{me=V5(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+ee.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(De=ee.pdfObjectUrl,ze="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",st=Ft.open();return st!==null&&st.document.write(Qe),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var b='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',I=Ft.open();if(I!==null){I.document.write(b);var Y=this;I.document.documentElement.querySelector("#pdfViewer").onload=function(){I.document.title=ee.filename,I.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Y.output("bloburl"))}}return I}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Ce=Ft.open();if(Ce!==null&&(Ce.document.write(ce),Ce.document.title=ee.filename),Ce||typeof safari>"u")return Ce;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",ee);default:return null}})),qs=function(D){return Array.isArray(as)===!0&&as.indexOf(D)>-1};switch(r){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=qs("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ut=r}var zn=null;oe(),re();var wa=function(D){return d!==null?zn.encryptor(D,0):function(ee){return ee}},Ws=y.__private__.getPageInfo=y.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[D].objId,pageNumber:D,pageContext:Dt[D]}},Rt=y.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Dt)if(Dt[ee].objId===D)break;return Ws(ee)},Ys=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Dt[W].objId,pageNumber:W,pageContext:Dt[W]}};y.addPage=function(){return Fa.apply(this,arguments),this},y.setPage=function(){return Hs.apply(this,arguments),Ue.call(this,Be[W]),this},y.insertPage=function(D){return this.addPage(),this.movePage(W,D),this},y.movePage=function(D,ee){var me,we;if(D>ee){me=Be[D],we=Dt[D];for(var De=D;De>ee;De--)Be[De]=Be[De-1],Dt[De]=Dt[De-1];Be[ee]=me,Dt[ee]=we,this.setPage(ee)}else if(D<ee){me=Be[D],we=Dt[D];for(var ze=D;ze<ee;ze++)Be[ze]=Be[ze+1],Dt[ze]=Dt[ze+1];Be[ee]=me,Dt[ee]=we,this.setPage(ee)}return this},y.deletePage=function(){return Va.apply(this,arguments),this},y.__private__.text=y.text=function(D,ee,me,we,De){var ze,Qe,st,b,I,Y,ce,Ce,Le,Je=(we=we||{}).scope||this;if(typeof D=="number"&&typeof ee=="number"&&(typeof me=="string"||Array.isArray(me))){var Mt=me;me=ee,ee=D,D=Mt}if(arguments[3]instanceof ht?(k("The transform parameter of text() with a Matrix value"),Le=De):(st=arguments[4],b=arguments[5],Gn(ce=arguments[3])==="object"&&ce!==null||(typeof st=="string"&&(b=st,st=null),typeof ce=="string"&&(b=ce,ce=null),typeof ce=="number"&&(st=ce,ce=null),we={flags:ce,angle:st,align:b})),isNaN(ee)||isNaN(me)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return Je;var on="",qt=!1,kn=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:an,Fn=Je.internal.scaleFactor;function Xs(nn){return nn=nn.split("	").join(Array(we.TabLen||9).join(" ")),vn(nn,ce)}function Cr(nn){for(var rn,er=nn.concat(),Dr=[],Js=er.length;Js--;)typeof(rn=er.shift())=="string"?Dr.push(rn):Array.isArray(nn)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?Dr.push(rn[0]):Dr.push([rn[0],rn[1],rn[2]]);return Dr}function fs(nn,rn){var er;if(typeof nn=="string")er=rn(nn)[0];else if(Array.isArray(nn)){for(var Dr,Js,El=nn.concat(),Al=[],Io=El.length;Io--;)typeof(Dr=El.shift())=="string"?Al.push(rn(Dr)[0]):Array.isArray(Dr)&&typeof Dr[0]=="string"&&(Js=rn(Dr[0],Dr[1],Dr[2]),Al.push([Js[0],Js[1],Js[2]]));er=Al}return er}var Ga=!1,gl=!0;if(typeof D=="string")Ga=!0;else if(Array.isArray(D)){var Fu=D.concat();Qe=[];for(var kc,Jr=Fu.length;Jr--;)(typeof(kc=Fu.shift())!="string"||Array.isArray(kc)&&typeof kc[0]!="string")&&(gl=!1);Ga=gl}if(Ga===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var yl=rt/Je.internal.scaleFactor,Nc=yl*(kn-1);switch(we.baseline){case"bottom":me-=Nc;break;case"top":me+=yl-Nc;break;case"hanging":me+=yl-2*Nc;break;case"middle":me+=yl/2-Nc}if((Y=we.maxWidth||0)>0&&(typeof D=="string"?D=Je.splitTextToSize(D,Y):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce((function(nn,rn){return nn.concat(Je.splitTextToSize(rn,Y))}),[]))),ze={text:D,x:ee,y:me,options:we,mutex:{pdfEscape:vn,activeFontKey:Xt,fonts:tn,activeFontSize:rt}},fn.publish("preProcessText",ze),D=ze.text,st=(we=ze.options).angle,!(Le instanceof ht)&&st&&typeof st=="number"){st*=Math.PI/180,we.rotationDirection===0&&(st=-st),N===A.ADVANCED&&(st=-st);var Pc=Math.cos(st),Vu=Math.sin(st);Le=new ht(Pc,Vu,-Vu,Pc,0,0)}else st&&st instanceof ht&&(Le=st);N!==A.ADVANCED||Le||(Le=On),(I=we.charSpace||Do)!==void 0&&(on+=M(L(I))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ce=we.horizontalScale)!==void 0&&(on+=M(100*Ce)+` Tz
`),we.lang;var ds=-1,om=we.renderingMode!==void 0?we.renderingMode:we.stroke,sf=Je.internal.getCurrentPageInfo().pageContext;switch(om){case 0:case!1:case"fill":ds=0;break;case 1:case!0:case"stroke":ds=1;break;case 2:case"fillThenStroke":ds=2;break;case 3:case"invisible":ds=3;break;case 4:case"fillAndAddForClipping":ds=4;break;case 5:case"strokeAndAddPathForClipping":ds=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ds=6;break;case 7:case"addToPathForClipping":ds=7}var Ed=sf.usedRenderingMode!==void 0?sf.usedRenderingMode:-1;ds!==-1?on+=ds+` Tr
`:Ed!==-1&&(on+=`0 Tr
`),ds!==-1&&(sf.usedRenderingMode=ds),b=we.align||"left";var Qs,pi=rt*kn,vl=Je.internal.pageSize.getWidth(),af=tn[Xt];I=we.charSpace||Do,Y=we.maxWidth||0,ce=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Mo=[],bl=function(nn){return Je.getStringUnitWidth(nn,{font:af,charSpace:I,fontSize:rt,doKerning:!1})*rt/Fn};if(Object.prototype.toString.call(D)==="[object Array]"){var Ki;Qe=Cr(D),b!=="left"&&(Qs=Qe.map(bl));var Di,wl=0;if(b==="right"){ee-=Qs[0],D=[],Jr=Qe.length;for(var ps=0;ps<Jr;ps++)ps===0?(Di=Fi(ee),Ki=Br(me)):(Di=L(wl-Qs[ps]),Ki=-pi),D.push([Qe[ps],Di,Ki]),wl=Qs[ps]}else if(b==="center"){ee-=Qs[0]/2,D=[],Jr=Qe.length;for(var Ta=0;Ta<Jr;Ta++)Ta===0?(Di=Fi(ee),Ki=Br(me)):(Di=L((wl-Qs[Ta])/2),Ki=-pi),D.push([Qe[Ta],Di,Ki]),wl=Qs[Ta]}else if(b==="left"){D=[],Jr=Qe.length;for(var Ka=0;Ka<Jr;Ka++)D.push(Qe[Ka])}else if(b==="justify"&&af.encoding==="Identity-H"){D=[],Jr=Qe.length,Y=Y!==0?Y:vl;for(var Ea=0,_r=0;_r<Jr;_r++)if(Ki=_r===0?Br(me):-pi,Di=_r===0?Fi(ee):Ea,_r<Jr-1){var Aa=L((Y-Qs[_r])/(Qe[_r].split(" ").length-1)),Ur=Qe[_r].split(" ");D.push([Ur[0]+" ",Di,Ki]),Ea=0;for(var ms=1;ms<Ur.length;ms++){var Rc=(bl(Ur[ms-1]+" "+Ur[ms])-bl(Ur[ms]))*Fn+Aa;ms==Ur.length-1?D.push([Ur[ms],Rc,0]):D.push([Ur[ms]+" ",Rc,0]),Ea-=Rc}}else D.push([Qe[_r],Di,Ki]);D.push(["",Ea,0])}else{if(b!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Jr=Qe.length,Y=Y!==0?Y:vl,_r=0;_r<Jr;_r++)Ki=_r===0?Br(me):-pi,Di=_r===0?Fi(ee):0,_r<Jr-1?Mo.push(M(L((Y-Qs[_r])/(Qe[_r].split(" ").length-1)))):Mo.push(0),D.push([Qe[_r],Di,Ki])}}var Xa=typeof we.R2L=="boolean"?we.R2L:_t;Xa===!0&&(D=fs(D,(function(nn,rn,er){return[nn.split("").reverse().join(""),rn,er]}))),ze={text:D,x:ee,y:me,options:we,mutex:{pdfEscape:vn,activeFontKey:Xt,fonts:tn,activeFontSize:rt}},fn.publish("postProcessText",ze),D=ze.text,qt=ze.mutex.isHex||!1;var Bu=tn[Xt].encoding;Bu!=="WinAnsiEncoding"&&Bu!=="StandardEncoding"||(D=fs(D,(function(nn,rn,er){return[Xs(nn),rn,er]}))),Qe=Cr(D),D=[];for(var _l,xl,Sl,Mc=0,Uu=1,Tl=Array.isArray(Qe[0])?Uu:Mc,Lo="",Lc=function(nn,rn,er){var Dr="";return er instanceof ht?(er=typeof we.angle=="number"?In(er,new ht(1,0,0,1,nn,rn)):In(new ht(1,0,0,1,nn,rn),er),N===A.ADVANCED&&(er=In(new ht(1,0,0,-1,0,0),er)),Dr=er.join(" ")+` Tm
`):Dr=M(nn)+" "+M(rn)+` Td
`,Dr},xr=0;xr<Qe.length;xr++){switch(Lo="",Tl){case Uu:Sl=(qt?"<":"(")+Qe[xr][0]+(qt?">":")"),_l=parseFloat(Qe[xr][1]),xl=parseFloat(Qe[xr][2]);break;case Mc:Sl=(qt?"<":"(")+Qe[xr]+(qt?">":")"),_l=Fi(ee),xl=Br(me)}Mo!==void 0&&Mo[xr]!==void 0&&(Lo=Mo[xr]+` Tw
`),xr===0?D.push(Lo+Lc(_l,xl,Le)+Sl):Tl===Mc?D.push(Lo+Sl):Tl===Uu&&D.push(Lo+Lc(_l,xl,Le)+Sl)}D=Tl===Mc?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Is=`BT
/`;return Is+=Xt+" "+rt+` Tf
`,Is+=M(rt*kn)+` TL
`,Is+=xa+`
`,Is+=on,Is+=D,ge(Is+="ET"),g[Xt]=!0,Je};var Iu=y.__private__.clip=y.clip=function(D){return ge(D==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Iu("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ge("n"),this};var Oi=y.__private__.isValidStyle=function(D){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(ee=!0),ee};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(D){return Oi(D)&&(h=D),this};var cs=y.__private__.getStyle=y.getStyle=function(D){var ee=h;switch(D){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=D}return ee},Gi=y.close=function(){return ge("h"),this};y.stroke=function(){return ge("S"),this},y.fill=function(D){return $s("f",D),this},y.fillEvenOdd=function(D){return $s("f*",D),this},y.fillStroke=function(D){return $s("B",D),this},y.fillStrokeEvenOdd=function(D){return $s("B*",D),this};var $s=function(D,ee){Gn(ee)==="object"?_a(ee,D):ge(D)},us=function(D){D===null||N===A.ADVANCED&&D===void 0||(D=cs(D),ge(D))};function Ua(D,ee,me,we,De){var ze=new Hf(ee||this.boundingBox,me||this.xStep,we||this.yStep,this.gState,De||this.matrix);ze.stream=this.stream;var Qe=D+"$$"+this.cloneIndex+++"$$";return ir(Qe,ze),ze}var _a=function(D,ee){var me=fa[D.key],we=hn[me];if(we instanceof Sh)ge("q"),ge(Ac(ee)),we.gState&&y.setGState(we.gState),ge(D.matrix.toString()+" cm"),ge("/"+me+" sh"),ge("Q");else if(we instanceof Hf){var De=new ht(1,0,0,-1,0,Vi());D.matrix&&(De=De.multiply(D.matrix||On),me=Ua.call(we,D.key,D.boundingBox,D.xStep,D.yStep,De).id),ge("q"),ge("/Pattern cs"),ge("/"+me+" scn"),we.gState&&y.setGState(we.gState),ge(ee),ge("Q")}},Ac=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},hs=y.moveTo=function(D,ee){return ge(M(L(D))+" "+M(se(ee))+" m"),this},ji=y.lineTo=function(D,ee){return ge(M(L(D))+" "+M(se(ee))+" l"),this},Gs=y.curveTo=function(D,ee,me,we,De,ze){return ge([M(L(D)),M(se(ee)),M(L(me)),M(se(we)),M(L(De)),M(se(ze)),"c"].join(" ")),this};y.__private__.line=y.line=function(D,ee,me,we,De){if(isNaN(D)||isNaN(ee)||isNaN(me)||isNaN(we)||!Oi(De))throw new Error("Invalid arguments passed to jsPDF.line");return N===A.COMPAT?this.lines([[me-D,we-ee]],D,ee,[1,1],De||"S"):this.lines([[me-D,we-ee]],D,ee,[1,1]).stroke()},y.__private__.lines=y.lines=function(D,ee,me,we,De,ze){var Qe,st,b,I,Y,ce,Ce,Le,Je,Mt,on,qt;if(typeof D=="number"&&(qt=me,me=ee,ee=D,D=qt),we=we||[1,1],ze=ze||!1,isNaN(ee)||isNaN(me)||!Array.isArray(D)||!Array.isArray(we)||!Oi(De)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hs(ee,me),Qe=we[0],st=we[1],I=D.length,Mt=ee,on=me,b=0;b<I;b++)(Y=D[b]).length===2?(Mt=Y[0]*Qe+Mt,on=Y[1]*st+on,ji(Mt,on)):(ce=Y[0]*Qe+Mt,Ce=Y[1]*st+on,Le=Y[2]*Qe+Mt,Je=Y[3]*st+on,Mt=Y[4]*Qe+Mt,on=Y[5]*st+on,Gs(ce,Ce,Le,Je,Mt,on));return ze&&Gi(),us(De),this},y.path=function(D){for(var ee=0;ee<D.length;ee++){var me=D[ee],we=me.c;switch(me.op){case"m":hs(we[0],we[1]);break;case"l":ji(we[0],we[1]);break;case"c":Gs.apply(this,we);break;case"h":Gi()}}return this},y.__private__.rect=y.rect=function(D,ee,me,we,De){if(isNaN(D)||isNaN(ee)||isNaN(me)||isNaN(we)||!Oi(De))throw new Error("Invalid arguments passed to jsPDF.rect");return N===A.COMPAT&&(we=-we),ge([M(L(D)),M(se(ee)),M(L(me)),M(L(we)),"re"].join(" ")),us(De),this},y.__private__.triangle=y.triangle=function(D,ee,me,we,De,ze,Qe){if(isNaN(D)||isNaN(ee)||isNaN(me)||isNaN(we)||isNaN(De)||isNaN(ze)||!Oi(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-D,we-ee],[De-me,ze-we],[D-De,ee-ze]],D,ee,[1,1],Qe,!0),this},y.__private__.roundedRect=y.roundedRect=function(D,ee,me,we,De,ze,Qe){if(isNaN(D)||isNaN(ee)||isNaN(me)||isNaN(we)||isNaN(De)||isNaN(ze)||!Oi(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*me),ze=Math.min(ze,.5*we),this.lines([[me-2*De,0],[De*st,0,De,ze-ze*st,De,ze],[0,we-2*ze],[0,ze*st,-De*st,ze,-De,ze],[2*De-me,0],[-De*st,0,-De,-ze*st,-De,-ze],[0,2*ze-we],[0,-ze*st,De*st,-ze,De,-ze]],D+De,ee,[1,1],Qe,!0),this},y.__private__.ellipse=y.ellipse=function(D,ee,me,we,De){if(isNaN(D)||isNaN(ee)||isNaN(me)||isNaN(we)||!Oi(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*me,Qe=4/3*(Math.SQRT2-1)*we;return hs(D+me,ee),Gs(D+me,ee-Qe,D+ze,ee-we,D,ee-we),Gs(D-ze,ee-we,D-me,ee-Qe,D-me,ee),Gs(D-me,ee+Qe,D-ze,ee+we,D,ee+we),Gs(D+ze,ee+we,D+me,ee+Qe,D+me,ee),us(De),this},y.__private__.circle=y.circle=function(D,ee,me,we){if(isNaN(D)||isNaN(ee)||isNaN(me)||!Oi(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,ee,me,me,we)},y.setFont=function(D,ee,me){return me&&(ee=K(ee,me)),Xt=Ba(D,ee,{disableWarning:!1}),this};var Vr=y.__private__.getFont=y.getFont=function(){return tn[Ba.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var D,ee,me={};for(D in Ln)if(Ln.hasOwnProperty(D))for(ee in me[D]=[],Ln[D])Ln[D].hasOwnProperty(ee)&&me[D].push(ee);return me},y.addFont=function(D,ee,me,we,De){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(me=K(me,we)),De=De||"Identity-H",ja.call(this,D,ee,me,De)};var an,za=n.lineWidth||.200025,Ks=y.__private__.getLineWidth=y.getLineWidth=function(){return za},Cc=y.__private__.setLineWidth=y.setLineWidth=function(D){return za=D,ge(M(L(D))+" w"),this};y.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(D,ee){if(D=D||[],ee=ee||0,isNaN(ee)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map((function(me){return M(L(me))})).join(" "),ee=M(L(ee)),ge("["+D+"] "+ee+" d"),this};var Ao=y.__private__.getLineHeight=y.getLineHeight=function(){return rt*an};y.__private__.getLineHeight=y.getLineHeight=function(){return rt*an};var Co=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(an=D),this},Ls=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return an};Co(n.lineHeight);var Fi=y.__private__.getHorizontalCoordinate=function(D){return L(D)},Br=y.__private__.getVerticalCoordinate=function(D){return N===A.ADVANCED?D:Dt[W].mediaBox.topRightY-Dt[W].mediaBox.bottomLeftY-L(D)},Ou=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(D){return M(Fi(D))},Ha=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(D){return M(Br(D))},Ci=n.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Kr(Ci)},y.__private__.setStrokeColor=y.setDrawColor=function(D,ee,me,we){return Ci=Fr({ch1:D,ch2:ee,ch3:me,ch4:we,pdfColorType:"draw",precision:2}),ge(Ci),this};var qa=n.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Kr(qa)},y.__private__.setFillColor=y.setFillColor=function(D,ee,me,we){return qa=Fr({ch1:D,ch2:ee,ch3:me,ch4:we,pdfColorType:"fill",precision:2}),ge(qa),this};var xa=n.textColor||"0 g",fl=y.__private__.getTextColor=y.getTextColor=function(){return Kr(xa)};y.__private__.setTextColor=y.setTextColor=function(D,ee,me,we){return xa=Fr({ch1:D,ch2:ee,ch3:me,ch4:we,pdfColorType:"text",precision:3}),this};var Do=n.charSpace,dl=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Do||0)};y.__private__.setCharSpace=y.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Do=D,this};var Dc=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(D){var ee=y.CapJoinStyles[D];if(ee===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dc=ee,ge(ee+" J"),this};var ko=0;y.__private__.setLineJoin=y.setLineJoin=function(D){var ee=y.CapJoinStyles[D];if(ee===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ko=ee,ge(ee+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(M(L(D))+" M"),this},y.GState=a0,y.setGState=function(D){(D=typeof D=="string"?Xn[Gr[D]]:Wa(null,D)).equals(Si)||(ge("/"+D.id+" gs"),Si=D)};var Wa=function(D,ee){if(!D||!Gr[D]){var me=!1;for(var we in Xn)if(Xn.hasOwnProperty(we)&&Xn[we].equals(ee)){me=!0;break}if(me)ee=Xn[we];else{var De="GS"+(Object.keys(Xn).length+1).toString(10);Xn[De]=ee,ee.id=De}return D&&(Gr[D]=ee.id),fn.publish("addGState",ee),ee}};y.addGState=function(D,ee){return Wa(D,ee),this},y.saveGraphicsState=function(){return ge("q"),Li.push({key:Xt,size:rt,color:xa}),this},y.restoreGraphicsState=function(){ge("Q");var D=Li.pop();return Xt=D.key,rt=D.size,xa=D.color,Si=null,this},y.setCurrentTransformationMatrix=function(D){return ge(D.toString()+" cm"),this},y.comment=function(D){return ge("#"+D),this};var No=function(D,ee){var me=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(ze){isNaN(ze)||(me=parseFloat(ze))}});var we=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(ze){isNaN(ze)||(we=parseFloat(ze))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(ze){De=ze.toString()}}),this},pl=function(D,ee,me,we){No.call(this,D,ee),this.type="rect";var De=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(Qe){isNaN(Qe)||(De=parseFloat(Qe))}});var ze=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(Qe){isNaN(Qe)||(ze=parseFloat(Qe))}}),this},Po=function(){this.page=Qn,this.currentPage=W,this.pages=Be.slice(0),this.pagesContext=Dt.slice(0),this.x=vr,this.y=Zt,this.matrix=xi,this.width=$a(W),this.height=Vi(W),this.outputDestination=tt,this.id="",this.objectNumber=-1};Po.prototype.restore=function(){Qn=this.page,W=this.currentPage,Dt=this.pagesContext,Be=this.pages,vr=this.x,Zt=this.y,xi=this.matrix,Ro(W,this.width),ml(W,this.height),tt=this.outputDestination};var Ya=function(D,ee,me,we,De){Ps.push(new Po),Qn=W=0,Be=[],vr=D,Zt=ee,xi=De,Ai([me,we])},ju=function(D){if(Ti[D])Ps.pop().restore();else{var ee=new Po,me="Xo"+(Object.keys(br).length+1).toString(10);ee.id=me,Ti[D]=me,br[me]=ee,fn.publish("addFormObject",ee),Ps.pop().restore()}};for(var Sa in y.beginFormObject=function(D,ee,me,we,De){return Ya(D,ee,me,we,De),this},y.endFormObject=function(D){return ju(D),this},y.doFormObject=function(D,ee){var me=br[Ti[D]];return ge("q"),ge(ee.toString()+" cm"),ge("/"+me.id+" Do"),ge("Q"),this},y.getFormObject=function(D){var ee=br[Ti[D]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},y.save=function(D,ee){return D=D||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(If(hl(va()),D),typeof If.unload=="function"&&Ft.setTimeout&&setTimeout(If.unload,911),this):new Promise((function(me,we){try{var De=If(hl(va()),D);typeof If.unload=="function"&&Ft.setTimeout&&setTimeout(If.unload,911),me(De)}catch(ze){we(ze.message)}}))},Nt.API)Nt.API.hasOwnProperty(Sa)&&(Sa==="events"&&Nt.API.events.length?(function(D,ee){var me,we,De;for(De=ee.length-1;De!==-1;De--)me=ee[De][0],we=ee[De][1],D.subscribe.apply(D,[me].concat(typeof we=="function"?[we]:we))})(fn,Nt.API.events):y[Sa]=Nt.API[Sa]);var $a=y.getPageWidth=function(D){return(Dt[D=D||W].mediaBox.topRightX-Dt[D].mediaBox.bottomLeftX)/ut},Ro=y.setPageWidth=function(D,ee){Dt[D].mediaBox.topRightX=ee*ut+Dt[D].mediaBox.bottomLeftX},Vi=y.getPageHeight=function(D){return(Dt[D=D||W].mediaBox.topRightY-Dt[D].mediaBox.bottomLeftY)/ut},ml=y.setPageHeight=function(D,ee){Dt[D].mediaBox.topRightY=ee*ut+Dt[D].mediaBox.bottomLeftY};return y.internal={pdfEscape:vn,getStyle:cs,getFont:Vr,getFontSize:lt,getCharSpace:dl,getTextColor:fl,getLineHeight:Ao,getLineHeightFactor:Ls,getLineWidth:Ks,write:Tt,getHorizontalCoordinate:Fi,getVerticalCoordinate:Br,getCoordinateString:Ou,getVerticalCoordinateString:Ha,collections:{},newObject:hr,newAdditionalObject:So,newObjectDeferred:wr,newObjectDeferredBegin:jr,getFilters:Xr,putStream:Jn,events:fn,scaleFactor:ut,pageSize:{getWidth:function(){return $a(W)},setWidth:function(D){Ro(W,D)},getHeight:function(){return Vi(W)},setHeight:function(D){ml(W,D)}},encryptionOptions:d,encryption:zn,getEncryptor:wa,output:ba,getNumberOfPages:Dn,pages:Be,out:ge,f2:H,f3:R,getPageInfo:Ws,getPageInfoByObjId:Rt,getCurrentPageInfo:Ys,getPDFVersion:S,Point:No,Rectangle:pl,Matrix:ht,hasHotfix:qs},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return $a(W)},set:function(D){Ro(W,D)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Vi(W)},set:function(D){ml(W,D)},enumerable:!0,configurable:!0}),Sc.call(y,nt),Xt="F1",Fa(i,t),fn.publish("initialized"),y}hp.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},hp.prototype.toHexString=function(n){return n.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},hp.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},hp.prototype.processOwnerPassword=function(n,e){return U5(B5(e).substr(0,5),n)},hp.prototype.encryptor=function(n,e){var t=B5(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return U5(t,r)}},a0.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Gn(n)!==Gn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Nt.API={events:[]},Nt.version="2.5.2";var Wr=Nt.API,IS=1,Td=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tp=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(n){return n.toFixed(2)},gh=function(n){return n.toFixed(5)};Wr.__acroform__={};var ha=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},NC=function(n){return n*IS},Ul=function(n){var e=new iL,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number($t(r)),Number($t(t))],e},RJ=Wr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},MJ=Wr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},LJ=Wr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},ai=Wr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return LJ(n,e-1)},oi=Wr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return RJ(n,e-1)},li=Wr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return MJ(n,e-1)},IJ=Wr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],l=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=r(s)||0,[Number($t(c.lowerLeft_X)),Number($t(c.lowerLeft_Y)),Number($t(c.upperRight_X)),Number($t(c.upperRight_Y))]},OJ=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=z5(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+$t(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ul(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},z5=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map((function(R){return R.split(`
`)})):i.map((function(R){return[R]}));var s=t,a=gt.internal.getHeight(n)||0;a=a<0?-a:a;var l=gt.internal.getWidth(n)||0;l=l<0?-l:l;var c=function(R,L,V){if(R+1<i.length){var se=L+" "+i[R+1][0];return iv(se,n,V).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var h,d,p=iv("3",n,s).height,g=n.multiline?a-s:(a-p)/2,y=g+=2,_=0,S=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+iv(e,n,s=12).width+", FieldWidth:"+l+`
`;break}for(var E="",A=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var j=!1;if(i[N].length!==1&&T!==i[N].length-1){if((p+2)*(A+2)+2>a)continue e;E+=i[N][T],j=!0,S=N,N--}else{E=(E+=i[N][T]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var U=parseInt(N),K=c(U,E,s),M=N>=i.length-1;if(K&&!M){E+=" ",T=0;continue}if(K||M){if(M)S=U;else if(n.multiline&&(p+2)*(A+2)+2>a)continue e}else{if(!n.multiline||(p+2)*(A+2)+2>a)continue e;S=U}}for(var k="",O=_;O<=S;O++){var H=i[O];if(n.multiline){if(O===S){k+=H[T]+" ",T=(T+1)%H.length;continue}if(O===_){k+=H[H.length-1]+" ";continue}}k+=H[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,d=iv(k,n,s).width,n.textAlign){case"right":h=l-d-2;break;case"center":h=(l-d)/2;break;case"left":default:h=2}e+=$t(h)+" "+$t(y)+` Td
`,e+="("+Td(k)+`) Tj
`,e+=-$t(h)+` 0 Td
`,y=-(s+2),d=0,_=j?S:S+1,A++,E=""}break}return r.text=e,r.fontSize=s,r},iv=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},jJ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},FJ=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find((function(r){return r.type===t.type&&r.object===t.object}))===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},VJ=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),Gn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},BJ=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(al.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(jJ)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");IS=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new sL,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",(function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)})),n.internal.events.subscribe("buildDocument",(function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&FJ(s,t)}})(n)})),n.internal.events.subscribe("putCatalog",(function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)})),n.internal.events.subscribe("postPutPages",(function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],c=[],h=l.Rect;if(l.Rect&&(l.Rect=IJ(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=gt.createDefaultAppearanceStream(l),Gn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=OJ(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var p="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var y=l.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var a in y)if(y.hasOwnProperty(a)){var _=y[a];typeof _=="function"&&(_=_.call(i,l)),p+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=y)=="function"&&(_=_.call(i,l)),p+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&VJ(i.internal.acroformPlugin.xForms,i)})(t,n)})),n.internal.acroformPlugin.isInitialized=!0}},rL=Wr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Gn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Td(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ww=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Td(r(n))+")"},Jl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jl.prototype.toString=function(){return this.objId+" 0 R"},Jl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Jl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter((function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"}));for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:rL(i,this.objId,this.scope)}):i instanceof Jl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var iL=function(){Jl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ha(iL,Jl);var sL=function(){Jl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Td(t(n))+")"}},set:function(t){n=t}})};ha(sL,Jl);var al=function n(){Jl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ai(e,3)},set:function(E){E?this.F=oi(e,3):this.F=li(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof I1)return;s="FieldObject"+n.FieldNum++}var E=function(A){return A};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Td(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/IS:h},set:function(E){h=E}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof I1||this instanceof Vh))return Ww(p,this.objId,this.scope)},set:function(E){E=E.toString(),p=E}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ni?g:Ww(g,this.objId,this.scope)},set:function(E){E=E.toString(),g=this instanceof Ni?E:E.substr(0,1)==="("?tp(E.substr(1,E.length-2)):tp(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni?tp(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof Ni?"/"+E:E}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ni?y:Ww(y,this.objId,this.scope)},set:function(E){E=E.toString(),y=this instanceof Ni?E:E.substr(0,1)==="("?tp(E.substr(1,E.length-2)):tp(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni?tp(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof Ni?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(E){E=!!E,S=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(E){_=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,1)},set:function(E){E?this.Ff=oi(this.Ff,1):this.Ff=li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,2)},set:function(E){E?this.Ff=oi(this.Ff,2):this.Ff=li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,3)},set:function(E){E?this.Ff=oi(this.Ff,3):this.Ff=li(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');T=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(T){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};ha(al,Jl);var Qf=function(){al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rL(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,a,l){l||(l=1);for(var c,h=[];c=a.exec(s);)h.push(c[l]);return h})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,18)},set:function(t){t?this.Ff=oi(this.Ff,18):this.Ff=li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=oi(this.Ff,19):this.Ff=li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,20)},set:function(t){t?(this.Ff=oi(this.Ff,20),e.sort()):this.Ff=li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,22)},set:function(t){t?this.Ff=oi(this.Ff,22):this.Ff=li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(t){t?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,27)},set:function(t){t?this.Ff=oi(this.Ff,27):this.Ff=li(this.Ff,27)}}),this.hasAppearanceStream=!1};ha(Qf,al);var Jf=function(){Qf.call(this),this.fontName="helvetica",this.combo=!1};ha(Jf,Qf);var Zf=function(){Jf.call(this),this.combo=!0};ha(Zf,Jf);var Pg=function(){Zf.call(this),this.edit=!0};ha(Pg,Zf);var Ni=function(){al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,15)},set:function(t){t?this.Ff=oi(this.Ff,15):this.Ff=li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,16)},set:function(t){t?this.Ff=oi(this.Ff,16):this.Ff=li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,17)},set:function(t){t?this.Ff=oi(this.Ff,17):this.Ff=li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(t){t?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Td(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Gn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ha(Ni,al);var Rg=function(){Ni.call(this),this.pushButton=!0};ha(Rg,Ni);var ed=function(){Ni.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ha(ed,Ni);var I1=function(){var n,e;al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Td(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Gn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ha(I1,al),ed.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},ed.prototype.createOption=function(n){var e=new I1;return e.Parent=this,e.optionName=n,this.Kids.push(e),UJ.call(this.scope,e),e};var Mg=function(){Ni.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};ha(Mg,Ni);var Vh=function(){al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,13)},set:function(e){e?this.Ff=oi(this.Ff,13):this.Ff=li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,21)},set:function(e){e?this.Ff=oi(this.Ff,21):this.Ff=li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(e){e?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,24)},set:function(e){e?this.Ff=oi(this.Ff,24):this.Ff=li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,25)},set:function(e){e?this.Ff=oi(this.Ff,25):this.Ff=li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(e){e?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ha(Vh,al);var Lg=function(){Vh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,14)},set:function(n){n?this.Ff=oi(this.Ff,14):this.Ff=li(this.Ff,14)}}),this.password=!0};ha(Lg,Vh);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=z5(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+$t(gt.internal.getWidth(n))+" "+$t(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+$t(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ul(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=gt.internal.getHeight(n),a=gt.internal.getWidth(n),l=z5(n,n.caption);return i.push("1 g"),i.push("0 0 "+$t(a)+" "+$t(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+$t(a-1)+" "+$t(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+$t(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(gt.internal.getWidth(n))+" "+$t(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=gt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+gh(gt.internal.getWidth(n)/2)+" "+gh(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5)),a=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gh(gt.internal.getWidth(n)/2)+" "+gh(gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+gh(gt.internal.getWidth(n)/2)+" "+gh(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gh(gt.internal.getWidth(n)/2)+" "+gh(gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ul(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+$t(gt.internal.getWidth(n)-2)+" "+$t(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push($t(r.x1.x)+" "+$t(r.x1.y)+" m"),t.push($t(r.x2.x)+" "+$t(r.x2.y)+" l"),t.push($t(r.x4.x)+" "+$t(r.x4.y)+" m"),t.push($t(r.x3.x)+" "+$t(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+$t(gt.internal.getWidth(n))+" "+$t(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+$t(gt.internal.getWidth(n)-2)+" "+$t(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push($t(t.x1.x)+" "+$t(t.x1.y)+" m"),r.push($t(t.x2.x)+" "+$t(t.x2.y)+" l"),r.push($t(t.x4.x)+" "+$t(t.x4.y)+" m"),r.push($t(t.x3.x)+" "+$t(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ul(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(gt.internal.getWidth(n))+" "+$t(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return Gn(n)==="object"&&(e=NC(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Gn(n)==="object"&&(e=NC(n.Rect[3])),e};var UJ=Wr.addField=function(n){if(BJ(this,n),!(n instanceof al))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Wr.AcroFormChoiceField=Qf,Wr.AcroFormListBox=Jf,Wr.AcroFormComboBox=Zf,Wr.AcroFormEditBox=Pg,Wr.AcroFormButton=Ni,Wr.AcroFormPushButton=Rg,Wr.AcroFormRadioButton=ed,Wr.AcroFormCheckBox=Mg,Wr.AcroFormTextField=Vh,Wr.AcroFormPasswordField=Lg,Wr.AcroFormAppearance=gt,Wr.AcroForm={ChoiceField:Qf,ListBox:Jf,ComboBox:Zf,EditBox:Pg,Button:Ni,PushButton:Rg,RadioButton:ed,CheckBox:Mg,TextField:Vh,PasswordField:Lg,Appearance:gt},Nt.AcroForm={ChoiceField:Qf,ListBox:Jf,ComboBox:Zf,EditBox:Pg,Button:Ni,PushButton:Rg,RadioButton:ed,CheckBox:Mg,TextField:Vh,PasswordField:Lg,Appearance:gt};var zJ=Nt.AcroForm;function aL(n){return n.reduce((function(e,t,r){return e[t]=r,e}),{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(R,L){var V,se,pe,G,Q,re=e;if((L=L||e)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(K(R))for(Q in t)for(pe=t[Q],V=0;V<pe.length;V+=1){for(G=!0,se=0;se<pe[V].length;se+=1)if(pe[V][se]!==void 0&&pe[V][se]!==R[se]){G=!1;break}if(G===!0){re=Q;break}}else for(Q in t)for(pe=t[Q],V=0;V<pe.length;V+=1){for(G=!0,se=0;se<pe[V].length;se+=1)if(pe[V][se]!==void 0&&pe[V][se]!==R.charCodeAt(se)){G=!1;break}if(G===!0){re=Q;break}}return re===e&&L!==e&&(re=L),re},i=function R(L){for(var V=this.internal.write,se=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:L.width}),G.push({key:"Height",value:L.height}),L.colorSpace===T.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===T.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var Q="",re=0,J=L.transparency.length;re<J;re++)Q+=L.transparency[re]+" "+L.transparency[re]+" ";G.push({key:"Mask",value:"["+Q+"]"})}L.sMask!==void 0&&G.push({key:"SMask",value:L.objectId+1+" 0 R"});var q=L.filter!==void 0?["/"+L.filter]:void 0;if(se({data:L.data,additionalKeyValues:G,alreadyAppliedFilters:q,objectId:L.objectId}),V("endobj"),"sMask"in L&&L.sMask!==void 0){var oe="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,F={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:oe,data:L.sMask};"filter"in L&&(F.filter=L.filter),R.call(this,F)}if(L.colorSpace===T.INDEXED){var W=this.internal.newObject();se({data:k(new Uint8Array(L.palette)),objectId:W}),V("endobj")}},s=function(){var R=this.internal.collections.addImage_images;for(var L in R)i.call(this,R[L])},a=function(){var R,L=this.internal.collections.addImage_images,V=this.internal.write;for(var se in L)V("/I"+(R=L[se]).index,R.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var R=this.internal.collections.addImage_images;return l.call(this),R},h=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(R){return typeof n["process"+R.toUpperCase()]=="function"},p=function(R){return Gn(R)==="object"&&R.nodeType===1},g=function(R,L){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var V=""+R.getAttribute("src");if(V.indexOf("data:image/")===0)return Ng(unescape(V).split("base64,").pop());var se=n.loadFile(V,!0);if(se!==void 0)return se}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var pe;switch(L){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return Ng(R.toDataURL(pe,1).split("base64,").pop())}},y=function(R){var L=this.internal.collections.addImage_images;if(L){for(var V in L)if(R===L[V].alias)return L[V]}},_=function(R,L,V){return R||L||(R=-96,L=-96),R<0&&(R=-1*V.width*72/R/this.internal.scaleFactor),L<0&&(L=-1*V.height*72/L/this.internal.scaleFactor),R===0&&(R=L*V.width/V.height),L===0&&(L=R*V.height/V.width),[R,L]},S=function(R,L,V,se,pe,G){var Q=_.call(this,V,se,pe),re=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,q=c.call(this);if(V=Q[0],se=Q[1],q[pe.index]=pe,G){G*=Math.PI/180;var oe=Math.cos(G),F=Math.sin(G),W=function(ae){return ae.toFixed(4)},te=[W(oe),W(F),W(-1*F),W(oe),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,re(R),J(L+se),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([re(V),"0","0",re(se),"0","0","cm"].join(" "))):this.internal.write([re(V),"0","0",re(se),re(R),J(L+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},T=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=n.__addimage__.sHashCode=function(R){var L,V,se=0;if(typeof R=="string")for(V=R.length,L=0;L<V;L++)se=(se<<5)-se+R.charCodeAt(L),se|=0;else if(K(R))for(V=R.byteLength/2,L=0;L<V;L++)se=(se<<5)-se+R[L],se|=0;return se},N=n.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var L=!0;return R.length===0&&(L=!1),R.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(L=!1),L},j=n.__addimage__.extractImageFromDataUrl=function(R){var L=(R=R||"").split("base64,"),V=null;if(L.length===2){var se=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(se)&&(V={mimeType:se[1],charset:se[2],data:L[1]})}return V},U=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(R){return U()&&R instanceof ArrayBuffer};var K=n.__addimage__.isArrayBufferView=function(R){return U()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},M=n.__addimage__.binaryStringToUint8Array=function(R){for(var L=R.length,V=new Uint8Array(L),se=0;se<L;se++)V[se]=R.charCodeAt(se);return V},k=n.__addimage__.arrayBufferToBinaryString=function(R){for(var L="",V=K(R)?R:new Uint8Array(R),se=0;se<V.length;se+=8192)L+=String.fromCharCode.apply(null,V.subarray(se,se+8192));return L};n.addImage=function(){var R,L,V,se,pe,G,Q,re,J;if(typeof arguments[1]=="number"?(L=e,V=arguments[1],se=arguments[2],pe=arguments[3],G=arguments[4],Q=arguments[5],re=arguments[6],J=arguments[7]):(L=arguments[1],V=arguments[2],se=arguments[3],pe=arguments[4],G=arguments[5],Q=arguments[6],re=arguments[7],J=arguments[8]),Gn(R=arguments[0])==="object"&&!p(R)&&"imageData"in R){var q=R;R=q.imageData,L=q.format||L||e,V=q.x||V||0,se=q.y||se||0,pe=q.w||q.width||pe,G=q.h||q.height||G,Q=q.alias||Q,re=q.compression||re,J=q.rotation||q.angle||J}var oe=this.internal.getFilters();if(re===void 0&&oe.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(V)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=O.call(this,R,L,Q,re);return S.call(this,V,se,pe,G,F,J),this};var O=function(R,L,V,se){var pe,G,Q;if(typeof R=="string"&&r(R)===e){R=unescape(R);var re=H(R,!1);(re!==""||(re=n.loadFile(R,!0))!==void 0)&&(R=re)}if(p(R)&&(R=g(R,L)),L=r(R,L),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((Q=V)==null||Q.length===0)&&(V=(function(J){return typeof J=="string"||K(J)?A(J):K(J.data)?A(J.data):null})(R)),(pe=y.call(this,V))||(U()&&(R instanceof Uint8Array||L==="RGBA"||(G=R,R=M(R))),pe=this["process"+L.toUpperCase()](R,h.call(this),V,(function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in n.image_compression?J:E.NONE})(se),G)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},H=n.__addimage__.convertBase64ToBinaryString=function(R,L){var V;L=typeof L!="boolean"||L;var se,pe="";if(typeof R=="string"){se=(V=j(R))!==null?V.data:R;try{pe=Ng(se)}catch(G){if(L)throw N(se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return pe};n.getImageProperties=function(R){var L,V,se="";if(p(R)&&(R=g(R)),typeof R=="string"&&r(R)===e&&((se=H(R,!1))===""&&(se=n.loadFile(R)||""),R=se),V=r(R),!d(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!U()||R instanceof Uint8Array||(R=M(R)),!(L=this["process"+V.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=V,L}})(Nt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Nt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,d=!1,p=0;p<h.length&&!d;p++)switch((r=h[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<h.length;g++){r=h[g];var y=this.internal.pdfEscape,_=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(S.objId),A=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+y(E(r.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+y(E(A))+") >>",S.content=s;var N=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(S.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var U=this.annotations._nameMap[r.options.name];r.options.pageNumber=U.page,r.options.top=U.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var K=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+K+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:h(r),w:c(t+i),h:h(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,l,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(t,l).length;a=Math.ceil(h*d)}else l=c,a=h;return this.text(t,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,l,a,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Nt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=n.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(S){var T=0,E=t,A="",N=0;for(T=0;T<S.length;T+=1)E[S.charCodeAt(T)]!==void 0?(N++,typeof(E=E[S.charCodeAt(T)])=="number"&&(A+=String.fromCharCode(E),E=t,N=0),T===S.length-1&&(E=t,A+=S.charAt(T-(N-1)),T-=N-1,N=0)):(E=t,A+=S.charAt(T-N),T-=N,N=0);return A};n.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(S,T,E){return a(S)?s(S)===!1?-1:!h(S)||!a(T)&&!a(E)||!a(E)&&l(T)||l(S)&&!a(T)||l(S)&&c(T)||l(S)&&l(T)?0:d(S)&&a(T)&&!l(T)&&a(E)&&h(E)?3:l(S)||!a(E)?1:2:-1},y=function(S){var T=0,E=0,A=0,N="",j="",U="",K=(S=S||"").split("\\s+"),M=[];for(T=0;T<K.length;T+=1){for(M.push(""),E=0;E<K[T].length;E+=1)N=K[T][E],j=K[T][E-1],U=K[T][E+1],a(N)?(A=g(N,j,U),M[T]+=A!==-1?String.fromCharCode(e[N.charCodeAt(0)][A]):N):M[T]+=N;M[T]=p(M[T])}return M.join(" ")},_=n.__arabicParser__.processArabic=n.processArabic=function(){var S,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(T)){var A=0;for(E=[],A=0;A<T.length;A+=1)Array.isArray(T[A])?E.push([y(T[A][0]),T[A][1],T[A][2]]):E.push([y(T[A])]);S=E}else S=y(T);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};n.events.push(["preProcessText",_])})(Nt.API),Nt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Nt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(S){_=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),g=h.scaleFactor||this.internal.scaleFactor,y=0,_=0,S=0,T=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var E=h.maxWidth;E>0?typeof c=="string"?c=this.splitTextToSize(c,E):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(N,j){return N.concat(T.splitTextToSize(j,E))}),[])):c=Array.isArray(c)?c:[c];for(var A=0;A<c.length;A++)y<(S=this.getStringUnitWidth(c[A],{font:p})*d)&&(y=S);return y!==0&&(_=c.length),{w:y/=g,h:Math.max((_*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,y&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,d,p,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var y,_,S,T,E=[],A=[],N=[],j={},U={},K=[],M=[],k=(g=g||{}).autoSize||!1,O=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,R=g.margins||Object.assign({width:this.getPageWidth()},e),L=typeof g.padding=="number"?g.padding:3,V=g.headerBackgroundColor||"#c8c8c8",se=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=se,this.setFontSize(H),p==null)A=E=Object.keys(d[0]),N=E.map((function(){return"left"}));else if(Array.isArray(p)&&Gn(p[0])==="object")for(E=p.map((function(q){return q.name})),A=p.map((function(q){return q.prompt||q.name||""})),N=p.map((function(q){return q.align||"left"})),y=0;y<p.length;y+=1)U[p[y].name]=p[y].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(A=E=p,N=E.map((function(){return"left"})));if(k||Array.isArray(p)&&typeof p[0]=="string")for(y=0;y<E.length;y+=1){for(j[T=E[y]]=d.map((function(q){return q[T]})),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(A[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=j[T],this.setFont(void 0,"normal"),S=0;S<_.length;S+=1)K.push(this.getTextDimensions(_[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[T]=Math.max.apply(null,K)+L+L,K=[]}if(O){var pe={};for(y=0;y<E.length;y+=1)pe[E[y]]={},pe[E[y]].text=A[y],pe[E[y]].align=N[y];var G=l.call(this,pe,U);M=E.map((function(q){return new s(c,h,U[q],G,pe[q].text,void 0,pe[q].align)})),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var Q=p.reduce((function(q,oe){return q[oe.name]=oe.align,q}),{});for(y=0;y<d.length;y+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:y,data:d[y]},this);var re=l.call(this,d[y],U);for(S=0;S<E.length;S+=1){var J=d[y][E[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:y,col:S,data:J},this),a.call(this,new s(c,h,U[E[S]],re,J,y+2,Q[E[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map((function(y){var _=c[y];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,h[y]-d-d)}),this).map((function(y){return this.getLineHeightFactor()*y.length*p/g+d+d}),this).reduce((function(y,_){return Math.max(y,_)}),0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){d=this.internal.__cell__.tableHeaderRow[y].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=c;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(_)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}})(Nt.API);var oL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],H5=aL(lL),cL=[100,200,300,400,500,600,700,800,900],HJ=aL(cL);function q5(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return oL[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}})(n.weight),i=(function(s){return typeof H5[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function PC(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var qJ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},RC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function MC(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function WJ(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},qJ,t.genericFontFamilies||{}),s=null,a=null,l=0;l<e.length;++l)if(i[(s=q5(e[l])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){a=n[s.family];break}if(!(a=a||n[r]))throw new Error("Could not find a font-family for the rule '"+MC(s)+"' and default family '"+r+"'.");if(a=(function(c,h){if(h[c])return h[c];var d=H5[c],p=d<=H5.normal?-1:1,g=PC(h,lL,d,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g})(s.stretch,a),a=(function(c,h){if(h[c])return h[c];for(var d=oL[c],p=0;p<d.length;++p)if(h[d[p]])return h[d[p]];throw new Error("Could not find a matching font-style for "+c)})(s.style,a),!(a=(function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var d=HJ[c],p=PC(h,cL,d,c<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+c);return p})(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+MC(s)+"'.");return a}function LC(n){return n.trimLeft()}function YJ(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function $J(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var sv,IC,OC,Yw=["times"];(function(n){var e,t,r,i,s,a,l,c,h,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new d}]);var p=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=F;Object.defineProperty(this,"pdf",{get:function(){return W}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Ue){te=!!Ue}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Ue){ae=!!Ue}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Ue){isNaN(Ue)||(fe=Ue)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(Ue){isNaN(Ue)||(_e=Ue)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ue){var ge;typeof Ue=="number"?ge=[Ue,Ue,Ue,Ue]:((ge=new Array(4))[0]=Ue[0],ge[1]=Ue.length>=2?Ue[1]:ge[0],ge[2]=Ue.length>=3?Ue[2]:ge[0],ge[3]=Ue.length>=4?Ue[3]:ge[1]),h.margin=ge}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Ue){ve=Ue}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(Ue){be=Ue}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Ue){je=Ue}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ue){Ue instanceof d&&(h=Ue)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ue){h.path=Ue}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(Ue){Be=Ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ue){var ge;ge=g(Ue),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ue){var ge=g(Ue);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ue){["butt","round","square"].indexOf(Ue)!==-1&&(this.ctx.lineCap=Ue,this.pdf.setLineCap(Ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ue){isNaN(Ue)||(this.ctx.lineWidth=Ue,this.pdf.setLineWidth(Ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ue){["bevel","round","miter"].indexOf(Ue)!==-1&&(this.ctx.lineJoin=Ue,this.pdf.setLineJoin(Ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ue){isNaN(Ue)||(this.ctx.miterLimit=Ue,this.pdf.setMiterLimit(Ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ue){this.ctx.textBaseline=Ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ue){["right","end","center","left","start"].indexOf(Ue)!==-1&&(this.ctx.textAlign=Ue)}});var Ze=null;function tt(Ue,ge){if(Ze===null){var Tt=(function(yt){var nt=[];return Object.keys(yt).forEach((function(rt){yt[rt].forEach((function(ot){var lt=null;switch(ot){case"bold":lt={family:rt,weight:"bold"};break;case"italic":lt={family:rt,style:"italic"};break;case"bolditalic":lt={family:rt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:rt}}lt!==null&&(lt.ref={name:rt,style:ot},nt.push(lt))}))})),nt})(Ue.getFontList());Ze=(function(yt){for(var nt={},rt=0;rt<yt.length;++rt){var ot=q5(yt[rt]),lt=ot.family,_t=ot.stretch,It=ot.style,Ht=ot.weight;nt[lt]=nt[lt]||{},nt[lt][_t]=nt[lt][_t]||{},nt[lt][_t][It]=nt[lt][_t][It]||{},nt[lt][_t][It][Ht]=ot}return nt})(Tt.concat(ge))}return Ze}var pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(Ue){Ze=null,pt=Ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ue){var ge;if(this.ctx.font=Ue,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ue))!==null){var Tt=ge[1],yt=(ge[2],ge[3]),nt=ge[4],rt=(ge[5],ge[6]),ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(nt)[2];nt=Math.floor(ot==="px"?parseFloat(nt)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(nt)*this.pdf.getFontSize():parseFloat(nt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(nt);var lt=(function(vt){var Xt,ut,vr=[],Zt=vt.trim();if(Zt==="")return Yw;if(Zt in RC)return[RC[Zt]];for(;Zt!=="";){switch(ut=null,Xt=(Zt=LC(Zt)).charAt(0)){case'"':case"'":ut=YJ(Zt.substring(1),Xt);break;default:ut=$J(Zt)}if(ut===null||(vr.push(ut[0]),(Zt=LC(ut[1]))!==""&&Zt.charAt(0)!==","))return Yw;Zt=Zt.replace(/^,/,"")}return vr})(rt);if(this.fontFaces){var _t=WJ(tt(this.pdf,this.fontFaces),lt.map((function(vt){return{family:vt,stretch:"normal",weight:yt,style:Tt}})));this.pdf.setFont(_t.ref.name,_t.ref.style)}else{var It="";(yt==="bold"||parseInt(yt,10)>=700||Tt==="bold")&&(It="bold"),Tt==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var Ht="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<lt.length;wt++){if(this.pdf.internal.getFont(lt[wt],It,{noFallback:!0,disableWarning:!0})!==void 0){Ht=lt[wt];break}if(It==="bolditalic"&&this.pdf.internal.getFont(lt[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=lt[wt],It="bold";else if(this.pdf.internal.getFont(lt[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=lt[wt],It="normal";break}}if(Ht===""){for(var Kt=0;Kt<lt.length;Kt++)if(xt[lt[Kt]]){Ht=xt[lt[Kt]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ue){this.ctx.globalCompositeOperation=Ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ue){this.ctx.globalAlpha=Ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ue){this.ctx.lineDashOffset=Ue,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ue){this.ctx.lineDash=Ue,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ue){this.ctx.ignoreClearRect=!!Ue}})};p.prototype.setLineDash=function(F){this.lineDash=F},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){j.call(this,"fill",!1)},p.prototype.stroke=function(){j.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(F,W){if(isNaN(F)||isNaN(W))throw ar.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new a(F,W));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new a(F,W)},p.prototype.closePath=function(){var F=new a(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Gn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){F=new a(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},p.prototype.lineTo=function(F,W){if(isNaN(F)||isNaN(W))throw ar.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new a(F,W));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},p.prototype.quadraticCurveTo=function(F,W,te,ae){if(isNaN(te)||isNaN(ae)||isNaN(F)||isNaN(W))throw ar.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new a(te,ae)),_e=this.ctx.transform.applyToPoint(new a(F,W));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},p.prototype.bezierCurveTo=function(F,W,te,ae,fe,_e){if(isNaN(fe)||isNaN(_e)||isNaN(F)||isNaN(W)||isNaN(te)||isNaN(ae))throw ar.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new a(fe,_e)),be=this.ctx.transform.applyToPoint(new a(F,W)),je=this.ctx.transform.applyToPoint(new a(te,ae));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:je.x,y2:je.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new a(ve.x,ve.y)},p.prototype.arc=function(F,W,te,ae,fe,_e){if(isNaN(F)||isNaN(W)||isNaN(te)||isNaN(ae)||isNaN(fe))throw ar.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new a(F,W));F=ve.x,W=ve.y;var be=this.ctx.transform.applyToPoint(new a(0,te)),je=this.ctx.transform.applyToPoint(new a(0,0));te=Math.sqrt(Math.pow(be.x-je.x,2)+Math.pow(be.y-je.y,2))}Math.abs(fe-ae)>=2*Math.PI&&(ae=0,fe=2*Math.PI),this.path.push({type:"arc",x:F,y:W,radius:te,startAngle:ae,endAngle:fe,counterclockwise:_e})},p.prototype.arcTo=function(F,W,te,ae,fe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(F,W,te,ae){if(isNaN(F)||isNaN(W)||isNaN(te)||isNaN(ae))throw ar.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,W),this.lineTo(F+te,W),this.lineTo(F+te,W+ae),this.lineTo(F,W+ae),this.lineTo(F,W),this.lineTo(F+te,W),this.lineTo(F,W)},p.prototype.fillRect=function(F,W,te,ae){if(isNaN(F)||isNaN(W)||isNaN(te)||isNaN(ae))throw ar.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,W,te,ae),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},p.prototype.strokeRect=function(F,W,te,ae){if(isNaN(F)||isNaN(W)||isNaN(te)||isNaN(ae))throw ar.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(F,W,te,ae),this.stroke())},p.prototype.clearRect=function(F,W,te,ae){if(isNaN(F)||isNaN(W)||isNaN(te)||isNaN(ae))throw ar.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,W,te,ae))},p.prototype.save=function(F){F=typeof F!="boolean"||F;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},p.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(W),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(F){var W,te,ae,fe;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))W=0,te=0,ae=0,fe=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(_e!==null)W=parseInt(_e[1]),te=parseInt(_e[2]),ae=parseInt(_e[3]),fe=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)W=parseInt(_e[1]),te=parseInt(_e[2]),ae=parseInt(_e[3]),fe=parseFloat(_e[4]);else{if(fe=1,typeof F=="string"&&F.charAt(0)!=="#"){var ve=new eL(F);F=ve.ok?ve.toHex():"#000000"}F.length===4?(W=F.substring(1,2),W+=W,te=F.substring(2,3),te+=te,ae=F.substring(3,4),ae+=ae):(W=F.substring(1,3),te=F.substring(3,5),ae=F.substring(5,7)),W=parseInt(W,16),te=parseInt(te,16),ae=parseInt(ae,16)}}return{r:W,g:te,b:ae,a:fe,style:F}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(F,W,te,ae){if(isNaN(W)||isNaN(te)||typeof F!="string")throw ar.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!y.call(this)){var fe=re(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;L.call(this,{text:F,x:W,y:te,scale:_e,angle:fe,align:this.textAlign,maxWidth:ae})}},p.prototype.strokeText=function(F,W,te,ae){if(isNaN(W)||isNaN(te)||typeof F!="string")throw ar.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){ae=isNaN(ae)?void 0:ae;var fe=re(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;L.call(this,{text:F,x:W,y:te,scale:_e,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ae})}},p.prototype.measureText=function(F){if(typeof F!="string")throw ar.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,te=this.pdf.internal.scaleFactor,ae=W.internal.getFontSize(),fe=W.getStringUnitWidth(F)*ae/W.internal.scaleFactor,_e=function(ve){var be=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this};return new _e({width:fe*=Math.round(96*te/72*1e4)/1e4})},p.prototype.scale=function(F,W){if(isNaN(F)||isNaN(W))throw ar.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new c(F,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},p.prototype.rotate=function(F){if(isNaN(F))throw ar.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.translate=function(F,W){if(isNaN(F)||isNaN(W))throw ar.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new c(1,0,0,1,F,W);this.ctx.transform=this.ctx.transform.multiply(te)},p.prototype.transform=function(F,W,te,ae,fe,_e){if(isNaN(F)||isNaN(W)||isNaN(te)||isNaN(ae)||isNaN(fe)||isNaN(_e))throw ar.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new c(F,W,te,ae,fe,_e);this.ctx.transform=this.ctx.transform.multiply(ve)},p.prototype.setTransform=function(F,W,te,ae,fe,_e){F=isNaN(F)?1:F,W=isNaN(W)?0:W,te=isNaN(te)?0:te,ae=isNaN(ae)?1:ae,fe=isNaN(fe)?0:fe,_e=isNaN(_e)?0:_e,this.ctx.transform=new c(F,W,te,ae,fe,_e)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(F,W,te,ae,fe,_e,ve,be,je){var Be=this.pdf.getImageProperties(F),Ze=1,tt=1,pt=1,Ue=1;ae!==void 0&&be!==void 0&&(pt=be/ae,Ue=je/fe,Ze=Be.width/ae*be/ae,tt=Be.height/fe*je/fe),_e===void 0&&(_e=W,ve=te,W=0,te=0),ae!==void 0&&be===void 0&&(be=ae,je=fe),ae===void 0&&be===void 0&&(be=Be.width,je=Be.height);for(var ge,Tt=this.ctx.transform.decompose(),yt=re(Tt.rotate.shx),nt=new c,rt=(nt=(nt=(nt=nt.multiply(Tt.translate)).multiply(Tt.skew)).multiply(Tt.scale)).applyToRectangle(new l(_e-W*pt,ve-te*Ue,ae*Ze,fe*tt)),ot=T.call(this,rt),lt=[],_t=0;_t<ot.length;_t+=1)lt.indexOf(ot[_t])===-1&&lt.push(ot[_t]);if(N(lt),this.autoPaging)for(var It=lt[0],Ht=lt[lt.length-1],xt=It;xt<Ht+1;xt++){this.pdf.setPage(xt);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=xt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=xt===1?0:vt+(xt-2)*Xt;if(this.ctx.clip_path.length!==0){var vr=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(ge,this.posX+this.margin[3],-ut+Kt+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=vr}var Zt=JSON.parse(JSON.stringify(rt));Zt=A([Zt],this.posX+this.margin[3],-ut+Kt+this.ctx.prevPageLastElemOffset)[0];var xi=(xt>It||xt<Ht)&&S.call(this);xi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Xt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,yt),xi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,yt)};var T=function(F,W,te){var ae=[];W=W||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":ae.push(Math.floor((F.y+fe)/te)+1);break;case"arc":ae.push(Math.floor((F.y+fe-F.radius)/te)+1),ae.push(Math.floor((F.y+fe+F.radius)/te)+1);break;case"qct":var _e=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);ae.push(Math.floor((_e.y+fe)/te)+1),ae.push(Math.floor((_e.y+_e.h+fe)/te)+1);break;case"bct":var ve=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);ae.push(Math.floor((ve.y+fe)/te)+1),ae.push(Math.floor((ve.y+ve.h+fe)/te)+1);break;case"rect":ae.push(Math.floor((F.y+fe)/te)+1),ae.push(Math.floor((F.y+F.h+fe)/te)+1)}for(var be=0;be<ae.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<ae[be];)E.call(this);return ae},E=function(){var F=this.fillStyle,W=this.strokeStyle,te=this.font,ae=this.lineCap,fe=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=W,this.font=te,this.lineCap=ae,this.lineWidth=fe,this.lineJoin=_e},A=function(F,W,te){for(var ae=0;ae<F.length;ae++)switch(F[ae].type){case"bct":F[ae].x2+=W,F[ae].y2+=te;case"qct":F[ae].x1+=W,F[ae].y1+=te;case"mt":case"lt":case"arc":default:F[ae].x+=W,F[ae].y+=te}return F},N=function(F){return F.sort((function(W,te){return W-te}))},j=function(F,W){for(var te,ae,fe=this.fillStyle,_e=this.strokeStyle,ve=this.lineCap,be=this.lineWidth,je=Math.abs(be*this.ctx.transform.scaleX),Be=this.lineJoin,Ze=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),pt=[],Ue=0;Ue<tt.length;Ue++)if(tt[Ue].x!==void 0)for(var ge=T.call(this,tt[Ue]),Tt=0;Tt<ge.length;Tt+=1)pt.indexOf(ge[Tt])===-1&&pt.push(ge[Tt]);for(var yt=0;yt<pt.length;yt++)for(;this.pdf.internal.getNumberOfPages()<pt[yt];)E.call(this);if(N(pt),this.autoPaging)for(var nt=pt[0],rt=pt[pt.length-1],ot=nt;ot<rt+1;ot++){this.pdf.setPage(ot),this.fillStyle=fe,this.strokeStyle=_e,this.lineCap=ve,this.lineWidth=je,this.lineJoin=Be;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=ot===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=ot===1?0:It+(ot-2)*Ht;if(this.ctx.clip_path.length!==0){var wt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(te,this.posX+this.margin[3],-xt+_t+this.ctx.prevPageLastElemOffset),U.call(this,F,!0),this.path=wt}if(ae=JSON.parse(JSON.stringify(Ze)),this.path=A(ae,this.posX+this.margin[3],-xt+_t+this.ctx.prevPageLastElemOffset),W===!1||ot===0){var Kt=(ot>nt||ot<rt)&&S.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Ht,null).clip().discardPath()),U.call(this,F,W),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=be}else this.lineWidth=je,U.call(this,F,W),this.lineWidth=be;this.path=Ze},U=function(F,W){if((F!=="stroke"||W||!_.call(this))&&(F==="stroke"||W||!y.call(this))){for(var te,ae,fe=[],_e=this.path,ve=0;ve<_e.length;ve++){var be=_e[ve];switch(be.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:be,deltas:[],abs:[]});break;case"lt":var je=fe.length;if(_e[ve-1]&&!isNaN(_e[ve-1].x)&&(te=[be.x-_e[ve-1].x,be.y-_e[ve-1].y],je>0)){for(;je>=0;je--)if(fe[je-1].close!==!0&&fe[je-1].begin!==!0){fe[je-1].deltas.push(te),fe[je-1].abs.push(be);break}}break;case"bct":te=[be.x1-_e[ve-1].x,be.y1-_e[ve-1].y,be.x2-_e[ve-1].x,be.y2-_e[ve-1].y,be.x-_e[ve-1].x,be.y-_e[ve-1].y],fe[fe.length-1].deltas.push(te);break;case"qct":var Be=_e[ve-1].x+2/3*(be.x1-_e[ve-1].x),Ze=_e[ve-1].y+2/3*(be.y1-_e[ve-1].y),tt=be.x+2/3*(be.x1-be.x),pt=be.y+2/3*(be.y1-be.y),Ue=be.x,ge=be.y;te=[Be-_e[ve-1].x,Ze-_e[ve-1].y,tt-_e[ve-1].x,pt-_e[ve-1].y,Ue-_e[ve-1].x,ge-_e[ve-1].y],fe[fe.length-1].deltas.push(te);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(be)}}ae=W?null:F==="stroke"?"stroke":"fill";for(var Tt=!1,yt=0;yt<fe.length;yt++)if(fe[yt].arc)for(var nt=fe[yt].abs,rt=0;rt<nt.length;rt++){var ot=nt[rt];ot.type==="arc"?k.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,W,!Tt):V.call(this,ot.x,ot.y),Tt=!0}else if(fe[yt].close===!0)this.pdf.internal.out("h"),Tt=!1;else if(fe[yt].begin!==!0){var lt=fe[yt].start.x,_t=fe[yt].start.y;se.call(this,fe[yt].deltas,lt,_t),Tt=!0}ae&&O.call(this,ae),W&&H.call(this)}},K=function(F){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-te;case"top":return F+W-te;case"hanging":return F+W-2*te;case"middle":return F+W/2-te;case"ideographic":return F;case"alphabetic":default:return F}},M=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(W,te){this.colorStops.push([W,te])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(F,W,te,ae,fe,_e,ve,be,je){for(var Be=G.call(this,te,ae,fe,_e),Ze=0;Ze<Be.length;Ze++){var tt=Be[Ze];Ze===0&&(je?R.call(this,tt.x1+F,tt.y1+W):V.call(this,tt.x1+F,tt.y1+W)),pe.call(this,F,W,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}be?H.call(this):O.call(this,ve)},O=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(F,W){this.pdf.internal.out(t(F)+" "+r(W)+" m")},L=function(F){var W;switch(F.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var te=this.pdf.getTextDimensions(F.text),ae=K.call(this,F.y),fe=M.call(this,ae)-te.h,_e=this.ctx.transform.applyToPoint(new a(F.x,ae)),ve=this.ctx.transform.decompose(),be=new c;be=(be=(be=be.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var je,Be,Ze,tt=this.ctx.transform.applyToRectangle(new l(F.x,ae,te.w,te.h)),pt=be.applyToRectangle(new l(F.x,fe,te.w,te.h)),Ue=T.call(this,pt),ge=[],Tt=0;Tt<Ue.length;Tt+=1)ge.indexOf(Ue[Tt])===-1&&ge.push(Ue[Tt]);if(N(ge),this.autoPaging)for(var yt=ge[0],nt=ge[ge.length-1],rt=yt;rt<nt+1;rt++){this.pdf.setPage(rt);var ot=rt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],It=_t-this.margin[0],Ht=this.pdf.internal.pageSize.width-this.margin[1],xt=Ht-this.margin[3],wt=rt===1?0:lt+(rt-2)*It;if(this.ctx.clip_path.length!==0){var Kt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(je,this.posX+this.margin[3],-1*wt+ot),U.call(this,"fill",!0),this.path=Kt}var vt=A([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-wt+ot+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*F.scale),Ze=this.lineWidth,this.lineWidth=Ze*F.scale);var Xt=this.autoPaging!=="text";if(Xt||vt.y+vt.h<=_t){if(Xt||vt.y>=ot&&vt.x<=Ht){var ut=Xt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ht-vt.x)[0],vr=A([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-wt+ot+this.ctx.prevPageLastElemOffset)[0],Zt=Xt&&(rt>yt||rt<nt)&&S.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,It,null).clip().discardPath()),this.pdf.text(ut,vr.x,vr.y,{angle:F.angle,align:W,renderingMode:F.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else vt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-vt.y);F.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=Ze)}else F.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*F.scale),Ze=this.lineWidth,this.lineWidth=Ze*F.scale),this.pdf.text(F.text,_e.x+this.posX,_e.y+this.posY,{angle:F.angle,align:W,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=Ze)},V=function(F,W,te,ae){te=te||0,ae=ae||0,this.pdf.internal.out(t(F+te)+" "+r(W+ae)+" l")},se=function(F,W,te){return this.pdf.lines(F,W,te,null,null)},pe=function(F,W,te,ae,fe,_e,ve,be){this.pdf.internal.out([e(i(te+F)),e(s(ae+W)),e(i(fe+F)),e(s(_e+W)),e(i(ve+F)),e(s(be+W)),"c"].join(" "))},G=function(F,W,te,ae){for(var fe=2*Math.PI,_e=Math.PI/2;W>te;)W-=fe;var ve=Math.abs(te-W);ve<fe&&ae&&(ve=fe-ve);for(var be=[],je=ae?-1:1,Be=W;ve>1e-5;){var Ze=Be+je*Math.min(ve,_e);be.push(Q.call(this,F,Be,Ze)),ve-=Math.abs(Ze-Be),Be=Ze}return be},Q=function(F,W,te){var ae=(te-W)/2,fe=F*Math.cos(ae),_e=F*Math.sin(ae),ve=fe,be=-_e,je=ve*ve+be*be,Be=je+ve*fe+be*_e,Ze=4/3*(Math.sqrt(2*je*Be)-Be)/(ve*_e-be*fe),tt=ve-Ze*be,pt=be+Ze*ve,Ue=tt,ge=-pt,Tt=ae+W,yt=Math.cos(Tt),nt=Math.sin(Tt);return{x1:F*Math.cos(W),y1:F*Math.sin(W),x2:tt*yt-pt*nt,y2:tt*nt+pt*yt,x3:Ue*yt-ge*nt,y3:Ue*nt+ge*yt,x4:F*Math.cos(te),y4:F*Math.sin(te)}},re=function(F){return 180*F/Math.PI},J=function(F,W,te,ae,fe,_e){var ve=F+.5*(te-F),be=W+.5*(ae-W),je=fe+.5*(te-fe),Be=_e+.5*(ae-_e),Ze=Math.min(F,fe,ve,je),tt=Math.max(F,fe,ve,je),pt=Math.min(W,_e,be,Be),Ue=Math.max(W,_e,be,Be);return new l(Ze,pt,tt-Ze,Ue-pt)},q=function(F,W,te,ae,fe,_e,ve,be){var je,Be,Ze,tt,pt,Ue,ge,Tt,yt,nt,rt,ot,lt,_t,It=te-F,Ht=ae-W,xt=fe-te,wt=_e-ae,Kt=ve-fe,vt=be-_e;for(Be=0;Be<41;Be++)yt=(ge=(Ze=F+(je=Be/40)*It)+je*((pt=te+je*xt)-Ze))+je*(pt+je*(fe+je*Kt-pt)-ge),nt=(Tt=(tt=W+je*Ht)+je*((Ue=ae+je*wt)-tt))+je*(Ue+je*(_e+je*vt-Ue)-Tt),Be==0?(rt=yt,ot=nt,lt=yt,_t=nt):(rt=Math.min(rt,yt),ot=Math.min(ot,nt),lt=Math.max(lt,yt),_t=Math.max(_t,nt));return new l(Math.round(rt),Math.round(ot),Math.round(lt-rt),Math.round(_t-ot))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,W,te=(F=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:W}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Nt.API),(function(n){var e=function(s){var a,l,c,h,d,p,g,y,_,S;for(l=[],c=0,h=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(d=((d=((d=((d=(d-(S=d%85))/85)-(_=d%85))/85)-(y=d%85))/85)-(g=d%85))/85)%85,l.push(p+33,g+33,y+33,_+33,S+33)):l.push(122);return(function(T,E){for(var A=E;A>0;A--)T.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var a,l,c,h,d,p=String,g="length",y=255,_="charCodeAt",S="slice",T="replace";for(s[S](-2),s=s[S](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),c=[],h=0,d=(s+=a="uuuuu"[S](s[g]%5||5))[g];d>h;h+=5)l=52200625*(s[_](h)-33)+614125*(s[_](h+1)-33)+7225*(s[_](h+2)-33)+85*(s[_](h+3)-33)+(s[_](h+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(E,A){for(var N=A;N>0;N--)E.pop()})(c,a[g]),p.fromCharCode.apply(p,c)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return s=(a=F5(a)).reduce((function(c,h){return c+String.fromCharCode(h)}),"")};n.processDataByFilters=function(s,a){var l=0,c=s||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)})).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}})(Nt.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=(function(c,h,d){var p=new XMLHttpRequest,g=0,y=function(_){var S=_.length,T=[],E=String.fromCharCode;for(g=0;g<S;g+=1)T.push(E(255&_.charCodeAt(g)));return T.join("")};if(p.open("GET",c,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?d(y(this.responseText)):d(void 0)}),p.send(null),h&&p.status===200)return y(p.responseText)})(i,s,a)}catch{}return l})(e,t,r)},n.loadImageFile=n.loadFile})(Nt.API),(function(n){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):M5(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch((function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))})).then((function(a){return a.default?a.default:a}))}function t(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):M5(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(a){return Promise.reject(new Error("Could not load dompurify: "+a))})).then((function(a){return a.default?a.default:a}))}var r=function(a){var l=Gn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then((function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a)){case"string":return this.then(t).then((function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})}));case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}}))},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(h,d){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),g=h.firstChild;g;g=g.nextSibling)d!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(c(g,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",(function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft}),!0)),p})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then((function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var y=h[g],_=y.src.find((function(S){return S.format==="truetype"}));_&&c.addFont(_.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a}))},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(a,l)}))},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}}))},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map((function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}}),this);return this.then((function(){return this.thenList(l)}))},s.prototype.get=function(a,l){return this.then((function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c}))},s.prototype.setMargin=function(a){return this.then((function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a})).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,h){return Math.floor(c*h/72*96)}return this.then((function(){(a=a||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a}))},s.prototype.setProgress=function(a,l,c,h){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,h){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,(function(h,d){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,(function(p){return c.updateProgress(null,h),p})).then(h,d).then((function(p){return c.updateProgress(1),p}))}))},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(h,a,l);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach((function(c){l=l.thenCore(c)})),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then((function(){throw new Error(a)}))},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Nt.getPageSize=function(a,l,c){if(Gn(a)==="object"){var h=a;a=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,p=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var y,_=0,S=0;if(g.hasOwnProperty(p))_=g[p][1]/d,S=g[p][0]/d;else try{_=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",S>_&&(y=S,S=_,_=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>S&&(y=S,S=_,_=y)}return{width:S,height:_,unit:l,k:d,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(q5):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}})(Nt.API),Nt.API.addJS=function(n){return OC=n,this.internal.events.subscribe("postPutResources",(function(){sv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),IC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+OC+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){sv!==void 0&&IC!==void 0&&this.internal.out("/Names <</JavaScript "+sv+" 0 R>>")})),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=r.exec(a);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var p=t.internal.newObject();d.push(p);var g=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Nt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,l){var c,h=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=(function(p){for(var g,y=256*p.charCodeAt(4)+p.charCodeAt(5),_=p.length,S={width:0,height:0,numcomponents:1},T=4;T<_;T+=2){if(T+=y,e.indexOf(p.charCodeAt(T+1))!==-1){g=256*p.charCodeAt(T+5)+p.charCodeAt(T+6),S={width:256*p.charCodeAt(T+7)+p.charCodeAt(T+8),height:g,numcomponents:p.charCodeAt(T+9)};break}y=256*p.charCodeAt(T+2)+p.charCodeAt(T+3)}return S})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}})(Nt.API);var np,av,jC,FC,VC,GJ=(function(){var n,e,t;function r(s){var a,l,c,h,d,p,g,y,_,S,T,E,A,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(a=this.readUInt32(),_=(function(){var j,U;for(U=[],j=0;j<4;++j)U.push(String.fromCharCode(this.data[this.pos++]));return U}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),h=this.readUInt16()||100,p.delay=1e3*d/h,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,a-=4),s=p?.data||this.imgData,E=0;0<=a?E<a:E>a;0<=a?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(A=0;0<=S?A<S:A>S;0<=S?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":g=(T=this.read(a)).indexOf(0),y=String.fromCharCode.apply(String,T.slice(0,g)),this.text[y]=String.fromCharCode.apply(String,T.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(p,g,y,_){var S,T,E,A,N,j,U,K,M,k,O,H,R,L,V,se,pe,G,Q,re,J,q=Math.ceil((h.width-p)/y),oe=Math.ceil((h.height-g)/_),F=h.width==q&&h.height==oe;for(L=a*q,H=F?l:new Uint8Array(L*oe),j=s.length,R=0,T=0;R<oe&&c<j;){switch(s[c++]){case 0:for(A=pe=0;pe<L;A=pe+=1)H[T++]=s[c++];break;case 1:for(A=G=0;G<L;A=G+=1)S=s[c++],N=A<a?0:H[T-a],H[T++]=(S+N)%256;break;case 2:for(A=Q=0;Q<L;A=Q+=1)S=s[c++],E=(A-A%a)/a,V=R&&H[(R-1)*L+E*a+A%a],H[T++]=(V+S)%256;break;case 3:for(A=re=0;re<L;A=re+=1)S=s[c++],E=(A-A%a)/a,N=A<a?0:H[T-a],V=R&&H[(R-1)*L+E*a+A%a],H[T++]=(S+Math.floor((N+V)/2))%256;break;case 4:for(A=J=0;J<L;A=J+=1)S=s[c++],E=(A-A%a)/a,N=A<a?0:H[T-a],R===0?V=se=0:(V=H[(R-1)*L+E*a+A%a],se=E&&H[(R-1)*L+(E-1)*a+A%a]),U=N+V-se,K=Math.abs(U-N),k=Math.abs(U-V),O=Math.abs(U-se),M=K<=k&&K<=O?N:k<=O?V:se,H[T++]=(S+M)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!F){var W=((g+R*_)*h.width+p)*a,te=R*L;for(A=0;A<q;A+=1){for(var ae=0;ae<a;ae+=1)l[W++]=H[te++];W+=(y-1)*a}}R++}}return s=EJ(s),h.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},r.prototype.decodePalette=function(){var s,a,l,c,h,d,p,g,y;for(l=this.palette,d=this.transparency.indexed||[],h=new Uint8Array((d.length||0)+l.length),c=0,s=0,a=p=0,g=l.length;p<g;a=p+=3)h[c++]=l[a],h[c++]=l[a+1],h[c++]=l[a+2],h[c++]=(y=d[s++])!=null?y:255;return h},r.prototype.copyToImageData=function(s,a){var l,c,h,d,p,g,y,_,S,T,E;if(c=this.colors,S=null,l=this.hasAlphaChannel,this.palette.length&&(S=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),c=4,l=!0),_=(h=s.data||s).length,p=S||a,d=g=0,c===1)for(;d<_;)y=S?4*a[d/4]:g,T=p[y++],h[d++]=T,h[d++]=T,h[d++]=T,h[d++]=l?p[y++]:255,g=y;else for(;d<_;)y=S?4*a[d/4]:g,h[d++]=p[y++],h[d++]=p[y++],h[d++]=p[y++],h[d++]=l?p[y++]:255,g=y},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ft)==="[object Window]"){try{e=Ft.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,l,c,h,d,p,g,y;if(this.animation){for(y=[],l=d=0,p=(g=this.animation.frames).length;d<p;l=++d)a=g[l],c=s.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,h),a.imageData=c,y.push(a.image=n(c));return y}},r.prototype.renderFrame=function(s,a){var l,c,h;return l=(c=this.animation.frames)[a],h=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),h?.disposeOp===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):h?.disposeOp===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var a,l,c,h,d,p,g=this;return l=0,p=this.animation,h=p.numFrames,c=p.frames,d=p.numPlays,(a=function(){var y,_;if(y=l++%h,_=c[y],g.renderFrame(s,y),h>1&&l/h<d)return g.animation._timeout=setTimeout(a,_.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function KJ(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<(7&i)+1;n[e++],n[e++];var l=null,c=null;s&&(l=e,c=a,e+=3*a);var h=!0,d=[],p=0,g=null,y=0,_=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,_=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=n[e++];p=n[e++]|n[e++]<<8,g=n[e++],(1&S)==0&&(g=null),y=S>>2&7,e++;break;case 254:for(;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var T=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,N=n[e++]|n[e++]<<8,j=n[e++],U=j>>6&1,K=1<<(7&j)+1,M=l,k=c,O=!1;j>>7&&(O=!0,M=e,k=K,e+=3*K);var H=e;for(e++;;){var R;if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}d.push({x:T,y:E,width:A,height:N,has_local_palette:O,palette_offset:M,palette_size:k,data_offset:H,data_length:e-H,transparent_index:g,interlaced:!!U,delay:p,disposal:y});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return _},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,V){var se=this.frameInfo(L),pe=se.width*se.height,G=new Uint8Array(pe);BC(n,se.data_offset,G,pe);var Q=se.palette_offset,re=se.transparent_index;re===null&&(re=256);var J=se.width,q=t-J,oe=J,F=4*(se.y*t+se.x),W=4*((se.y+se.height)*t+se.x),te=F,ae=4*q;se.interlaced===!0&&(ae+=4*t*7);for(var fe=8,_e=0,ve=G.length;_e<ve;++_e){var be=G[_e];if(oe===0&&(oe=J,(te+=ae)>=W&&(ae=4*q+4*t*(fe-1),te=F+(J+q)*(fe<<1),fe>>=1)),be===re)te+=4;else{var je=n[Q+3*be],Be=n[Q+3*be+1],Ze=n[Q+3*be+2];V[te++]=Ze,V[te++]=Be,V[te++]=je,V[te++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(L,V){var se=this.frameInfo(L),pe=se.width*se.height,G=new Uint8Array(pe);BC(n,se.data_offset,G,pe);var Q=se.palette_offset,re=se.transparent_index;re===null&&(re=256);var J=se.width,q=t-J,oe=J,F=4*(se.y*t+se.x),W=4*((se.y+se.height)*t+se.x),te=F,ae=4*q;se.interlaced===!0&&(ae+=4*t*7);for(var fe=8,_e=0,ve=G.length;_e<ve;++_e){var be=G[_e];if(oe===0&&(oe=J,(te+=ae)>=W&&(ae=4*q+4*t*(fe-1),te=F+(J+q)*(fe<<1),fe>>=1)),be===re)te+=4;else{var je=n[Q+3*be],Be=n[Q+3*be+1],Ze=n[Q+3*be+2];V[te++]=je,V[te++]=Be,V[te++]=Ze,V[te++]=255}--oe}}}function BC(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,l=a+1,c=i+1,h=(1<<c)-1,d=0,p=0,g=0,y=n[e++],_=new Int32Array(4096),S=null;;){for(;d<16&&y!==0;)p|=n[e++]<<d,d+=8,y===1?y=n[e++]:--y;if(d<c)break;var T=p&h;if(p>>=c,d-=c,T!==s){if(T===a)break;for(var E=T<l?T:S,A=0,N=E;N>s;)N=_[N]>>8,++A;var j=N;if(g+A+(E!==T?1:0)>r)return void ar.log("Warning, gif stream longer than expected.");t[g++]=j;var U=g+=A;for(E!==T&&(t[g++]=j),N=E;A--;)N=_[N],t[--U]=255&N,N>>=8;S!==null&&l<4096&&(_[l++]=S<<8|j,l>=h+1&&c<12&&(++c,h=h<<1|1)),S=T}else l=a+1,h=(1<<(c=i+1))-1,S=null}return g!==r&&ar.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $w(n){var e,t,r,i,s,a=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),y=new Array(64),_=new Array(64),S=[],T=0,E=7,A=new Array(64),N=new Array(64),j=new Array(64),U=new Array(256),K=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(F,W){for(var te=0,ae=0,fe=new Array,_e=1;_e<=16;_e++){for(var ve=1;ve<=F[_e];ve++)fe[W[ae]]=[],fe[W[ae]][0]=te,fe[W[ae]][1]=_e,ae++,te++;te*=2}return fe}function Q(F){for(var W=F[0],te=F[1]-1;te>=0;)W&1<<te&&(T|=1<<E),te--,--E<0&&(T==255?(re(255),re(0)):re(T),E=7,T=0)}function re(F){S.push(F)}function J(F){re(F>>8&255),re(255&F)}function q(F,W,te,ae,fe){for(var _e,ve=fe[0],be=fe[240],je=(function(nt,rt){var ot,lt,_t,It,Ht,xt,wt,Kt,vt,Xt,ut=0;for(vt=0;vt<8;++vt){ot=nt[ut],lt=nt[ut+1],_t=nt[ut+2],It=nt[ut+3],Ht=nt[ut+4],xt=nt[ut+5],wt=nt[ut+6];var vr=ot+(Kt=nt[ut+7]),Zt=ot-Kt,xi=lt+wt,tn=lt-wt,Ln=_t+xt,Li=_t-xt,hn=It+Ht,fa=It-Ht,Xn=vr+hn,Gr=vr-hn,Si=xi+Ln,Qn=xi-Ln;nt[ut]=Xn+Si,nt[ut+4]=Xn-Si;var Dt=.707106781*(Qn+Gr);nt[ut+2]=Gr+Dt,nt[ut+6]=Gr-Dt;var fn=.382683433*((Xn=fa+Li)-(Qn=tn+Zt)),as=.5411961*Xn+fn,br=1.306562965*Qn+fn,Ti=.707106781*(Si=Li+tn),Ps=Zt+Ti,ht=Zt-Ti;nt[ut+5]=ht+as,nt[ut+3]=ht-as,nt[ut+1]=Ps+br,nt[ut+7]=Ps-br,ut+=8}for(ut=0,vt=0;vt<8;++vt){ot=nt[ut],lt=nt[ut+8],_t=nt[ut+16],It=nt[ut+24],Ht=nt[ut+32],xt=nt[ut+40],wt=nt[ut+48];var In=ot+(Kt=nt[ut+56]),On=ot-Kt,ir=lt+wt,hr=lt-wt,wr=_t+xt,jr=_t-xt,So=It+Ht,$i=It-Ht,fi=In+So,Kr=In-So,Fr=ir+wr,Xr=ir-wr;nt[ut]=fi+Fr,nt[ut+32]=fi-Fr;var Jn=.707106781*(Xr+Kr);nt[ut+16]=Kr+Jn,nt[ut+48]=Kr-Jn;var Cn=.382683433*((fi=$i+jr)-(Xr=hr+On)),da=.5411961*fi+Cn,pa=1.306562965*Xr+Cn,Ii=.707106781*(Fr=jr+hr),os=On+Ii,To=On-Ii;nt[ut+40]=To+da,nt[ut+24]=To-da,nt[ut+8]=os+pa,nt[ut+56]=os-pa,ut++}for(vt=0;vt<64;++vt)Xt=nt[vt]*rt[vt],y[vt]=Xt>0?Xt+.5|0:Xt-.5|0;return y})(F,W),Be=0;Be<64;++Be)_[M[Be]]=je[Be];var Ze=_[0]-te;te=_[0],Ze==0?Q(ae[0]):(Q(ae[g[_e=32767+Ze]]),Q(p[_e]));for(var tt=63;tt>0&&_[tt]==0;)tt--;if(tt==0)return Q(ve),te;for(var pt,Ue=1;Ue<=tt;){for(var ge=Ue;_[Ue]==0&&Ue<=tt;)++Ue;var Tt=Ue-ge;if(Tt>=16){pt=Tt>>4;for(var yt=1;yt<=pt;++yt)Q(be);Tt&=15}_e=32767+_[Ue],Q(fe[(Tt<<4)+g[_e]]),Q(p[_e]),Ue++}return tt!=63&&Q(ve),te}function oe(F){F=Math.min(Math.max(F,1),100),s!=F&&((function(W){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var fe=a((te[ae]*W+50)/100);fe=Math.min(Math.max(fe,1),255),l[M[ae]]=fe}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var be=a((_e[ve]*W+50)/100);be=Math.min(Math.max(be,1),255),c[M[ve]]=be}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,Ze=0;Ze<8;Ze++)for(var tt=0;tt<8;tt++)h[Be]=1/(l[M[Be]]*je[Ze]*je[tt]*8),d[Be]=1/(c[M[Be]]*je[Ze]*je[tt]*8),Be++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,W){W&&oe(W),S=new Array,T=0,E=7,J(65496),J(65504),J(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),J(1),J(1),re(0),re(0),(function(){J(65499),J(132),re(0);for(var lt=0;lt<64;lt++)re(l[lt]);re(1);for(var _t=0;_t<64;_t++)re(c[_t])})(),(function(lt,_t){J(65472),J(17),re(8),J(_t),J(lt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(F.width,F.height),(function(){J(65476),J(418),re(0);for(var lt=0;lt<16;lt++)re(k[lt+1]);for(var _t=0;_t<=11;_t++)re(O[_t]);re(16);for(var It=0;It<16;It++)re(H[It+1]);for(var Ht=0;Ht<=161;Ht++)re(R[Ht]);re(1);for(var xt=0;xt<16;xt++)re(L[xt+1]);for(var wt=0;wt<=11;wt++)re(V[wt]);re(17);for(var Kt=0;Kt<16;Kt++)re(se[Kt+1]);for(var vt=0;vt<=161;vt++)re(pe[vt])})(),J(65498),J(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var te=0,ae=0,fe=0;T=0,E=7,this.encode.displayName="_encode_";for(var _e,ve,be,je,Be,Ze,tt,pt,Ue,ge=F.data,Tt=F.width,yt=F.height,nt=4*Tt,rt=0;rt<yt;){for(_e=0;_e<nt;){for(Be=nt*rt+_e,tt=-1,pt=0,Ue=0;Ue<64;Ue++)Ze=Be+(pt=Ue>>3)*nt+(tt=4*(7&Ue)),rt+pt>=yt&&(Ze-=nt*(rt+1+pt-yt)),_e+tt>=nt&&(Ze-=_e+tt-nt+4),ve=ge[Ze++],be=ge[Ze++],je=ge[Ze++],A[Ue]=(K[ve]+K[be+256>>0]+K[je+512>>0]>>16)-128,N[Ue]=(K[ve+768>>0]+K[be+1024>>0]+K[je+1280>>0]>>16)-128,j[Ue]=(K[ve+1280>>0]+K[be+1536>>0]+K[je+1792>>0]>>16)-128;te=q(A,h,te,e,r),ae=q(N,d,ae,t,i),fe=q(j,d,fe,t,i),_e+=32}rt+=8}if(E>=0){var ot=[];ot[1]=E+1,ot[0]=(1<<E+1)-1,Q(ot)}return J(65497),new Uint8Array(S)},n=n||50,(function(){for(var F=String.fromCharCode,W=0;W<256;W++)U[W]=F(W)})(),e=G(k,O),t=G(L,V),r=G(H,R),i=G(se,pe),(function(){for(var F=1,W=2,te=1;te<=15;te++){for(var ae=F;ae<W;ae++)g[32767+ae]=te,p[32767+ae]=[],p[32767+ae][1]=te,p[32767+ae][0]=ae;for(var fe=-(W-1);fe<=-F;fe++)g[32767+fe]=te,p[32767+fe]=[],p[32767+fe][1]=te,p[32767+fe][0]=W-1+fe;F<<=1,W<<=1}})(),(function(){for(var F=0;F<256;F++)K[F]=19595*F,K[F+256>>0]=38470*F,K[F+512>>0]=7471*F+32768,K[F+768>>0]=-11059*F,K[F+1024>>0]=-21709*F,K[F+1280>>0]=32768*F+8421375,K[F+1536>>0]=-27439*F,K[F+1792>>0]=-5329*F})(),oe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function UC(n){function e(k){if(!k)throw Error("assert :P")}function t(k,O,H){for(var R=0;4>R;R++)if(k[O+R]!=H.charCodeAt(R))return!0;return!1}function r(k,O,H,R,L){for(var V=0;V<L;V++)k[O+V]=H[R+V]}function i(k,O,H,R){for(var L=0;L<R;L++)k[O+L]=H}function s(k){return new Int32Array(k)}function a(k,O){for(var H=[],R=0;R<k;R++)H.push(new O);return H}function l(k,O){var H=[];return(function R(L,V,se){for(var pe=se[V],G=0;G<pe&&(L.push(se.length>V+1?[]:new O),!(se.length<V+1));G++)R(L[G],V+1,se)})(H,0,k),H}var c=function(){var k=this;function O(v,x){for(var P=1<<x-1>>>0;v&P;)P>>>=1;return P?(v&P-1)+P:v}function H(v,x,P,z,Z){e(!(z%P));do v[x+(z-=P)]=Z;while(0<z)}function R(v,x,P,z,Z){if(e(2328>=Z),512>=Z)var ne=s(512);else if((ne=s(Z))==null)return 0;return(function(ie,le,he,de,xe,Me){var Pe,ke,$e=le,Ve=1<<he,Se=s(16),Ae=s(16);for(e(xe!=0),e(de!=null),e(ie!=null),e(0<he),ke=0;ke<xe;++ke){if(15<de[ke])return 0;++Se[de[ke]]}if(Se[0]==xe)return 0;for(Ae[1]=0,Pe=1;15>Pe;++Pe){if(Se[Pe]>1<<Pe)return 0;Ae[Pe+1]=Ae[Pe]+Se[Pe]}for(ke=0;ke<xe;++ke)Pe=de[ke],0<de[ke]&&(Me[Ae[Pe]++]=ke);if(Ae[15]==1)return(de=new L).g=0,de.value=Me[0],H(ie,$e,1,Ve,de),Ve;var He,Ge=-1,We=Ve-1,ft=0,it=1,Et=1,at=1<<he;for(ke=0,Pe=1,xe=2;Pe<=he;++Pe,xe<<=1){if(it+=Et<<=1,0>(Et-=Se[Pe]))return 0;for(;0<Se[Pe];--Se[Pe])(de=new L).g=Pe,de.value=Me[ke++],H(ie,$e+ft,xe,at,de),ft=O(ft,Pe)}for(Pe=he+1,xe=2;15>=Pe;++Pe,xe<<=1){if(it+=Et<<=1,0>(Et-=Se[Pe]))return 0;for(;0<Se[Pe];--Se[Pe]){if(de=new L,(ft&We)!=Ge){for($e+=at,He=1<<(Ge=Pe)-he;15>Ge&&!(0>=(He-=Se[Ge]));)++Ge,He<<=1;Ve+=at=1<<(He=Ge-he),ie[le+(Ge=ft&We)].g=He+he,ie[le+Ge].value=$e-le-Ge}de.g=Pe-he,de.value=Me[ke++],H(ie,$e+(ft>>he),xe,at,de),ft=O(ft,Pe)}}return it!=2*Ae[15]-1?0:Ve})(v,x,P,z,Z,ne)}function L(){this.value=this.g=0}function V(){this.value=this.g=0}function se(){this.G=a(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Jr,V)}function pe(v,x,P,z){e(v!=null),e(x!=null),e(2147483648>z),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=x,v.pa=P,v.Jd=x,v.Yc=P+z,v.Zc=4<=z?P+z-4+1:P,_e(v)}function G(v,x){for(var P=0;0<x--;)P|=be(v,128)<<x;return P}function Q(v,x){var P=G(v,x);return ve(v)?-P:P}function re(v,x,P,z){var Z,ne=0;for(e(v!=null),e(x!=null),e(4294967288>z),v.Sb=z,v.Ra=0,v.u=0,v.h=0,4<z&&(z=4),Z=0;Z<z;++Z)ne+=x[P+Z]<<8*Z;v.Ra=ne,v.bb=z,v.oa=x,v.pa=P}function J(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Pc-8>>>0,++v.bb,v.u-=8;te(v)&&(v.h=1,v.u=0)}function q(v,x){if(e(0<=x),!v.h&&x<=Nc){var P=W(v)&yl[x];return v.u+=x,J(v),P}return v.h=1,v.u=0}function oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(v){return v.Ra>>>(v.u&Pc-1)>>>0}function te(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Pc}function ae(v,x){v.u=x,v.h=te(v)}function fe(v){v.u>=Vu&&(e(v.u>=Vu),J(v))}function _e(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function ve(v){return G(v,1)}function be(v,x){var P=v.Ca;0>v.b&&_e(v);var z=v.b,Z=P*x>>>8,ne=(v.I>>>z>Z)+0;for(ne?(P-=Z,v.I-=Z+1<<z>>>0):P=Z+1,z=P,Z=0;256<=z;)Z+=8,z>>=8;return z=7^Z+ds[z],v.b-=z,v.Ca=(P<<z)-1,ne}function je(v,x,P){v[x+0]=P>>24&255,v[x+1]=P>>16&255,v[x+2]=P>>8&255,v[x+3]=P>>0&255}function Be(v,x){return v[x+0]<<0|v[x+1]<<8}function Ze(v,x){return Be(v,x)|v[x+2]<<16}function tt(v,x){return Be(v,x)|Be(v,x+2)<<16}function pt(v,x){var P=1<<x;return e(v!=null),e(0<x),v.X=s(P),v.X==null?0:(v.Mb=32-x,v.Xa=x,1)}function Ue(v,x){e(v!=null),e(x!=null),e(v.Xa==x.Xa),r(x.X,0,v.X,0,1<<x.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function Tt(v,x,P,z){e(P!=null),e(z!=null);var Z=P[0],ne=z[0];return Z==0&&(Z=(v*ne+x/2)/x),ne==0&&(ne=(x*Z+v/2)/v),0>=Z||0>=ne?0:(P[0]=Z,z[0]=ne,1)}function yt(v,x){return v+(1<<x)-1>>>x}function nt(v,x){return((4278255360&v)+(4278255360&x)>>>0&4278255360)+((16711935&v)+(16711935&x)>>>0&16711935)>>>0}function rt(v,x){k[x]=function(P,z,Z,ne,ie,le,he){var de;for(de=0;de<ie;++de){var xe=k[v](le[he+de-1],Z,ne+de);le[he+de]=nt(P[z+de],xe)}}}function ot(){this.ud=this.hd=this.jd=0}function lt(v,x){return((4278124286&(v^x))>>>1)+(v&x)>>>0}function _t(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function It(v,x){return _t(v+(v-x+.5>>1))}function Ht(v,x,P){return Math.abs(x-P)-Math.abs(v-P)}function xt(v,x,P,z,Z,ne,ie){for(z=ne[ie-1],P=0;P<Z;++P)ne[ie+P]=z=nt(v[x+P],z)}function wt(v,x,P,z,Z){var ne;for(ne=0;ne<P;++ne){var ie=v[x+ne],le=ie>>8&255,he=16711935&(he=(he=16711935&ie)+((le<<16)+le));z[Z+ne]=(4278255360&ie)+he>>>0}}function Kt(v,x){x.jd=v>>0&255,x.hd=v>>8&255,x.ud=v>>16&255}function vt(v,x,P,z,Z,ne){var ie;for(ie=0;ie<z;++ie){var le=x[P+ie],he=le>>>8,de=le,xe=255&(xe=(xe=le>>>16)+((v.jd<<24>>24)*(he<<24>>24)>>>5));de=255&(de=(de=de+((v.hd<<24>>24)*(he<<24>>24)>>>5))+((v.ud<<24>>24)*(xe<<24>>24)>>>5)),Z[ne+ie]=(4278255360&le)+(xe<<16)+de}}function Xt(v,x,P,z,Z){k[x]=function(ne,ie,le,he,de,xe,Me,Pe,ke){for(he=Me;he<Pe;++he)for(Me=0;Me<ke;++Me)de[xe++]=Z(le[z(ne[ie++])])},k[v]=function(ne,ie,le,he,de,xe,Me){var Pe=8>>ne.b,ke=ne.Ea,$e=ne.K[0],Ve=ne.w;if(8>Pe)for(ne=(1<<ne.b)-1,Ve=(1<<Pe)-1;ie<le;++ie){var Se,Ae=0;for(Se=0;Se<ke;++Se)Se&ne||(Ae=z(he[de++])),xe[Me++]=Z($e[Ae&Ve]),Ae>>=Pe}else k["VP8LMapColor"+P](he,de,$e,Ve,xe,Me,ie,le,ke)}}function ut(v,x,P,z,Z){for(P=x+P;x<P;){var ne=v[x++];z[Z++]=ne>>16&255,z[Z++]=ne>>8&255,z[Z++]=ne>>0&255}}function vr(v,x,P,z,Z){for(P=x+P;x<P;){var ne=v[x++];z[Z++]=ne>>16&255,z[Z++]=ne>>8&255,z[Z++]=ne>>0&255,z[Z++]=ne>>24&255}}function Zt(v,x,P,z,Z){for(P=x+P;x<P;){var ne=(ie=v[x++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;z[Z++]=ne,z[Z++]=ie}}function xi(v,x,P,z,Z){for(P=x+P;x<P;){var ne=(ie=v[x++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;z[Z++]=ne,z[Z++]=ie}}function tn(v,x,P,z,Z){for(P=x+P;x<P;){var ne=v[x++];z[Z++]=ne>>0&255,z[Z++]=ne>>8&255,z[Z++]=ne>>16&255}}function Ln(v,x,P,z,Z,ne){if(ne==0)for(P=x+P;x<P;)je(z,((ne=v[x++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Z+=32;else r(z,Z,v,x,P)}function Li(v,x){k[x][0]=k[v+"0"],k[x][1]=k[v+"1"],k[x][2]=k[v+"2"],k[x][3]=k[v+"3"],k[x][4]=k[v+"4"],k[x][5]=k[v+"5"],k[x][6]=k[v+"6"],k[x][7]=k[v+"7"],k[x][8]=k[v+"8"],k[x][9]=k[v+"9"],k[x][10]=k[v+"10"],k[x][11]=k[v+"11"],k[x][12]=k[v+"12"],k[x][13]=k[v+"13"],k[x][14]=k[v+"0"],k[x][15]=k[v+"0"]}function hn(v){return v==lf||v==Cl||v==jo||v==Hu}function fa(){this.eb=[],this.size=this.A=this.fb=0}function Xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fa,this.f.kb=new Xn,this.sd=null}function Si(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function fn(v,x){var P=v.T,z=x.ba.f.RGBA,Z=z.eb,ne=z.fb+v.ka*z.A,ie=gi[x.ba.S],le=v.y,he=v.O,de=v.f,xe=v.N,Me=v.ea,Pe=v.W,ke=x.cc,$e=x.dc,Ve=x.Mc,Se=x.Nc,Ae=v.ka,He=v.ka+v.T,Ge=v.U,We=Ge+1>>1;for(Ae==0?ie(le,he,null,null,de,xe,Me,Pe,de,xe,Me,Pe,Z,ne,null,null,Ge):(ie(x.ec,x.fc,le,he,ke,$e,Ve,Se,de,xe,Me,Pe,Z,ne-z.A,Z,ne,Ge),++P);Ae+2<He;Ae+=2)ke=de,$e=xe,Ve=Me,Se=Pe,xe+=v.Rc,Pe+=v.Rc,ne+=2*z.A,ie(le,(he+=2*v.fa)-v.fa,le,he,ke,$e,Ve,Se,de,xe,Me,Pe,Z,ne-z.A,Z,ne,Ge);return he+=v.fa,v.j+He<v.o?(r(x.ec,x.fc,le,he,Ge),r(x.cc,x.dc,de,xe,We),r(x.Mc,x.Nc,Me,Pe,We),P--):1&He||ie(le,he,null,null,de,xe,Me,Pe,de,xe,Me,Pe,Z,ne+z.A,null,null,Ge),P}function as(v,x,P){var z=v.F,Z=[v.J];if(z!=null){var ne=v.U,ie=x.ba.S,le=ie==Oc||ie==jo;x=x.ba.f.RGBA;var he=[0],de=v.ka;he[0]=v.T,v.Kb&&(de==0?--he[0]:(--de,Z[0]-=v.width),v.j+v.ka+v.T==v.o&&(he[0]=v.o-v.j-de));var xe=x.eb;de=x.fb+de*x.A,v=rn(z,Z[0],v.width,ne,he,xe,de+(le?0:3),x.A),e(P==he),v&&hn(ie)&&Is(xe,de,le,ne,he,x.A)}return 0}function br(v){var x=v.ma,P=x.ba.S,z=11>P,Z=P==zu||P==of||P==Oc||P==Oo||P==12||hn(P);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!gl(x.Oa,v,Z?11:12))return 0;if(Z&&hn(P)&&Qe(),v.da)alert("todo:use_scaling");else{if(z){if(x.Ib=Dt,v.Kb){if(P=v.U+1>>1,x.memory=s(v.U+2*P),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+v.U,x.Mc=x.cc,x.Nc=x.dc+P,x.Ib=fn,Qe()}}else alert("todo:EmitYUV");Z&&(x.Jb=as,z&&De())}if(z&&!$0){for(v=0;256>v;++v)J2[v]=89858*(v-128)+ei>>to,hf[v]=-22014*(v-128)+ei,cm[v]=-45773*(v-128),ti[v]=113618*(v-128)+ei>>to;for(v=Nl;v<Rd;++v)x=76283*(v-16)+ei>>to,ff[v-Nl]=kn(x,255),um[v-Nl]=kn(x+8>>4,15);$0=1}return 1}function Ti(v){var x=v.ma,P=v.U,z=v.T;return e(!(1&v.ka)),0>=P||0>=z?0:(P=x.Ib(v,x),x.Jb!=null&&x.Jb(v,x,P),x.Dc+=P,1)}function Ps(v){v.ma.memory=null}function ht(v,x,P,z){return q(v,8)!=47?0:(x[0]=q(v,14)+1,P[0]=q(v,14)+1,z[0]=q(v,1),q(v,3)!=0?0:!v.h)}function In(v,x){if(4>v)return v+1;var P=v-2>>1;return(2+(1&v)<<P)+q(x,P)+1}function On(v,x){return 120<x?x-120:1<=(P=((P=Vo[x-1])>>4)*v+(8-(15&P)))?P:1;var P}function ir(v,x,P){var z=W(P),Z=v[x+=255&z].g-8;return 0<Z&&(ae(P,P.u+8),z=W(P),x+=v[x].value,x+=z&(1<<Z)-1),ae(P,P.u+v[x].g),v[x].value}function hr(v,x,P){return P.g+=v.g,P.value+=v.value<<x>>>0,e(8>=P.g),v.g}function wr(v,x,P){var z=v.xc;return e((x=z==0?0:v.vc[v.md*(P>>z)+(x>>z)])<v.Wb),v.Ya[x]}function jr(v,x,P,z){var Z=v.ab,ne=v.c*x,ie=v.C;x=ie+x;var le=P,he=z;for(z=v.Ta,P=v.Ua;0<Z--;){var de=v.gc[Z],xe=ie,Me=x,Pe=le,ke=he,$e=(he=z,le=P,de.Ea);switch(e(xe<Me),e(Me<=de.nc),de.hc){case 2:Ed(Pe,ke,(Me-xe)*$e,he,le);break;case 0:var Ve=xe,Se=Me,Ae=he,He=le,Ge=(at=de).Ea;Ve==0&&(om(Pe,ke,null,null,1,Ae,He),xt(Pe,ke+1,0,0,Ge-1,Ae,He+1),ke+=Ge,He+=Ge,++Ve);for(var We=1<<at.b,ft=We-1,it=yt(Ge,at.b),Et=at.K,at=at.w+(Ve>>at.b)*it;Ve<Se;){var wn=Et,Nn=at,en=1;for(sf(Pe,ke,Ae,He-Ge,1,Ae,He);en<Ge;){var Qt=(en&~ft)+We;Qt>Ge&&(Qt=Ge),(0,Mo[wn[Nn++]>>8&15])(Pe,ke+ +en,Ae,He+en-Ge,Qt-en,Ae,He+en),en=Qt}ke+=Ge,He+=Ge,++Ve&ft||(at+=it)}Me!=de.nc&&r(he,le-$e,he,le+(Me-xe-1)*$e,$e);break;case 1:for($e=Pe,Se=ke,Ge=(Pe=de.Ea)-(He=Pe&~(Ae=(ke=1<<de.b)-1)),Ve=yt(Pe,de.b),We=de.K,de=de.w+(xe>>de.b)*Ve;xe<Me;){for(ft=We,it=de,Et=new ot,at=Se+He,wn=Se+Pe;Se<at;)Kt(ft[it++],Et),bl(Et,$e,Se,ke,he,le),Se+=ke,le+=ke;Se<wn&&(Kt(ft[it++],Et),bl(Et,$e,Se,Ge,he,le),Se+=Ge,le+=Ge),++xe&Ae||(de+=Ve)}break;case 3:if(Pe==he&&ke==le&&0<de.b){for(Se=he,Pe=$e=le+(Me-xe)*$e-(He=(Me-xe)*yt(de.Ea,de.b)),ke=he,Ae=le,Ve=[],He=(Ge=He)-1;0<=He;--He)Ve[He]=ke[Ae+He];for(He=Ge-1;0<=He;--He)Se[Pe+He]=Ve[He];Qs(de,xe,Me,he,$e,he,le)}else Qs(de,xe,Me,Pe,ke,he,le)}le=z,he=P}he!=P&&r(z,P,le,he,ne)}function So(v,x){var P=v.V,z=v.Ba+v.c*v.C,Z=x-v.C;if(e(x<=v.l.o),e(16>=Z),0<Z){var ne=v.l,ie=v.Ta,le=v.Ua,he=ne.width;if(jr(v,Z,P,z),Z=le=[le],e((P=v.C)<(z=x)),e(ne.v<ne.va),z>ne.o&&(z=ne.o),P<ne.j){var de=ne.j-P;P=ne.j,Z[0]+=de*he}if(P>=z?P=0:(Z[0]+=4*ne.v,ne.ka=P-ne.j,ne.U=ne.va-ne.v,ne.T=z-P,P=1),P){if(le=le[0],11>(P=v.ca).S){var xe=P.f.RGBA,Me=(z=P.S,Z=ne.U,ne=ne.T,de=xe.eb,xe.A),Pe=ne;for(xe=xe.fb+v.Ma*xe.A;0<Pe--;){var ke=ie,$e=le,Ve=Z,Se=de,Ae=xe;switch(z){case Bi:Ki(ke,$e,Ve,Se,Ae);break;case zu:Di(ke,$e,Ve,Se,Ae);break;case lf:Di(ke,$e,Ve,Se,Ae),Is(Se,Ae,0,Ve,1,0);break;case Qa:Ta(ke,$e,Ve,Se,Ae);break;case of:Ln(ke,$e,Ve,Se,Ae,1);break;case Cl:Ln(ke,$e,Ve,Se,Ae,1),Is(Se,Ae,0,Ve,1,0);break;case Oc:Ln(ke,$e,Ve,Se,Ae,0);break;case jo:Ln(ke,$e,Ve,Se,Ae,0),Is(Se,Ae,1,Ve,1,0);break;case Oo:wl(ke,$e,Ve,Se,Ae);break;case Hu:wl(ke,$e,Ve,Se,Ae),nn(Se,Ae,Ve,1,0);break;case Cd:ps(ke,$e,Ve,Se,Ae);break;default:e(0)}le+=he,xe+=Me}v.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=P.height)}}v.C=x,e(v.C<=v.i)}function $i(v){var x;if(0<v.ua)return 0;for(x=0;x<v.Wb;++x){var P=v.Ya[x].G,z=v.Ya[x].H;if(0<P[1][z[1]+0].g||0<P[2][z[2]+0].g||0<P[3][z[3]+0].g)return 0}return 1}function fi(v,x,P,z,Z,ne){if(v.Z!=0){var ie=v.qd,le=v.rd;for(e(Za[v.Z]!=null);x<P;++x)Za[v.Z](ie,le,z,Z,z,Z,ne),ie=z,le=Z,Z+=ne;v.qd=ie,v.rd=le}}function Kr(v,x){var P=v.l.ma,z=P.Z==0||P.Z==1?v.l.j:v.C;if(z=v.C<z?z:v.C,e(x<=v.l.o),x>z){var Z=v.l.width,ne=P.ca,ie=P.tb+Z*z,le=v.V,he=v.Ba+v.c*z,de=v.gc;e(v.ab==1),e(de[0].hc==3),vl(de[0],z,x,le,he,ne,ie),fi(P,z,x,ne,ie,Z)}v.C=v.Ma=x}function Fr(v,x,P,z,Z,ne,ie){var le=v.$/z,he=v.$%z,de=v.m,xe=v.s,Me=P+v.$,Pe=Me;Z=P+z*Z;var ke=P+z*ne,$e=280+xe.ua,Ve=v.Pb?le:16777216,Se=0<xe.ua?xe.Wa:null,Ae=xe.wc,He=Me<ke?wr(xe,he,le):null;e(v.C<ne),e(ke<=Z);var Ge=!1;e:for(;;){for(;Ge||Me<ke;){var We=0;if(le>=Ve){var ft=Me-P;e((Ve=v).Pb),Ve.wd=Ve.m,Ve.xd=ft,0<Ve.s.ua&&Ue(Ve.s.Wa,Ve.s.vb),Ve=le+q0}if(he&Ae||(He=wr(xe,he,le)),e(He!=null),He.Qb&&(x[Me]=He.qb,Ge=!0),!Ge)if(fe(de),He.jc){We=de,ft=x;var it=Me,Et=He.pd[W(We)&Jr-1];e(He.jc),256>Et.g?(ae(We,We.u+Et.g),ft[it]=Et.value,We=0):(ae(We,We.u+Et.g-256),e(256<=Et.value),We=Et.value),We==0&&(Ge=!0)}else We=ir(He.G[0],He.H[0],de);if(de.h)break;if(Ge||256>We){if(!Ge)if(He.nd)x[Me]=(He.qb|We<<8)>>>0;else{if(fe(de),Ge=ir(He.G[1],He.H[1],de),fe(de),ft=ir(He.G[2],He.H[2],de),it=ir(He.G[3],He.H[3],de),de.h)break;x[Me]=(it<<24|Ge<<16|We<<8|ft)>>>0}if(Ge=!1,++Me,++he>=z&&(he=0,++le,ie!=null&&le<=ne&&!(le%16)&&ie(v,le),Se!=null))for(;Pe<Me;)We=x[Pe++],Se.X[(506832829*We&4294967295)>>>Se.Mb]=We}else if(280>We){if(We=In(We-256,de),ft=ir(He.G[4],He.H[4],de),fe(de),ft=On(z,ft=In(ft,de)),de.h)break;if(Me-P<ft||Z-Me<We)break e;for(it=0;it<We;++it)x[Me+it]=x[Me+it-ft];for(Me+=We,he+=We;he>=z;)he-=z,++le,ie!=null&&le<=ne&&!(le%16)&&ie(v,le);if(e(Me<=Z),he&Ae&&(He=wr(xe,he,le)),Se!=null)for(;Pe<Me;)We=x[Pe++],Se.X[(506832829*We&4294967295)>>>Se.Mb]=We}else{if(!(We<$e))break e;for(Ge=We-280,e(Se!=null);Pe<Me;)We=x[Pe++],Se.X[(506832829*We&4294967295)>>>Se.Mb]=We;We=Me,e(!(Ge>>>(ft=Se).Xa)),x[We]=ft.X[Ge],Ge=!0}Ge||e(de.h==te(de))}if(v.Pb&&de.h&&Me<Z)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Ue(v.s.vb,v.s.Wa);else{if(de.h)break e;ie?.(v,le>ne?ne:le),v.a=0,v.$=Me-P}return 1}return v.a=3,0}function Xr(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var x=v.Wa;x!=null&&(x.X=null),v.vb=null,e(v!=null)}function Jn(){var v=new ju;return v==null?null:(v.a=0,v.xb=qu,Li("Predictor","VP8LPredictors"),Li("Predictor","VP8LPredictors_C"),Li("PredictorAdd","VP8LPredictorsAdd"),Li("PredictorAdd","VP8LPredictorsAdd_C"),Ed=wt,bl=vt,Ki=ut,Di=vr,wl=Zt,ps=xi,Ta=tn,k.VP8LMapColor32b=pi,k.VP8LMapColor8b=af,v)}function Cn(v,x,P,z,Z){var ne=1,ie=[v],le=[x],he=z.m,de=z.s,xe=null,Me=0;e:for(;;){if(P)for(;ne&&q(he,1);){var Pe=ie,ke=le,$e=z,Ve=1,Se=$e.m,Ae=$e.gc[$e.ab],He=q(Se,2);if($e.Oc&1<<He)ne=0;else{switch($e.Oc|=1<<He,Ae.hc=He,Ae.Ea=Pe[0],Ae.nc=ke[0],Ae.K=[null],++$e.ab,e(4>=$e.ab),He){case 0:case 1:Ae.b=q(Se,3)+2,Ve=Cn(yt(Ae.Ea,Ae.b),yt(Ae.nc,Ae.b),0,$e,Ae.K),Ae.K=Ae.K[0];break;case 3:var Ge,We=q(Se,8)+1,ft=16<We?0:4<We?1:2<We?2:3;if(Pe[0]=yt(Ae.Ea,ft),Ae.b=ft,Ge=Ve=Cn(We,1,0,$e,Ae.K)){var it,Et=We,at=Ae,wn=1<<(8>>at.b),Nn=s(wn);if(Nn==null)Ge=0;else{var en=at.K[0],Qt=at.w;for(Nn[0]=at.K[0][0],it=1;it<1*Et;++it)Nn[it]=nt(en[Qt+it],Nn[it-1]);for(;it<4*wn;++it)Nn[it]=0;at.K[0]=null,at.K[0]=Nn,Ge=1}}Ve=Ge;break;case 2:break;default:e(0)}ne=Ve}}if(ie=ie[0],le=le[0],ne&&q(he,1)&&!(ne=1<=(Me=q(he,4))&&11>=Me)){z.a=3;break e}var Vn;if(Vn=ne)t:{var Pn,Wt,Hn,kt=z,jt=ie,bn=le,_n=Me,yi=P,ni=kt.m,kr=kt.s,Nr=[null],zr=1,ta=0,Rn=Fc[_n];n:for(;;){if(yi&&q(ni,1)){var Hr=q(ni,3)+2,Ca=yt(jt,Hr),Pl=yt(bn,Hr),Uc=Ca*Pl;if(!Cn(Ca,Pl,0,kt,Nr))break n;for(Nr=Nr[0],kr.xc=Hr,Pn=0;Pn<Uc;++Pn){var Rl=Nr[Pn]>>8&65535;Nr[Pn]=Rl,Rl>=zr&&(zr=Rl+1)}}if(ni.h)break n;for(Wt=0;5>Wt;++Wt){var cr=Os[Wt];!Wt&&0<_n&&(cr+=1<<_n),ta<cr&&(ta=cr)}var df=a(zr*Rn,L),Md=zr,Qi=a(Md,se);if(Qi==null)var fr=null;else e(65536>=Md),fr=Qi;var zc=s(ta);if(fr==null||zc==null||df==null){kt.a=1;break n}var Ml=df;for(Pn=Hn=0;Pn<zr;++Pn){var gs=fr[Pn],Ll=gs.G,ys=gs.H,pf=0,Yu=1,Ld=0;for(Wt=0;5>Wt;++Wt){cr=Os[Wt],Ll[Wt]=Ml,ys[Wt]=Hn,!Wt&&0<_n&&(cr+=1<<_n);i:{var mf,Id=cr,gf=kt,$u=zc,X0=Ml,Q0=Hn,yf=0,Ho=gf.m,eb=q(Ho,1);if(i($u,0,0,Id),eb){var J0=q(Ho,1)+1,Z0=q(Ho,1),hm=q(Ho,Z0==0?1:8);$u[hm]=1,J0==2&&($u[hm=q(Ho,8)]=1);var Gu=1}else{var fm=s(19),dm=q(Ho,4)+4;if(19<dm){gf.a=3;var vf=0;break i}for(mf=0;mf<dm;++mf)fm[Fo[mf]]=q(Ho,3);var Od=void 0,Ku=void 0,ey=gf,ty=fm,qo=Id,bf=$u,jd=0,Da=ey.m,Xu=8,pm=a(128,L);r:for(;R(pm,0,7,ty,19);){if(q(Da,1)){var ny=2+2*q(Da,3);if((Od=2+q(Da,ny))>qo)break r}else Od=qo;for(Ku=0;Ku<qo&&Od--;){fe(Da);var mm=pm[0+(127&W(Da))];ae(Da,Da.u+mm.g);var Hc=mm.value;if(16>Hc)bf[Ku++]=Hc,Hc!=0&&(Xu=Hc);else{var ry=Hc==16,gm=Hc-16,ym=ea[gm],vm=q(Da,Dd[gm])+ym;if(Ku+vm>qo)break r;for(var iy=ry?Xu:0;0<vm--;)bf[Ku++]=iy}}jd=1;break r}jd||(ey.a=3),Gu=jd}(Gu=Gu&&!Ho.h)&&(yf=R(X0,Q0,8,$u,Id)),Gu&&yf!=0?vf=yf:(gf.a=3,vf=0)}if(vf==0)break n;if(Yu&&jc[Wt]==1&&(Yu=Ml[Hn].g==0),pf+=Ml[Hn].g,Hn+=vf,3>=Wt){var qc,Fd=zc[0];for(qc=1;qc<cr;++qc)zc[qc]>Fd&&(Fd=zc[qc]);Ld+=Fd}}if(gs.nd=Yu,gs.Qb=0,Yu&&(gs.qb=(Ll[3][ys[3]+0].value<<24|Ll[1][ys[1]+0].value<<16|Ll[2][ys[2]+0].value)>>>0,pf==0&&256>Ll[0][ys[0]+0].value&&(gs.Qb=1,gs.qb+=Ll[0][ys[0]+0].value<<8)),gs.jc=!gs.Qb&&6>Ld,gs.jc){var wf,Wo=gs;for(wf=0;wf<Jr;++wf){var no=wf,Yo=Wo.pd[no],_f=Wo.G[0][Wo.H[0]+no];256<=_f.value?(Yo.g=_f.g+256,Yo.value=_f.value):(Yo.g=0,Yo.value=0,no>>=hr(_f,8,Yo),no>>=hr(Wo.G[1][Wo.H[1]+no],16,Yo),no>>=hr(Wo.G[2][Wo.H[2]+no],0,Yo),hr(Wo.G[3][Wo.H[3]+no],24,Yo))}}}kr.vc=Nr,kr.Wb=zr,kr.Ya=fr,kr.yc=df,Vn=1;break t}Vn=0}if(!(ne=Vn)){z.a=3;break e}if(0<Me){if(de.ua=1<<Me,!pt(de.Wa,Me)){z.a=1,ne=0;break e}}else de.ua=0;var xf=z,bm=ie,sy=le,wm=xf.s,_m=wm.xc;if(xf.c=bm,xf.i=sy,wm.md=yt(bm,_m),wm.wc=_m==0?-1:(1<<_m)-1,P){z.xb=Y0;break e}if((xe=s(ie*le))==null){z.a=1,ne=0;break e}ne=(ne=Fr(z,xe,0,ie,le,le,null))&&!he.h;break e}return ne?(Z!=null?Z[0]=xe:(e(xe==null),e(P)),z.$=0,P||Xr(de)):Xr(de),ne}function da(v,x){var P=v.c*v.i,z=P+x+16*x;return e(v.c<=x),v.V=s(z),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+P+x,1)}function pa(v,x){var P=v.C,z=x-P,Z=v.V,ne=v.Ba+v.c*P;for(e(x<=v.l.o);0<z;){var ie=16<z?16:z,le=v.l.ma,he=v.l.width,de=he*ie,xe=le.ca,Me=le.tb+he*P,Pe=v.Ta,ke=v.Ua;jr(v,ie,Z,ne),er(Pe,ke,xe,Me,de),fi(le,P,P+ie,xe,Me,he),z-=ie,Z+=ie*v.c,P+=ie}e(P==x),v.C=v.Ma=x}function Ii(){this.ub=this.yd=this.td=this.Rb=0}function os(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function To(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function _c(){this.Yb=(function(){var v=[];return(function x(P,z,Z){for(var ne=Z[z],ie=0;ie<ne&&(P.push(Z.length>z+1?[]:0),!(Z.length<z+1));ie++)x(P[ie],z+1,Z)})(v,0,[3,11]),v})()}function Eo(){this.jb=s(3),this.Wc=l([4,8],_c),this.Xc=l([4,17],_c)}function Pu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Rs(){this.ld=this.La=this.dd=this.tc=0}function Ms(){this.Na=this.la=0}function Qr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ma(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ru(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rs),this.Y=0,this.ya=Array(new ma),this.aa=0,this.l=new ga}function zs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ll(){this.cb=this.a=0,this.sc="",this.m=new oe,this.Od=new Ii,this.Kc=new os,this.ed=new Pu,this.Qa=new To,this.Ic=this.$c=this.Aa=0,this.D=new Ru,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,oe),this.ia=0,this.pb=a(4,Qr),this.Pa=new Eo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zs),this.Hd=0,this.rb=Array(new Ms),this.sb=0,this.wa=Array(new Rs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ma),this.L=this.aa=0,this.gd=l([4,2],Rs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ga(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xc(){var v=new ll;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Zr||(Zr=Mu)),v}function Zn(v,x,P){return v.a==0&&(v.a=x,v.sc=P,v.cb=0),0}function di(v,x,P){return 3<=P&&v[x+0]==157&&v[x+1]==1&&v[x+2]==42}function cl(v,x){if(v==null)return 0;if(v.a=0,v.sc="OK",x==null)return Zn(v,2,"null VP8Io passed to VP8GetHeaders()");var P=x.data,z=x.w,Z=x.ha;if(4>Z)return Zn(v,7,"Truncated header.");var ne=P[z+0]|P[z+1]<<8|P[z+2]<<16,ie=v.Od;if(ie.Rb=!(1&ne),ie.td=ne>>1&7,ie.yd=ne>>4&1,ie.ub=ne>>5,3<ie.td)return Zn(v,3,"Incorrect keyframe parameters.");if(!ie.yd)return Zn(v,4,"Frame not displayable.");z+=3,Z-=3;var le=v.Kc;if(ie.Rb){if(7>Z)return Zn(v,7,"cannot parse picture header");if(!di(P,z,Z))return Zn(v,3,"Bad code word");le.c=16383&(P[z+4]<<8|P[z+3]),le.Td=P[z+4]>>6,le.i=16383&(P[z+6]<<8|P[z+5]),le.Ud=P[z+6]>>6,z+=7,Z-=7,v.za=le.c+15>>4,v.Ub=le.i+15>>4,x.width=le.c,x.height=le.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((ne=v.Pa).jb,0,255,ne.jb.length),e((ne=v.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,i(ne.Zb,0,0,ne.Zb.length),i(ne.Lb,0,0,ne.Lb)}if(ie.ub>Z)return Zn(v,7,"bad partition length");pe(ne=v.m,P,z,ie.ub),z+=ie.ub,Z-=ie.ub,ie.Rb&&(le.Ld=ve(ne),le.Kd=ve(ne)),le=v.Qa;var he,de=v.Pa;if(e(ne!=null),e(le!=null),le.Cb=ve(ne),le.Cb){if(le.Bb=ve(ne),ve(ne)){for(le.Fb=ve(ne),he=0;4>he;++he)le.Zb[he]=ve(ne)?Q(ne,7):0;for(he=0;4>he;++he)le.Lb[he]=ve(ne)?Q(ne,6):0}if(le.Bb)for(he=0;3>he;++he)de.jb[he]=ve(ne)?G(ne,8):255}else le.Bb=0;if(ne.Ka)return Zn(v,3,"cannot parse segment header");if((le=v.ed).zd=ve(ne),le.Tb=G(ne,6),le.wb=G(ne,3),le.Pc=ve(ne),le.Pc&&ve(ne)){for(de=0;4>de;++de)ve(ne)&&(le.vd[de]=Q(ne,6));for(de=0;4>de;++de)ve(ne)&&(le.od[de]=Q(ne,6))}if(v.L=le.Tb==0?0:le.zd?1:2,ne.Ka)return Zn(v,3,"cannot parse filter header");var xe=Z;if(Z=he=z,z=he+xe,le=xe,v.Xb=(1<<G(v.m,2))-1,xe<3*(de=v.Xb))P=7;else{for(he+=3*de,le-=3*de,xe=0;xe<de;++xe){var Me=P[Z+0]|P[Z+1]<<8|P[Z+2]<<16;Me>le&&(Me=le),pe(v.Jc[+xe],P,he,Me),he+=Me,le-=Me,Z+=3}pe(v.Jc[+de],P,he,le),P=he<z?0:5}if(P!=0)return Zn(v,P,"cannot parse partitions");for(P=G(he=v.m,7),Z=ve(he)?Q(he,4):0,z=ve(he)?Q(he,4):0,le=ve(he)?Q(he,4):0,de=ve(he)?Q(he,4):0,he=ve(he)?Q(he,4):0,xe=v.Qa,Me=0;4>Me;++Me){if(xe.Cb){var Pe=xe.Zb[Me];xe.Fb||(Pe+=P)}else{if(0<Me){v.pb[Me]=v.pb[0];continue}Pe=P}var ke=v.pb[Me];ke.Sc[0]=cf[kn(Pe+Z,127)],ke.Sc[1]=uf[kn(Pe+0,127)],ke.Eb[0]=2*cf[kn(Pe+z,127)],ke.Eb[1]=101581*uf[kn(Pe+le,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=cf[kn(Pe+de,117)],ke.Qc[1]=uf[kn(Pe+he,127)],ke.lc=Pe+he}if(!ie.Rb)return Zn(v,4,"Not a key frame.");for(ve(ne),ie=v.Pa,P=0;4>P;++P){for(Z=0;8>Z;++Z)for(z=0;3>z;++z)for(le=0;11>le;++le)de=be(ne,Vc[P][Z][z][le])?G(ne,8):Ja[P][Z][z][le],ie.Wc[P][Z].Yb[z][le]=de;for(Z=0;17>Z;++Z)ie.Xc[P][Z]=ie.Wc[P][W0[Z]]}return v.kc=ve(ne),v.kc&&(v.Bd=G(ne,8)),v.cb=1}function Mu(v,x,P,z,Z,ne,ie){var le=x[Z].Yb[P];for(P=0;16>Z;++Z){if(!be(v,le[P+0]))return Z;for(;!be(v,le[P+1]);)if(le=x[++Z].Yb[0],P=0,Z==16)return 16;var he=x[Z+1].Yb;if(be(v,le[P+2])){var de=v,xe=0;if(be(de,(Pe=le)[(Me=P)+3]))if(be(de,Pe[Me+6])){for(le=0,Me=2*(xe=be(de,Pe[Me+8]))+(Pe=be(de,Pe[Me+9+xe])),xe=0,Pe=Sr[Me];Pe[le];++le)xe+=xe+be(de,Pe[le]);xe+=3+(8<<Me)}else be(de,Pe[Me+7])?(xe=7+2*be(de,165),xe+=be(de,145)):xe=5+be(de,159);else xe=be(de,Pe[Me+4])?3+be(de,Pe[Me+5]):2;le=he[2]}else xe=1,le=he[1];he=ie+Tn[Z],0>(de=v).b&&_e(de);var Me,Pe=de.b,ke=(Me=de.Ca>>1)-(de.I>>Pe)>>31;--de.b,de.Ca+=ke,de.Ca|=1,de.I-=(Me+1&ke)<<Pe,ne[he]=((xe^ke)-ke)*z[(0<Z)+0]}return 16}function ja(v){var x=v.rb[v.sb-1];x.la=0,x.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function Sc(v,x){if(v==null)return 0;if(x==null)return Zn(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!cl(v,x))return 0;if(e(v.cb),x.ac==null||x.ac(x)){x.ob&&(v.L=0);var P=zo[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=x.v-P>>4,v.zb=x.j-P>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=x.o+15+P>>4,v.Hb=x.va+15+P>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var z=v.ed;for(P=0;4>P;++P){var Z;if(v.Qa.Cb){var ne=v.Qa.Lb[P];v.Qa.Fb||(ne+=z.Tb)}else ne=z.Tb;for(Z=0;1>=Z;++Z){var ie=v.gd[P][Z],le=ne;if(z.Pc&&(le+=z.vd[0],Z&&(le+=z.od[0])),0<(le=0>le?0:63<le?63:le)){var he=le;0<z.wb&&(he=4<z.wb?he>>2:he>>1)>9-z.wb&&(he=9-z.wb),1>he&&(he=1),ie.dd=he,ie.tc=2*le+he,ie.ld=40<=le?2:15<=le?1:0}else ie.tc=0;ie.La=Z}}}P=0}else Zn(v,6,"Frame setup failed"),P=v.a;if(P=P==0){if(P){v.$c=0,0<v.Aa||(v.Ic=G0);e:{P=v.Ic,z=4*(he=v.za);var de=32*he,xe=he+1,Me=0<v.L?he*(0<v.Aa?2:1):0,Pe=(v.Aa==2?2:1)*he;if((ie=z+832+(Z=3*(16*P+zo[v.L])/2*de)+(ne=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=ie)P=0;else{if(ie>v.Vb){if(v.Vb=0,v.Ec=s(ie),v.Fc=0,v.Ec==null){P=Zn(v,1,"no memory during frame initialization.");break e}v.Vb=ie}ie=v.Ec,le=v.Fc,v.Ac=ie,v.Bc=le,le+=z,v.Gd=a(de,zs),v.Hd=0,v.rb=a(xe+1,Ms),v.sb=1,v.wa=Me?a(Me,Rs):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=he),e(!0),v.oc=ie,v.pc=le,le+=832,v.ya=a(Pe,ma),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=he),v.R=16*he,v.B=8*he,he=(de=zo[v.L])*v.R,de=de/2*v.B,v.sa=ie,v.ta=le+he,v.qa=v.sa,v.ra=v.ta+16*P*v.R+de,v.Ha=v.qa,v.Ia=v.ra+8*P*v.B+de,v.$c=0,le+=Z,v.mb=ne?ie:null,v.nb=ne?le:null,e(le+ne<=v.Fc+v.Vb),ja(v),i(v.Ac,v.Bc,0,z),P=1}}if(P){if(x.ka=0,x.y=v.sa,x.O=v.ta,x.f=v.qa,x.N=v.ra,x.ea=v.Ha,x.Vd=v.Ia,x.fa=v.R,x.Rc=v.B,x.F=null,x.J=0,!Io){for(P=-255;255>=P;++P)Dr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Js[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)El[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)Al[255+P]=0>P?0:255<P?255:P;Io=1}Ka=ls,Ea=Va,Aa=Hs,Ur=Dn,ms=Ba,_r=Fa,Rc=qa,Xa=xa,Bu=dl,_l=Dc,xl=fl,Sl=Do,Mc=ko,Uu=Wa,Tl=Ls,Lo=Fi,Lc=Br,xr=Ou,Xi[0]=Oi,Xi[1]=Lu,Xi[2]=Ys,Xi[3]=Iu,Xi[4]=cs,Xi[5]=$s,Xi[6]=Gi,Xi[7]=us,Xi[8]=_a,Xi[9]=Ua,Bo[0]=qs,Bo[1]=Ec,Bo[2]=va,Bo[3]=hl,Bo[4]=zn,Bo[5]=wa,Bo[6]=Ws,js[0]=Gs,js[1]=Tc,js[2]=Ac,js[3]=hs,js[4]=an,js[5]=Vr,js[6]=za,P=1}else P=0}P&&(P=(function(ke,$e){for(ke.M=0;ke.M<ke.Va;++ke.M){var Ve,Se=ke.Jc[ke.M&ke.Xb],Ae=ke.m,He=ke;for(Ve=0;Ve<He.za;++Ve){var Ge=Ae,We=He,ft=We.Ac,it=We.Bc+4*Ve,Et=We.zc,at=We.ya[We.aa+Ve];if(We.Qa.Bb?at.$b=be(Ge,We.Pa.jb[0])?2+be(Ge,We.Pa.jb[2]):be(Ge,We.Pa.jb[1]):at.$b=0,We.kc&&(at.Ad=be(Ge,We.Bd)),at.Za=!be(Ge,145)+0,at.Za){var wn=at.Ob,Nn=0;for(We=0;4>We;++We){var en,Qt=Et[0+We];for(en=0;4>en;++en){Qt=lm[ft[it+en]][Qt];for(var Vn=Dl[be(Ge,Qt[0])];0<Vn;)Vn=Dl[2*Vn+be(Ge,Qt[Vn])];Qt=-Vn,ft[it+en]=Qt}r(wn,Nn,ft,it,4),Nn+=4,Et[0+We]=Qt}}else Qt=be(Ge,156)?be(Ge,128)?1:3:be(Ge,163)?2:0,at.Ob[0]=Qt,i(ft,it,Qt,4),i(Et,0,Qt,4);at.Dd=be(Ge,142)?be(Ge,114)?be(Ge,183)?1:3:2:0}if(He.m.Ka)return Zn(ke,7,"Premature end-of-partition0 encountered.");for(;ke.ja<ke.za;++ke.ja){if(He=Se,Ge=(Ae=ke).rb[Ae.sb-1],ft=Ae.rb[Ae.sb+Ae.ja],Ve=Ae.ya[Ae.aa+Ae.ja],it=Ae.kc?Ve.Ad:0)Ge.la=ft.la=0,Ve.Za||(Ge.Na=ft.Na=0),Ve.Hc=0,Ve.Gc=0,Ve.ia=0;else{var Pn,Wt;if(Ge=ft,ft=He,it=Ae.Pa.Xc,Et=Ae.ya[Ae.aa+Ae.ja],at=Ae.pb[Et.$b],We=Et.ad,wn=0,Nn=Ae.rb[Ae.sb-1],Qt=en=0,i(We,wn,0,384),Et.Za)var Hn=0,kt=it[3];else{Vn=s(16);var jt=Ge.Na+Nn.Na;if(jt=Zr(ft,it[1],jt,at.Eb,0,Vn,0),Ge.Na=Nn.Na=(0<jt)+0,1<jt)Ka(Vn,0,We,wn);else{var bn=Vn[0]+3>>3;for(Vn=0;256>Vn;Vn+=16)We[wn+Vn]=bn}Hn=1,kt=it[0]}var _n=15&Ge.la,yi=15&Nn.la;for(Vn=0;4>Vn;++Vn){var ni=1&yi;for(bn=Wt=0;4>bn;++bn)_n=_n>>1|(ni=(jt=Zr(ft,kt,jt=ni+(1&_n),at.Sc,Hn,We,wn))>Hn)<<7,Wt=Wt<<2|(3<jt?3:1<jt?2:We[wn+0]!=0),wn+=16;_n>>=4,yi=yi>>1|ni<<7,en=(en<<8|Wt)>>>0}for(kt=_n,Hn=yi>>4,Pn=0;4>Pn;Pn+=2){for(Wt=0,_n=Ge.la>>4+Pn,yi=Nn.la>>4+Pn,Vn=0;2>Vn;++Vn){for(ni=1&yi,bn=0;2>bn;++bn)jt=ni+(1&_n),_n=_n>>1|(ni=0<(jt=Zr(ft,it[2],jt,at.Qc,0,We,wn)))<<3,Wt=Wt<<2|(3<jt?3:1<jt?2:We[wn+0]!=0),wn+=16;_n>>=2,yi=yi>>1|ni<<5}Qt|=Wt<<4*Pn,kt|=_n<<4<<Pn,Hn|=(240&yi)<<Pn}Ge.la=kt,Nn.la=Hn,Et.Hc=en,Et.Gc=Qt,Et.ia=43690&Qt?0:at.ia,it=!(en|Qt)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[Ve.$b][Ve.Za],Ae.wa[Ae.Y+Ae.ja].La|=!it),He.Ka)return Zn(ke,7,"Premature end-of-file encountered.")}if(ja(ke),Ae=$e,He=1,Ve=(Se=ke).D,Ge=0<Se.L&&Se.M>=Se.zb&&Se.M<=Se.Va,Se.Aa==0)e:{if(Ve.M=Se.M,Ve.uc=Ge,fs(Se,Ve),He=1,Ve=(Wt=Se.D).Nb,Ge=(Qt=zo[Se.L])*Se.R,ft=Qt/2*Se.B,Vn=16*Ve*Se.R,bn=8*Ve*Se.B,it=Se.sa,Et=Se.ta-Ge+Vn,at=Se.qa,We=Se.ra-ft+bn,wn=Se.Ha,Nn=Se.Ia-ft+bn,yi=(_n=Wt.M)==0,en=_n>=Se.Va-1,Se.Aa==2&&fs(Se,Wt),Wt.uc)for(ni=(jt=Se).D.M,e(jt.D.uc),Wt=jt.yb;Wt<jt.Hb;++Wt){Hn=Wt,kt=ni;var kr=(Nr=(cr=jt).D).Nb;Pn=cr.R;var Nr=Nr.wa[Nr.Y+Hn],zr=cr.sa,ta=cr.ta+16*kr*Pn+16*Hn,Rn=Nr.dd,Hr=Nr.tc;if(Hr!=0)if(e(3<=Hr),cr.L==1)0<Hn&&Lo(zr,ta,Pn,Hr+4),Nr.La&&xr(zr,ta,Pn,Hr),0<kt&&Tl(zr,ta,Pn,Hr+4),Nr.La&&Lc(zr,ta,Pn,Hr);else{var Ca=cr.B,Pl=cr.qa,Uc=cr.ra+8*kr*Ca+8*Hn,Rl=cr.Ha,cr=cr.Ia+8*kr*Ca+8*Hn;kr=Nr.ld,0<Hn&&(Xa(zr,ta,Pn,Hr+4,Rn,kr),_l(Pl,Uc,Rl,cr,Ca,Hr+4,Rn,kr)),Nr.La&&(Sl(zr,ta,Pn,Hr,Rn,kr),Uu(Pl,Uc,Rl,cr,Ca,Hr,Rn,kr)),0<kt&&(Rc(zr,ta,Pn,Hr+4,Rn,kr),Bu(Pl,Uc,Rl,cr,Ca,Hr+4,Rn,kr)),Nr.La&&(xl(zr,ta,Pn,Hr,Rn,kr),Mc(Pl,Uc,Rl,cr,Ca,Hr,Rn,kr))}}if(Se.ia&&alert("todo:DitherRow"),Ae.put!=null){if(Wt=16*_n,_n=16*(_n+1),yi?(Ae.y=Se.sa,Ae.O=Se.ta+Vn,Ae.f=Se.qa,Ae.N=Se.ra+bn,Ae.ea=Se.Ha,Ae.W=Se.Ia+bn):(Wt-=Qt,Ae.y=it,Ae.O=Et,Ae.f=at,Ae.N=We,Ae.ea=wn,Ae.W=Nn),en||(_n-=Qt),_n>Ae.o&&(_n=Ae.o),Ae.F=null,Ae.J=null,Se.Fa!=null&&0<Se.Fa.length&&Wt<_n&&(Ae.J=ml(Se,Ae,Wt,_n-Wt),Ae.F=Se.mb,Ae.F==null&&Ae.F.length==0)){He=Zn(Se,3,"Could not decode alpha data.");break e}Wt<Ae.j&&(Qt=Ae.j-Wt,Wt=Ae.j,e(!(1&Qt)),Ae.O+=Se.R*Qt,Ae.N+=Se.B*(Qt>>1),Ae.W+=Se.B*(Qt>>1),Ae.F!=null&&(Ae.J+=Ae.width*Qt)),Wt<_n&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=Wt-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=_n-Wt,He=Ae.put(Ae))}Ve+1!=Se.Ic||en||(r(Se.sa,Se.ta-Ge,it,Et+16*Se.R,Ge),r(Se.qa,Se.ra-ft,at,We+8*Se.B,ft),r(Se.Ha,Se.Ia-ft,wn,Nn+8*Se.B,ft))}if(!He)return Zn(ke,6,"Output aborted.")}return 1})(v,x)),x.bc!=null&&x.bc(x),P&=1}return P?(v.cb=0,P):0}function Ei(v,x,P,z,Z){Z=v[x+P+32*z]+(Z>>3),v[x+P+32*z]=-256&Z?0>Z?0:255:Z}function ul(v,x,P,z,Z,ne){Ei(v,x,0,P,z+Z),Ei(v,x,1,P,z+ne),Ei(v,x,2,P,z-ne),Ei(v,x,3,P,z-Z)}function vn(v){return(20091*v>>16)+v}function Ai(v,x,P,z){var Z,ne=0,ie=s(16);for(Z=0;4>Z;++Z){var le=v[x+0]+v[x+8],he=v[x+0]-v[x+8],de=(35468*v[x+4]>>16)-vn(v[x+12]),xe=vn(v[x+4])+(35468*v[x+12]>>16);ie[ne+0]=le+xe,ie[ne+1]=he+de,ie[ne+2]=he-de,ie[ne+3]=le-xe,ne+=4,x++}for(Z=ne=0;4>Z;++Z)le=(v=ie[ne+0]+4)+ie[ne+8],he=v-ie[ne+8],de=(35468*ie[ne+4]>>16)-vn(ie[ne+12]),Ei(P,z,0,0,le+(xe=vn(ie[ne+4])+(35468*ie[ne+12]>>16))),Ei(P,z,1,0,he+de),Ei(P,z,2,0,he-de),Ei(P,z,3,0,le-xe),ne++,z+=32}function Fa(v,x,P,z){var Z=v[x+0]+4,ne=35468*v[x+4]>>16,ie=vn(v[x+4]),le=35468*v[x+1]>>16;ul(P,z,0,Z+ie,v=vn(v[x+1]),le),ul(P,z,1,Z+ne,v,le),ul(P,z,2,Z-ne,v,le),ul(P,z,3,Z-ie,v,le)}function Va(v,x,P,z,Z){Ai(v,x,P,z),Z&&Ai(v,x+16,P,z+4)}function Hs(v,x,P,z){Ea(v,x+0,P,z,1),Ea(v,x+32,P,z+128,1)}function Dn(v,x,P,z){var Z;for(v=v[x+0]+4,Z=0;4>Z;++Z)for(x=0;4>x;++x)Ei(P,z,x,Z,v)}function Ba(v,x,P,z){v[x+0]&&Ur(v,x+0,P,z),v[x+16]&&Ur(v,x+16,P,z+4),v[x+32]&&Ur(v,x+32,P,z+128),v[x+48]&&Ur(v,x+48,P,z+128+4)}function ls(v,x,P,z){var Z,ne=s(16);for(Z=0;4>Z;++Z){var ie=v[x+0+Z]+v[x+12+Z],le=v[x+4+Z]+v[x+8+Z],he=v[x+4+Z]-v[x+8+Z],de=v[x+0+Z]-v[x+12+Z];ne[0+Z]=ie+le,ne[8+Z]=ie-le,ne[4+Z]=de+he,ne[12+Z]=de-he}for(Z=0;4>Z;++Z)ie=(v=ne[0+4*Z]+3)+ne[3+4*Z],le=ne[1+4*Z]+ne[2+4*Z],he=ne[1+4*Z]-ne[2+4*Z],de=v-ne[3+4*Z],P[z+0]=ie+le>>3,P[z+16]=de+he>>3,P[z+32]=ie-le>>3,P[z+48]=de-he>>3,z+=64}function ya(v,x,P){var z,Z=x-32,ne=mi,ie=255-v[Z-1];for(z=0;z<P;++z){var le,he=ne,de=ie+v[x-1];for(le=0;le<P;++le)v[x+le]=he[de+v[Z+le]];x+=32}}function Lu(v,x){ya(v,x,4)}function Tc(v,x){ya(v,x,8)}function Ec(v,x){ya(v,x,16)}function va(v,x){var P;for(P=0;16>P;++P)r(v,x+32*P,v,x-32,16)}function hl(v,x){var P;for(P=16;0<P;--P)i(v,x,v[x-1],16),x+=32}function ba(v,x,P){var z;for(z=0;16>z;++z)i(x,P+32*z,v,16)}function qs(v,x){var P,z=16;for(P=0;16>P;++P)z+=v[x-1+32*P]+v[x+P-32];ba(z>>5,v,x)}function zn(v,x){var P,z=8;for(P=0;16>P;++P)z+=v[x-1+32*P];ba(z>>4,v,x)}function wa(v,x){var P,z=8;for(P=0;16>P;++P)z+=v[x+P-32];ba(z>>4,v,x)}function Ws(v,x){ba(128,v,x)}function Rt(v,x,P){return v+2*x+P+2>>2}function Ys(v,x){var P,z=x-32;for(z=new Uint8Array([Rt(v[z-1],v[z+0],v[z+1]),Rt(v[z+0],v[z+1],v[z+2]),Rt(v[z+1],v[z+2],v[z+3]),Rt(v[z+2],v[z+3],v[z+4])]),P=0;4>P;++P)r(v,x+32*P,z,0,z.length)}function Iu(v,x){var P=v[x-1],z=v[x-1+32],Z=v[x-1+64],ne=v[x-1+96];je(v,x+0,16843009*Rt(v[x-1-32],P,z)),je(v,x+32,16843009*Rt(P,z,Z)),je(v,x+64,16843009*Rt(z,Z,ne)),je(v,x+96,16843009*Rt(Z,ne,ne))}function Oi(v,x){var P,z=4;for(P=0;4>P;++P)z+=v[x+P-32]+v[x-1+32*P];for(z>>=3,P=0;4>P;++P)i(v,x+32*P,z,4)}function cs(v,x){var P=v[x-1+0],z=v[x-1+32],Z=v[x-1+64],ne=v[x-1-32],ie=v[x+0-32],le=v[x+1-32],he=v[x+2-32],de=v[x+3-32];v[x+0+96]=Rt(z,Z,v[x-1+96]),v[x+1+96]=v[x+0+64]=Rt(P,z,Z),v[x+2+96]=v[x+1+64]=v[x+0+32]=Rt(ne,P,z),v[x+3+96]=v[x+2+64]=v[x+1+32]=v[x+0+0]=Rt(ie,ne,P),v[x+3+64]=v[x+2+32]=v[x+1+0]=Rt(le,ie,ne),v[x+3+32]=v[x+2+0]=Rt(he,le,ie),v[x+3+0]=Rt(de,he,le)}function Gi(v,x){var P=v[x+1-32],z=v[x+2-32],Z=v[x+3-32],ne=v[x+4-32],ie=v[x+5-32],le=v[x+6-32],he=v[x+7-32];v[x+0+0]=Rt(v[x+0-32],P,z),v[x+1+0]=v[x+0+32]=Rt(P,z,Z),v[x+2+0]=v[x+1+32]=v[x+0+64]=Rt(z,Z,ne),v[x+3+0]=v[x+2+32]=v[x+1+64]=v[x+0+96]=Rt(Z,ne,ie),v[x+3+32]=v[x+2+64]=v[x+1+96]=Rt(ne,ie,le),v[x+3+64]=v[x+2+96]=Rt(ie,le,he),v[x+3+96]=Rt(le,he,he)}function $s(v,x){var P=v[x-1+0],z=v[x-1+32],Z=v[x-1+64],ne=v[x-1-32],ie=v[x+0-32],le=v[x+1-32],he=v[x+2-32],de=v[x+3-32];v[x+0+0]=v[x+1+64]=ne+ie+1>>1,v[x+1+0]=v[x+2+64]=ie+le+1>>1,v[x+2+0]=v[x+3+64]=le+he+1>>1,v[x+3+0]=he+de+1>>1,v[x+0+96]=Rt(Z,z,P),v[x+0+64]=Rt(z,P,ne),v[x+0+32]=v[x+1+96]=Rt(P,ne,ie),v[x+1+32]=v[x+2+96]=Rt(ne,ie,le),v[x+2+32]=v[x+3+96]=Rt(ie,le,he),v[x+3+32]=Rt(le,he,de)}function us(v,x){var P=v[x+0-32],z=v[x+1-32],Z=v[x+2-32],ne=v[x+3-32],ie=v[x+4-32],le=v[x+5-32],he=v[x+6-32],de=v[x+7-32];v[x+0+0]=P+z+1>>1,v[x+1+0]=v[x+0+64]=z+Z+1>>1,v[x+2+0]=v[x+1+64]=Z+ne+1>>1,v[x+3+0]=v[x+2+64]=ne+ie+1>>1,v[x+0+32]=Rt(P,z,Z),v[x+1+32]=v[x+0+96]=Rt(z,Z,ne),v[x+2+32]=v[x+1+96]=Rt(Z,ne,ie),v[x+3+32]=v[x+2+96]=Rt(ne,ie,le),v[x+3+64]=Rt(ie,le,he),v[x+3+96]=Rt(le,he,de)}function Ua(v,x){var P=v[x-1+0],z=v[x-1+32],Z=v[x-1+64],ne=v[x-1+96];v[x+0+0]=P+z+1>>1,v[x+2+0]=v[x+0+32]=z+Z+1>>1,v[x+2+32]=v[x+0+64]=Z+ne+1>>1,v[x+1+0]=Rt(P,z,Z),v[x+3+0]=v[x+1+32]=Rt(z,Z,ne),v[x+3+32]=v[x+1+64]=Rt(Z,ne,ne),v[x+3+64]=v[x+2+64]=v[x+0+96]=v[x+1+96]=v[x+2+96]=v[x+3+96]=ne}function _a(v,x){var P=v[x-1+0],z=v[x-1+32],Z=v[x-1+64],ne=v[x-1+96],ie=v[x-1-32],le=v[x+0-32],he=v[x+1-32],de=v[x+2-32];v[x+0+0]=v[x+2+32]=P+ie+1>>1,v[x+0+32]=v[x+2+64]=z+P+1>>1,v[x+0+64]=v[x+2+96]=Z+z+1>>1,v[x+0+96]=ne+Z+1>>1,v[x+3+0]=Rt(le,he,de),v[x+2+0]=Rt(ie,le,he),v[x+1+0]=v[x+3+32]=Rt(P,ie,le),v[x+1+32]=v[x+3+64]=Rt(z,P,ie),v[x+1+64]=v[x+3+96]=Rt(Z,z,P),v[x+1+96]=Rt(ne,Z,z)}function Ac(v,x){var P;for(P=0;8>P;++P)r(v,x+32*P,v,x-32,8)}function hs(v,x){var P;for(P=0;8>P;++P)i(v,x,v[x-1],8),x+=32}function ji(v,x,P){var z;for(z=0;8>z;++z)i(x,P+32*z,v,8)}function Gs(v,x){var P,z=8;for(P=0;8>P;++P)z+=v[x+P-32]+v[x-1+32*P];ji(z>>4,v,x)}function Vr(v,x){var P,z=4;for(P=0;8>P;++P)z+=v[x+P-32];ji(z>>3,v,x)}function an(v,x){var P,z=4;for(P=0;8>P;++P)z+=v[x-1+32*P];ji(z>>3,v,x)}function za(v,x){ji(128,v,x)}function Ks(v,x,P){var z=v[x-P],Z=v[x+0],ne=3*(Z-z)+Ad[1020+v[x-2*P]-v[x+P]],ie=Ic[112+(ne+4>>3)];v[x-P]=mi[255+z+Ic[112+(ne+3>>3)]],v[x+0]=mi[255+Z-ie]}function Cc(v,x,P,z){var Z=v[x+0],ne=v[x+P];return Zs[255+v[x-2*P]-v[x-P]]>z||Zs[255+ne-Z]>z}function Ao(v,x,P,z){return 4*Zs[255+v[x-P]-v[x+0]]+Zs[255+v[x-2*P]-v[x+P]]<=z}function Co(v,x,P,z,Z){var ne=v[x-3*P],ie=v[x-2*P],le=v[x-P],he=v[x+0],de=v[x+P],xe=v[x+2*P],Me=v[x+3*P];return 4*Zs[255+le-he]+Zs[255+ie-de]>z?0:Zs[255+v[x-4*P]-ne]<=Z&&Zs[255+ne-ie]<=Z&&Zs[255+ie-le]<=Z&&Zs[255+Me-xe]<=Z&&Zs[255+xe-de]<=Z&&Zs[255+de-he]<=Z}function Ls(v,x,P,z){var Z=2*z+1;for(z=0;16>z;++z)Ao(v,x+z,P,Z)&&Ks(v,x+z,P)}function Fi(v,x,P,z){var Z=2*z+1;for(z=0;16>z;++z)Ao(v,x+z*P,1,Z)&&Ks(v,x+z*P,1)}function Br(v,x,P,z){var Z;for(Z=3;0<Z;--Z)Ls(v,x+=4*P,P,z)}function Ou(v,x,P,z){var Z;for(Z=3;0<Z;--Z)Fi(v,x+=4,P,z)}function Ha(v,x,P,z,Z,ne,ie,le){for(ne=2*ne+1;0<Z--;){if(Co(v,x,P,ne,ie))if(Cc(v,x,P,le))Ks(v,x,P);else{var he=v,de=x,xe=P,Me=he[de-2*xe],Pe=he[de-xe],ke=he[de+0],$e=he[de+xe],Ve=he[de+2*xe],Se=27*(He=Ad[1020+3*(ke-Pe)+Ad[1020+Me-$e]])+63>>7,Ae=18*He+63>>7,He=9*He+63>>7;he[de-3*xe]=mi[255+he[de-3*xe]+He],he[de-2*xe]=mi[255+Me+Ae],he[de-xe]=mi[255+Pe+Se],he[de+0]=mi[255+ke-Se],he[de+xe]=mi[255+$e-Ae],he[de+2*xe]=mi[255+Ve-He]}x+=z}}function Ci(v,x,P,z,Z,ne,ie,le){for(ne=2*ne+1;0<Z--;){if(Co(v,x,P,ne,ie))if(Cc(v,x,P,le))Ks(v,x,P);else{var he=v,de=x,xe=P,Me=he[de-xe],Pe=he[de+0],ke=he[de+xe],$e=Ic[112+((Ve=3*(Pe-Me))+4>>3)],Ve=Ic[112+(Ve+3>>3)],Se=$e+1>>1;he[de-2*xe]=mi[255+he[de-2*xe]+Se],he[de-xe]=mi[255+Me+Ve],he[de+0]=mi[255+Pe-$e],he[de+xe]=mi[255+ke-Se]}x+=z}}function qa(v,x,P,z,Z,ne){Ha(v,x,P,1,16,z,Z,ne)}function xa(v,x,P,z,Z,ne){Ha(v,x,1,P,16,z,Z,ne)}function fl(v,x,P,z,Z,ne){var ie;for(ie=3;0<ie;--ie)Ci(v,x+=4*P,P,1,16,z,Z,ne)}function Do(v,x,P,z,Z,ne){var ie;for(ie=3;0<ie;--ie)Ci(v,x+=4,1,P,16,z,Z,ne)}function dl(v,x,P,z,Z,ne,ie,le){Ha(v,x,Z,1,8,ne,ie,le),Ha(P,z,Z,1,8,ne,ie,le)}function Dc(v,x,P,z,Z,ne,ie,le){Ha(v,x,1,Z,8,ne,ie,le),Ha(P,z,1,Z,8,ne,ie,le)}function ko(v,x,P,z,Z,ne,ie,le){Ci(v,x+4*Z,Z,1,8,ne,ie,le),Ci(P,z+4*Z,Z,1,8,ne,ie,le)}function Wa(v,x,P,z,Z,ne,ie,le){Ci(v,x+4,1,Z,8,ne,ie,le),Ci(P,z+4,1,Z,8,ne,ie,le)}function No(){this.ba=new Gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Po(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ya(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new L}function ju(){this.xb=this.a=0,this.l=new ga,this.ca=new Gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ya,this.ab=0,this.gc=a(4,Po),this.Oc=0}function Sa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ga,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $a(v,x,P,z,Z,ne,ie){for(v=v==null?0:v[x+0],x=0;x<ie;++x)Z[ne+x]=v+P[z+x]&255,v=Z[ne+x]}function Ro(v,x,P,z,Z,ne,ie){var le;if(v==null)$a(null,null,P,z,Z,ne,ie);else for(le=0;le<ie;++le)Z[ne+le]=v[x+le]+P[z+le]&255}function Vi(v,x,P,z,Z,ne,ie){if(v==null)$a(null,null,P,z,Z,ne,ie);else{var le,he=v[x+0],de=he,xe=he;for(le=0;le<ie;++le)de=xe+(he=v[x+le])-de,xe=P[z+le]+(-256&de?0>de?0:255:de)&255,de=he,Z[ne+le]=xe}}function ml(v,x,P,z){var Z=x.width,ne=x.o;if(e(v!=null&&x!=null),0>P||0>=z||P+z>ne)return null;if(!v.Cc){if(v.ga==null){var ie;if(v.ga=new Sa,(ie=v.ga==null)||(ie=x.width*x.o,e(v.Gb.length==0),v.Gb=s(ie),v.Uc=0,v.Gb==null?ie=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,ie=1),ie=!ie),!ie){ie=v.ga;var le=v.Fa,he=v.P,de=v.qc,xe=v.mb,Me=v.nb,Pe=he+1,ke=de-1,$e=ie.l;if(e(le!=null&&xe!=null&&x!=null),Za[0]=null,Za[1]=$a,Za[2]=Ro,Za[3]=Vi,ie.ca=xe,ie.tb=Me,ie.c=x.width,ie.i=x.height,e(0<ie.c&&0<ie.i),1>=de)x=0;else if(ie.$a=le[he+0]>>0&3,ie.Z=le[he+0]>>2&3,ie.Lc=le[he+0]>>4&3,he=le[he+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||he)x=0;else if($e.put=Ti,$e.ac=br,$e.bc=Ps,$e.ma=ie,$e.width=x.width,$e.height=x.height,$e.Da=x.Da,$e.v=x.v,$e.va=x.va,$e.j=x.j,$e.o=x.o,ie.$a)e:{e(ie.$a==1),x=Jn();t:for(;;){if(x==null){x=0;break e}if(e(ie!=null),ie.mc=x,x.c=ie.c,x.i=ie.i,x.l=ie.l,x.l.ma=ie,x.l.width=ie.c,x.l.height=ie.i,x.a=0,re(x.m,le,Pe,ke),!Cn(ie.c,ie.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&$i(x.s)?(ie.ic=1,le=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(le),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(ie.ic=0,x=da(x,ie.c)),!x))break t;x=1;break e}ie.mc=null,x=0}else x=ke>=ie.c*ie.i;ie=!x}if(ie)return null;v.ga.Lc!=1?v.Ga=0:z=ne-P}e(v.ga!=null),e(P+z<=ne);e:{if(x=(le=v.ga).c,ne=le.l.o,le.$a==0){if(Pe=v.rc,ke=v.Vc,$e=v.Fa,he=v.P+1+P*x,de=v.mb,xe=v.nb+P*x,e(he<=v.P+v.qc),le.Z!=0)for(e(Za[le.Z]!=null),ie=0;ie<z;++ie)Za[le.Z](Pe,ke,$e,he,de,xe,x),Pe=de,ke=xe,xe+=x,he+=x;else for(ie=0;ie<z;++ie)r(de,xe,$e,he,x),Pe=de,ke=xe,xe+=x,he+=x;v.rc=Pe,v.Vc=ke}else{if(e(le.mc!=null),x=P+z,e((ie=le.mc)!=null),e(x<=ie.i),ie.C>=x)x=1;else if(le.ic||De(),le.ic){le=ie.V,Pe=ie.Ba,ke=ie.c;var Ve=ie.i,Se=($e=1,he=ie.$/ke,de=ie.$%ke,xe=ie.m,Me=ie.s,ie.$),Ae=ke*Ve,He=ke*x,Ge=Me.wc,We=Se<He?wr(Me,de,he):null;e(Se<=Ae),e(x<=Ve),e($i(Me));t:for(;;){for(;!xe.h&&Se<He;){if(de&Ge||(We=wr(Me,de,he)),e(We!=null),fe(xe),256>(Ve=ir(We.G[0],We.H[0],xe)))le[Pe+Se]=Ve,++Se,++de>=ke&&(de=0,++he<=x&&!(he%16)&&Kr(ie,he));else{if(!(280>Ve)){$e=0;break t}Ve=In(Ve-256,xe);var ft,it=ir(We.G[4],We.H[4],xe);if(fe(xe),!(Se>=(it=On(ke,it=In(it,xe)))&&Ae-Se>=Ve)){$e=0;break t}for(ft=0;ft<Ve;++ft)le[Pe+Se+ft]=le[Pe+Se+ft-it];for(Se+=Ve,de+=Ve;de>=ke;)de-=ke,++he<=x&&!(he%16)&&Kr(ie,he);Se<He&&de&Ge&&(We=wr(Me,de,he))}e(xe.h==te(xe))}Kr(ie,he>x?x:he);break t}!$e||xe.h&&Se<Ae?($e=0,ie.a=xe.h?5:3):ie.$=Se,x=$e}else x=Fr(ie,ie.V,ie.Ba,ie.c,ie.i,x,pa);if(!x){z=0;break e}}P+z>=ne&&(v.Cc=1),z=1}if(!z)return null;if(v.Cc&&((z=v.ga)!=null&&(z.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+P*Z}function D(v,x,P,z,Z,ne){for(;0<Z--;){var ie,le=v,he=x+(P?1:0),de=v,xe=x+(P?0:3);for(ie=0;ie<z;++ie){var Me=de[xe+4*ie];Me!=255&&(Me*=32897,le[he+4*ie+0]=le[he+4*ie+0]*Me>>23,le[he+4*ie+1]=le[he+4*ie+1]*Me>>23,le[he+4*ie+2]=le[he+4*ie+2]*Me>>23)}x+=ne}}function ee(v,x,P,z,Z){for(;0<z--;){var ne;for(ne=0;ne<P;++ne){var ie=v[x+2*ne+0],le=15&(de=v[x+2*ne+1]),he=4369*le,de=(240&de|de>>4)*he>>16;v[x+2*ne+0]=(240&ie|ie>>4)*he>>16&240|(15&ie|ie<<4)*he>>16>>4&15,v[x+2*ne+1]=240&de|le}x+=Z}}function me(v,x,P,z,Z,ne,ie,le){var he,de,xe=255;for(de=0;de<Z;++de){for(he=0;he<z;++he){var Me=v[x+he];ne[ie+4*he]=Me,xe&=Me}x+=P,ie+=le}return xe!=255}function we(v,x,P,z,Z){var ne;for(ne=0;ne<Z;++ne)P[z+ne]=v[x+ne]>>8}function De(){Is=D,nn=ee,rn=me,er=we}function ze(v,x,P){k[v]=function(z,Z,ne,ie,le,he,de,xe,Me,Pe,ke,$e,Ve,Se,Ae,He,Ge){var We,ft=Ge-1>>1,it=le[he+0]|de[xe+0]<<16,Et=Me[Pe+0]|ke[$e+0]<<16;e(z!=null);var at=3*it+Et+131074>>2;for(x(z[Z+0],255&at,at>>16,Ve,Se),ne!=null&&(at=3*Et+it+131074>>2,x(ne[ie+0],255&at,at>>16,Ae,He)),We=1;We<=ft;++We){var wn=le[he+We]|de[xe+We]<<16,Nn=Me[Pe+We]|ke[$e+We]<<16,en=it+wn+Et+Nn+524296,Qt=en+2*(wn+Et)>>3;at=Qt+it>>1,it=(en=en+2*(it+Nn)>>3)+wn>>1,x(z[Z+2*We-1],255&at,at>>16,Ve,Se+(2*We-1)*P),x(z[Z+2*We-0],255&it,it>>16,Ve,Se+(2*We-0)*P),ne!=null&&(at=en+Et>>1,it=Qt+Nn>>1,x(ne[ie+2*We-1],255&at,at>>16,Ae,He+(2*We-1)*P),x(ne[ie+2*We+0],255&it,it>>16,Ae,He+(2*We+0)*P)),it=wn,Et=Nn}1&Ge||(at=3*it+Et+131074>>2,x(z[Z+Ge-1],255&at,at>>16,Ve,Se+(Ge-1)*P),ne!=null&&(at=3*Et+it+131074>>2,x(ne[ie+Ge-1],255&at,at>>16,Ae,He+(Ge-1)*P)))}}function Qe(){gi[Bi]=Uo,gi[zu]=eo,gi[Qa]=kl,gi[of]=kd,gi[Oc]=Nd,gi[Oo]=Wu,gi[Cd]=Pd,gi[lf]=eo,gi[Cl]=kd,gi[jo]=Nd,gi[Hu]=Wu}function st(v){return v&-16384?0>v?0:255:v>>Q2}function b(v,x){return st((19077*v>>8)+(26149*x>>8)-14234)}function I(v,x,P){return st((19077*v>>8)-(6419*x>>8)-(13320*P>>8)+8708)}function Y(v,x){return st((19077*v>>8)+(33050*x>>8)-17685)}function ce(v,x,P,z,Z){z[Z+0]=b(v,P),z[Z+1]=I(v,x,P),z[Z+2]=Y(v,x)}function Ce(v,x,P,z,Z){z[Z+0]=Y(v,x),z[Z+1]=I(v,x,P),z[Z+2]=b(v,P)}function Le(v,x,P,z,Z){var ne=I(v,x,P);x=ne<<3&224|Y(v,x)>>3,z[Z+0]=248&b(v,P)|ne>>5,z[Z+1]=x}function Je(v,x,P,z,Z){var ne=240&Y(v,x)|15;z[Z+0]=240&b(v,P)|I(v,x,P)>>4,z[Z+1]=ne}function Mt(v,x,P,z,Z){z[Z+0]=255,ce(v,x,P,z,Z+1)}function on(v,x,P,z,Z){Ce(v,x,P,z,Z),z[Z+3]=255}function qt(v,x,P,z,Z){ce(v,x,P,z,Z),z[Z+3]=255}function kn(v,x){return 0>v?0:v>x?x:v}function Fn(v,x,P){k[v]=function(z,Z,ne,ie,le,he,de,xe,Me){for(var Pe=xe+(-2&Me)*P;xe!=Pe;)x(z[Z+0],ne[ie+0],le[he+0],de,xe),x(z[Z+1],ne[ie+0],le[he+0],de,xe+P),Z+=2,++ie,++he,xe+=2*P;1&Me&&x(z[Z+0],ne[ie+0],le[he+0],de,xe)}}function Xs(v,x,P){return P==0?v==0?x==0?6:5:x==0?4:0:P}function Cr(v,x,P,z,Z){switch(v>>>30){case 3:Ea(x,P,z,Z,0);break;case 2:_r(x,P,z,Z);break;case 1:Ur(x,P,z,Z)}}function fs(v,x){var P,z,Z=x.M,ne=x.Nb,ie=v.oc,le=v.pc+40,he=v.oc,de=v.pc+584,xe=v.oc,Me=v.pc+600;for(P=0;16>P;++P)ie[le+32*P-1]=129;for(P=0;8>P;++P)he[de+32*P-1]=129,xe[Me+32*P-1]=129;for(0<Z?ie[le-1-32]=he[de-1-32]=xe[Me-1-32]=129:(i(ie,le-32-1,127,21),i(he,de-32-1,127,9),i(xe,Me-32-1,127,9)),z=0;z<v.za;++z){var Pe=x.ya[x.aa+z];if(0<z){for(P=-1;16>P;++P)r(ie,le+32*P-4,ie,le+32*P+12,4);for(P=-1;8>P;++P)r(he,de+32*P-4,he,de+32*P+4,4),r(xe,Me+32*P-4,xe,Me+32*P+4,4)}var ke=v.Gd,$e=v.Hd+z,Ve=Pe.ad,Se=Pe.Hc;if(0<Z&&(r(ie,le-32,ke[$e].y,0,16),r(he,de-32,ke[$e].f,0,8),r(xe,Me-32,ke[$e].ea,0,8)),Pe.Za){var Ae=ie,He=le-32+16;for(0<Z&&(z>=v.za-1?i(Ae,He,ke[$e].y[15],4):r(Ae,He,ke[$e+1].y,0,4)),P=0;4>P;P++)Ae[He+128+P]=Ae[He+256+P]=Ae[He+384+P]=Ae[He+0+P];for(P=0;16>P;++P,Se<<=2)Ae=ie,He=le+Bc[P],Xi[Pe.Ob[P]](Ae,He),Cr(Se,Ve,16*+P,Ae,He)}else if(Ae=Xs(z,Z,Pe.Ob[0]),Bo[Ae](ie,le),Se!=0)for(P=0;16>P;++P,Se<<=2)Cr(Se,Ve,16*+P,ie,le+Bc[P]);for(P=Pe.Gc,Ae=Xs(z,Z,Pe.Dd),js[Ae](he,de),js[Ae](xe,Me),Se=Ve,Ae=he,He=de,255&(Pe=P>>0)&&(170&Pe?Aa(Se,256,Ae,He):ms(Se,256,Ae,He)),Pe=xe,Se=Me,255&(P>>=8)&&(170&P?Aa(Ve,320,Pe,Se):ms(Ve,320,Pe,Se)),Z<v.Ub-1&&(r(ke[$e].y,0,ie,le+480,16),r(ke[$e].f,0,he,de+224,8),r(ke[$e].ea,0,xe,Me+224,8)),P=8*ne*v.B,ke=v.sa,$e=v.ta+16*z+16*ne*v.R,Ve=v.qa,Pe=v.ra+8*z+P,Se=v.Ha,Ae=v.Ia+8*z+P,P=0;16>P;++P)r(ke,$e+P*v.R,ie,le+32*P,16);for(P=0;8>P;++P)r(Ve,Pe+P*v.B,he,de+32*P,8),r(Se,Ae+P*v.B,xe,Me+32*P,8)}}function Ga(v,x,P,z,Z,ne,ie,le,he){var de=[0],xe=[0],Me=0,Pe=he!=null?he.kd:0,ke=he??new pl;if(v==null||12>P)return 7;ke.data=v,ke.w=x,ke.ha=P,x=[x],P=[P],ke.gb=[ke.gb];e:{var $e=x,Ve=P,Se=ke.gb;if(e(v!=null),e(Ve!=null),e(Se!=null),Se[0]=0,12<=Ve[0]&&!t(v,$e[0],"RIFF")){if(t(v,$e[0]+8,"WEBP")){Se=3;break e}var Ae=tt(v,$e[0]+4);if(12>Ae||4294967286<Ae){Se=3;break e}if(Pe&&Ae>Ve[0]-8){Se=7;break e}Se[0]=Ae,$e[0]+=12,Ve[0]-=12}Se=0}if(Se!=0)return Se;for(Ae=0<ke.gb[0],P=P[0];;){e:{var He=v;Ve=x,Se=P;var Ge=de,We=xe,ft=$e=[0];if((at=Me=[Me])[0]=0,8>Se[0])Se=7;else{if(!t(He,Ve[0],"VP8X")){if(tt(He,Ve[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var it=tt(He,Ve[0]+8),Et=1+Ze(He,Ve[0]+12);if(2147483648<=Et*(He=1+Ze(He,Ve[0]+15))){Se=3;break e}ft!=null&&(ft[0]=it),Ge!=null&&(Ge[0]=Et),We!=null&&(We[0]=He),Ve[0]+=18,Se[0]-=18,at[0]=1}Se=0}}if(Me=Me[0],$e=$e[0],Se!=0)return Se;if(Ve=!!(2&$e),!Ae&&Me)return 3;if(ne!=null&&(ne[0]=!!(16&$e)),ie!=null&&(ie[0]=Ve),le!=null&&(le[0]=0),ie=de[0],$e=xe[0],Me&&Ve&&he==null){Se=0;break}if(4>P){Se=7;break}if(Ae&&Me||!Ae&&!Me&&!t(v,x[0],"ALPH")){P=[P],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{it=v,Se=x,Ae=P;var at=ke.gb;Ge=ke.na,We=ke.P,ft=ke.Sa,Et=22,e(it!=null),e(Ae!=null),He=Se[0];var wn=Ae[0];for(e(Ge!=null),e(ft!=null),Ge[0]=null,We[0]=null,ft[0]=0;;){if(Se[0]=He,Ae[0]=wn,8>wn){Se=7;break e}var Nn=tt(it,He+4);if(4294967286<Nn){Se=3;break e}var en=8+Nn+1&-2;if(Et+=en,0<at&&Et>at){Se=3;break e}if(!t(it,He,"VP8 ")||!t(it,He,"VP8L")){Se=0;break e}if(wn[0]<en){Se=7;break e}t(it,He,"ALPH")||(Ge[0]=it,We[0]=He+8,ft[0]=Nn),He+=en,wn-=en}}if(P=P[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Se!=0)break}P=[P],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(at=v,Se=x,Ae=P,Ge=ke.gb[0],We=ke.Ja,ft=ke.xa,it=Se[0],He=!t(at,it,"VP8 "),Et=!t(at,it,"VP8L"),e(at!=null),e(Ae!=null),e(We!=null),e(ft!=null),8>Ae[0])Se=7;else{if(He||Et){if(at=tt(at,it+4),12<=Ge&&at>Ge-12){Se=3;break e}if(Pe&&at>Ae[0]-8){Se=7;break e}We[0]=at,Se[0]+=8,Ae[0]-=8,ft[0]=Et}else ft[0]=5<=Ae[0]&&at[it+0]==47&&!(at[it+4]>>5),We[0]=Ae[0];Se=0}if(P=P[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],x=x[0],Se!=0)break;if(4294967286<ke.Ja)return 3;if(le==null||Ve||(le[0]=ke.xa?2:1),ie=[ie],$e=[$e],ke.xa){if(5>P){Se=7;break}le=ie,Pe=$e,Ve=ne,v==null||5>P?v=0:5<=P&&v[x+0]==47&&!(v[x+4]>>5)?(Ae=[0],at=[0],Ge=[0],re(We=new F,v,x,P),ht(We,Ae,at,Ge)?(le!=null&&(le[0]=Ae[0]),Pe!=null&&(Pe[0]=at[0]),Ve!=null&&(Ve[0]=Ge[0]),v=1):v=0):v=0}else{if(10>P){Se=7;break}le=$e,v==null||10>P||!di(v,x+3,P-3)?v=0:(Pe=v[x+0]|v[x+1]<<8|v[x+2]<<16,Ve=16383&(v[x+7]<<8|v[x+6]),v=16383&(v[x+9]<<8|v[x+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=ke.Ja||!Ve||!v?v=0:(ie&&(ie[0]=Ve),le&&(le[0]=v),v=1))}if(!v||(ie=ie[0],$e=$e[0],Me&&(de[0]!=ie||xe[0]!=$e)))return 3;he!=null&&(he[0]=ke,he.offset=x-he.w,e(4294967286>x-he.w),e(he.offset==he.ha-P));break}return Se==0||Se==7&&Me&&he==null?(ne!=null&&(ne[0]|=ke.na!=null&&0<ke.na.length),z!=null&&(z[0]=ie),Z!=null&&(Z[0]=$e),0):Se}function gl(v,x,P){var z=x.width,Z=x.height,ne=0,ie=0,le=z,he=Z;if(x.Da=v!=null&&0<v.Da,x.Da&&(le=v.cd,he=v.bd,ne=v.v,ie=v.j,11>P||(ne&=-2,ie&=-2),0>ne||0>ie||0>=le||0>=he||ne+le>z||ie+he>Z))return 0;if(x.v=ne,x.j=ie,x.va=ne+le,x.o=ie+he,x.U=le,x.T=he,x.da=v!=null&&0<v.da,x.da){if(!Tt(le,he,P=[v.ib],ne=[v.hb]))return 0;x.ib=P[0],x.hb=ne[0]}return x.ob=v!=null&&v.ob,x.Kb=v==null||!v.Sd,x.da&&(x.ob=x.ib<3*z/4&&x.hb<3*Z/4,x.Kb=0),1}function Fu(v){if(v==null)return 2;if(11>v.S){var x=v.f.RGBA;x.fb+=(v.height-1)*x.A,x.A=-x.A}else x=v.f.kb,v=v.height,x.O+=(v-1)*x.fa,x.fa=-x.fa,x.N+=(v-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(v-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(v-1)*x.lb,x.lb=-x.lb);return 0}function kc(v,x,P,z){if(z==null||0>=v||0>=x)return 2;if(P!=null){if(P.Da){var Z=P.cd,ne=P.bd,ie=-2&P.v,le=-2&P.j;if(0>ie||0>le||0>=Z||0>=ne||ie+Z>v||le+ne>x)return 2;v=Z,x=ne}if(P.da){if(!Tt(v,x,Z=[P.ib],ne=[P.hb]))return 2;v=Z[0],x=ne[0]}}z.width=v,z.height=x;e:{var he=z.width,de=z.height;if(v=z.S,0>=he||0>=de||!(v>=Bi&&13>v))v=2;else{if(0>=z.Rd&&z.sd==null){ie=ne=Z=x=0;var xe=(le=he*K0[v])*de;if(11>v||(ne=(de+1)/2*(x=(he+1)/2),v==12&&(ie=(Z=he)*de)),(de=s(xe+2*ne+ie))==null){v=1;break e}z.sd=de,11>v?((he=z.f.RGBA).eb=de,he.fb=0,he.A=le,he.size=xe):((he=z.f.kb).y=de,he.O=0,he.fa=le,he.Fd=xe,he.f=de,he.N=0+xe,he.Ab=x,he.Cd=ne,he.ea=de,he.W=0+xe+ne,he.Db=x,he.Ed=ne,v==12&&(he.F=de,he.J=0+xe+2*ne),he.Tc=ie,he.lb=Z)}if(x=1,Z=z.S,ne=z.width,ie=z.height,Z>=Bi&&13>Z)if(11>Z)v=z.f.RGBA,x&=(le=Math.abs(v.A))*(ie-1)+ne<=v.size,x&=le>=ne*K0[Z],x&=v.eb!=null;else{v=z.f.kb,le=(ne+1)/2,xe=(ie+1)/2,he=Math.abs(v.fa),de=Math.abs(v.Ab);var Me=Math.abs(v.Db),Pe=Math.abs(v.lb),ke=Pe*(ie-1)+ne;x&=he*(ie-1)+ne<=v.Fd,x&=de*(xe-1)+le<=v.Cd,x=(x&=Me*(xe-1)+le<=v.Ed)&he>=ne&de>=le&Me>=le,x&=v.y!=null,x&=v.f!=null,x&=v.ea!=null,Z==12&&(x&=Pe>=ne,x&=ke<=v.Tc,x&=v.F!=null)}else x=0;v=x?0:2}}return v!=0||P!=null&&P.fd&&(v=Fu(z)),v}var Jr=64,yl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nc=24,Pc=32,Vu=8,ds=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(v){return v},k.Predictor2=function(v,x,P){return x[P+0]},k.Predictor3=function(v,x,P){return x[P+1]},k.Predictor4=function(v,x,P){return x[P-1]},k.Predictor5=function(v,x,P){return lt(lt(v,x[P+1]),x[P+0])},k.Predictor6=function(v,x,P){return lt(v,x[P-1])},k.Predictor7=function(v,x,P){return lt(v,x[P+0])},k.Predictor8=function(v,x,P){return lt(x[P-1],x[P+0])},k.Predictor9=function(v,x,P){return lt(x[P+0],x[P+1])},k.Predictor10=function(v,x,P){return lt(lt(v,x[P-1]),lt(x[P+0],x[P+1]))},k.Predictor11=function(v,x,P){var z=x[P+0];return 0>=Ht(z>>24&255,v>>24&255,(x=x[P-1])>>24&255)+Ht(z>>16&255,v>>16&255,x>>16&255)+Ht(z>>8&255,v>>8&255,x>>8&255)+Ht(255&z,255&v,255&x)?z:v},k.Predictor12=function(v,x,P){var z=x[P+0];return(_t((v>>24&255)+(z>>24&255)-((x=x[P-1])>>24&255))<<24|_t((v>>16&255)+(z>>16&255)-(x>>16&255))<<16|_t((v>>8&255)+(z>>8&255)-(x>>8&255))<<8|_t((255&v)+(255&z)-(255&x)))>>>0},k.Predictor13=function(v,x,P){var z=x[P-1];return(It((v=lt(v,x[P+0]))>>24&255,z>>24&255)<<24|It(v>>16&255,z>>16&255)<<16|It(v>>8&255,z>>8&255)<<8|It(v>>0&255,z>>0&255))>>>0};var om=k.PredictorAdd0;k.PredictorAdd1=xt,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var sf=k.PredictorAdd2;Xt("ColorIndexInverseTransform","MapARGB","32b",(function(v){return v>>8&255}),(function(v){return v})),Xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(v){return v}),(function(v){return v>>8&255}));var Ed,Qs=k.ColorIndexInverseTransform,pi=k.MapARGB,vl=k.VP8LColorIndexInverseTransformAlpha,af=k.MapAlpha,Mo=k.VP8LPredictorsAdd=[];Mo.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var bl,Ki,Di,wl,ps,Ta,Ka,Ea,_r,Aa,Ur,ms,Rc,Xa,Bu,_l,xl,Sl,Mc,Uu,Tl,Lo,Lc,xr,Is,nn,rn,er,Dr=s(511),Js=s(2041),El=s(225),Al=s(767),Io=0,Ad=Js,Ic=El,mi=Al,Zs=Dr,Bi=0,zu=1,Qa=2,of=3,Oc=4,Oo=5,Cd=6,lf=7,Cl=8,jo=9,Hu=10,Dd=[2,3,7],ea=[3,3,11],Os=[280,256,256,256,40],jc=[0,1,1,1,0],Fo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],q0=8,cf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],uf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zr=null,Sr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Dl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ja=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],lm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],W0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bo=[],Xi=[],js=[],Y0=1,qu=2,Za=[],gi=[];ze("UpsampleRgbLinePair",ce,3),ze("UpsampleBgrLinePair",Ce,3),ze("UpsampleRgbaLinePair",qt,4),ze("UpsampleBgraLinePair",on,4),ze("UpsampleArgbLinePair",Mt,4),ze("UpsampleRgba4444LinePair",Je,2),ze("UpsampleRgb565LinePair",Le,2);var Uo=k.UpsampleRgbLinePair,kl=k.UpsampleBgrLinePair,eo=k.UpsampleRgbaLinePair,kd=k.UpsampleBgraLinePair,Nd=k.UpsampleArgbLinePair,Wu=k.UpsampleRgba4444LinePair,Pd=k.UpsampleRgb565LinePair,to=16,ei=1<<to-1,Nl=-227,Rd=482,Q2=6,$0=0,J2=s(256),ti=s(256),cm=s(256),hf=s(256),ff=s(Rd-Nl),um=s(Rd-Nl);Fn("YuvToRgbRow",ce,3),Fn("YuvToBgrRow",Ce,3),Fn("YuvToRgbaRow",qt,4),Fn("YuvToBgraRow",on,4),Fn("YuvToArgbRow",Mt,4),Fn("YuvToRgba4444Row",Je,2),Fn("YuvToRgb565Row",Le,2);var Bc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zo=[0,2,8],Z2=[8,7,6,4,4,2,2,2,1,1,1,1],G0=1;this.WebPDecodeRGBA=function(v,x,P,z,Z){var ne=zu,ie=new No,le=new Gr;ie.ba=le,le.S=ne,le.width=[le.width],le.height=[le.height];var he=le.width,de=le.height,xe=new Si;if(xe==null||v==null)var Me=2;else e(xe!=null),Me=Ga(v,x,P,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Me!=0?he=0:(he!=null&&(he[0]=xe.width[0]),de!=null&&(de[0]=xe.height[0]),he=1),he){le.width=le.width[0],le.height=le.height[0],z!=null&&(z[0]=le.width),Z!=null&&(Z[0]=le.height);e:{if(z=new ga,(Z=new pl).data=v,Z.w=x,Z.ha=P,Z.kd=1,x=[0],e(Z!=null),((v=Ga(Z.data,Z.w,Z.ha,null,null,null,x,null,Z))==0||v==7)&&x[0]&&(v=4),(x=v)==0){if(e(ie!=null),z.data=Z.data,z.w=Z.w+Z.offset,z.ha=Z.ha-Z.offset,z.put=Ti,z.ac=br,z.bc=Ps,z.ma=ie,Z.xa){if((v=Jn())==null){ie=1;break e}if((function(Pe,ke){var $e=[0],Ve=[0],Se=[0];t:for(;;){if(Pe==null)return 0;if(ke==null)return Pe.a=2,0;if(Pe.l=ke,Pe.a=0,re(Pe.m,ke.data,ke.w,ke.ha),!ht(Pe.m,$e,Ve,Se)){Pe.a=3;break t}if(Pe.xb=qu,ke.width=$e[0],ke.height=Ve[0],!Cn($e[0],Ve[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0})(v,z)){if(z=(x=kc(z.width,z.height,ie.Oa,ie.ba))==0){t:{z=v;n:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((P=z.l)!=null),e((Z=P.ma)!=null),z.xb!=0){if(z.ca=Z.ba,z.tb=Z.tb,e(z.ca!=null),!gl(Z.Oa,P,of)){z.a=2;break n}if(!da(z,P.width)||P.da)break n;if((P.da||hn(z.ca.S))&&De(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&De()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!pt(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!Fr(z,z.V,z.Ba,z.c,z.i,P.o,So))break n;Z.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(x=v.a)}else x=v.a}else{if((v=new xc)==null){ie=1;break e}if(v.Fa=Z.na,v.P=Z.P,v.qc=Z.Sa,cl(v,z)){if((x=kc(z.width,z.height,ie.Oa,ie.ba))==0){if(v.Aa=0,P=ie.Oa,e((Z=v)!=null),P!=null){if(0<(he=0>(he=P.Md)?0:100<he?255:255*he/100)){for(de=xe=0;4>de;++de)12>(Me=Z.pb[de]).lc&&(Me.ia=he*Z2[0>Me.lc?0:Me.lc]>>3),xe|=Me.ia;xe&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=P.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}Sc(v,z)||(x=v.a)}}else x=v.a}x==0&&ie.Oa!=null&&ie.Oa.fd&&(x=Fu(ie.ba))}ie=x}ne=ie!=0?null:11>ne?le.f.RGBA.eb:le.f.kb.y}else ne=null;return ne};var K0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(k,O){for(var H="",R=0;R<4;R++)H+=String.fromCharCode(k[O++]);return H}function d(k,O){return(k[O+0]<<0|k[O+1]<<8|k[O+2]<<16)>>>0}function p(k,O){return(k[O+0]<<0|k[O+1]<<8|k[O+2]<<16|k[O+3]<<24)>>>0}new c;var g=[0],y=[0],_=[],S=new c,T=n,E=(function(k,O){var H={},R=0,L=!1,V=0,se=0;if(H.frames=[],!(function(W,te,ae,fe){for(var _e=0;_e<fe;_e++)if(W[te+_e]!=ae.charCodeAt(_e))return!0;return!1})(k,O,"RIFF",4)){var pe,G;for(p(k,O+=4),O+=8;O<k.length;){var Q=h(k,O),re=p(k,O+=4);O+=4;var J=re+(1&re);switch(Q){case"VP8 ":case"VP8L":H.frames[R]===void 0&&(H.frames[R]={}),(F=H.frames[R]).src_off=L?se:O-8,F.src_size=V+re+8,R++,L&&(L=!1,V=0,se=0);break;case"VP8X":(F=H.header={}).feature_flags=k[O];var q=O+4;F.canvas_width=1+d(k,q),q+=3,F.canvas_height=1+d(k,q),q+=3;break;case"ALPH":L=!0,V=J+8,se=O-8;break;case"ANIM":(F=H.header).bgcolor=p(k,O),q=O+4,F.loop_count=(pe=k)[(G=q)+0]<<0|pe[G+1]<<8,q+=2;break;case"ANMF":var oe,F;(F=H.frames[R]={}).offset_x=2*d(k,O),O+=3,F.offset_y=2*d(k,O),O+=3,F.width=1+d(k,O),O+=3,F.height=1+d(k,O),O+=3,F.duration=d(k,O),O+=3,oe=k[O++],F.dispose=1&oe,F.blend=oe>>1&1}Q!="ANMF"&&(O+=J)}return H}})(T,0);E.response=T,E.rgbaoutput=!0,E.dataurl=!1;var A=E.header?E.header:null,N=E.frames?E.frames:null;if(A){A.loop_counter=A.loop_count,g=[A.canvas_height],y=[A.canvas_width];for(var j=0;j<N.length&&N[j].blend!=0;j++);}var U=N[0],K=S.WebPDecodeRGBA(T,U.src_off,U.src_size,y,g);U.rgba=K,U.imgwidth=y[0],U.imgheight=g[0];for(var M=0;M<y[0]*g[0]*4;M++)_[M]=K[M];return this.width=y,this.height=g,this.data=_,this}(function(n){var e=function(){return typeof F5=="function"},t=function(g,y,_,S){var T=4,E=a;switch(S){case n.image_compression.FAST:T=1,E=s;break;case n.image_compression.MEDIUM:T=6,E=l;break;case n.image_compression.SLOW:T=9,E=c}g=r(g,y,_,E);var A=F5(g,{level:T});return n.__addimage__.arrayBufferToBinaryString(A)},r=function(g,y,_,S){for(var T,E,A,N=g.length/y,j=new Uint8Array(g.length+N),U=d(),K=0;K<N;K+=1){if(A=K*y,T=g.subarray(A,A+y),S)j.set(S(T,_,E),A+K);else{for(var M,k=U.length,O=[];M<k;M+=1)O[M]=U[M](T,_,E);var H=p(O.concat());j.set(O[H],A+K)}E=T}return j},i=function(g){var y=Array.apply([],g);return y.unshift(0),y},s=function(g,y){var _,S=[],T=g.length;S[0]=1;for(var E=0;E<T;E+=1)_=g[E-y]||0,S[E+1]=g[E]-_+256&255;return S},a=function(g,y,_){var S,T=[],E=g.length;T[0]=2;for(var A=0;A<E;A+=1)S=_&&_[A]||0,T[A+1]=g[A]-S+256&255;return T},l=function(g,y,_){var S,T,E=[],A=g.length;E[0]=3;for(var N=0;N<A;N+=1)S=g[N-y]||0,T=_&&_[N]||0,E[N+1]=g[N]+256-(S+T>>>1)&255;return E},c=function(g,y,_){var S,T,E,A,N=[],j=g.length;N[0]=4;for(var U=0;U<j;U+=1)S=g[U-y]||0,T=_&&_[U]||0,E=_&&_[U-y]||0,A=h(S,T,E),N[U+1]=g[U]-A+256&255;return N},h=function(g,y,_){if(g===y&&y===_)return g;var S=Math.abs(y-_),T=Math.abs(g-_),E=Math.abs(g+y-_-_);return S<=T&&S<=E?g:T<=E?y:_},d=function(){return[i,s,a,l,c]},p=function(g){var y=g.map((function(_){return _.reduce((function(S,T){return S+Math.abs(T)}),0)}));return y.indexOf(Math.min.apply(null,y))};n.processPNG=function(g,y,_,S){var T,E,A,N,j,U,K,M,k,O,H,R,L,V,se,pe=this.decode.FLATE_DECODE,G="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(A=new GJ(g)).imgData,E=A.bits,T=A.colorSpace,j=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){k=(M=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,H=new Uint8Array(k*A.colors),O=new Uint8Array(k);var Q,re=A.pixelBitlength-A.bits;for(V=0,se=0;V<k;V++){for(L=M[V],Q=0;Q<re;)H[se++]=L>>>Q&255,Q+=A.bits;O[V]=L>>>Q&255}}if(A.bits===16){k=(M=new Uint32Array(A.decodePixels().buffer)).length,H=new Uint8Array(k*(32/A.pixelBitlength)*A.colors),O=new Uint8Array(k*(32/A.pixelBitlength)),R=A.colors>1,V=0,se=0;for(var J=0;V<k;)L=M[V++],H[se++]=L>>>0&255,R&&(H[se++]=L>>>16&255,L=M[V++],H[se++]=L>>>0&255),O[J++]=L>>>16&255;E=8}S!==n.image_compression.NONE&&e()?(g=t(H,A.width*A.colors,A.colors,S),K=t(O,A.width,1,S)):(g=H,K=O,pe=void 0)}if(A.colorType===3&&(T=this.color_spaces.INDEXED,U=A.palette,A.transparency.indexed)){var q=A.transparency.indexed,oe=0;for(V=0,k=q.length;V<k;++V)oe+=q[V];if((oe/=255)===k-1&&q.indexOf(0)!==-1)N=[q.indexOf(0)];else if(oe!==k){for(M=A.decodePixels(),O=new Uint8Array(M.length),V=0,k=M.length;V<k;V++)O[V]=q[M[V]];K=t(O,A.width,1)}}var F=(function(W){var te;switch(W){case n.image_compression.FAST:te=11;break;case n.image_compression.MEDIUM:te=13;break;case n.image_compression.SLOW:te=14;break;default:te=12}return te})(S);return pe===this.decode.FLATE_DECODE&&(G="/Predictor "+F+" "),G+="/Colors "+j+" /BitsPerComponent "+E+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(K&&this.__addimage__.isArrayBuffer(K)||this.__addimage__.isArrayBufferView(K))&&(K=this.__addimage__.arrayBufferToBinaryString(K)),{alias:_,data:g,index:y,filter:pe,decodeParameters:G,transparency:N,palette:U,sMask:K,predictor:F,width:A.width,height:A.height,bitsPerComponent:E,colorSpace:T}}}})(Nt.API),(function(n){n.processGIF89A=function(e,t,r,i){var s=new KJ(e),a=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:a,height:l},d=new $w(100).encode(h,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A})(Nt.API),Xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ar.log("bit decode error:"+t)}},Xo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Xo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,l=s>>4,c=15&s,h=this.palette[l];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Xo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Xo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=h}this.pos+=n}},Xo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,h=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=h,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=n}},Xo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Xo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=a}},Xo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new Xo(e,!1),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},h=new $w(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}})(Nt.API),UC.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new UC(e),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},h=new $w(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}})(Nt.API),Nt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,c=0,h=0;h<i;h+=4){var d=r[h],p=r[h+1],g=r[h+2],y=r[h+3];s[l++]=d,s[l++]=p,s[l++]=g,a[c++]=y}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Nt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},np=Nt.API,av=np.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,p=e.doKerning!==!1,g=0,y=n.length,_=0,S=l[0]||c,T=[];for(t=0;t<y;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=p&&Gn(h[r])==="object"&&!isNaN(parseInt(h[r][_],10))?h[r][_]/d:0,T.push((l[r]||S)/c+g)),_=r;return T},jC=np.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return np.processArabic&&(n=np.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:av.apply(this,arguments).reduce((function(s,a){return s+a}),0)},FC=function(n,e,t,r){for(var i=[],s=0,a=n.length,l=0;s!==a&&l+e[s]<t;)l+=e[s],s++;i.push(n.slice(0,s));var c=s;for(l=0;s!==a;)l+e[s]>r&&(i.push(n.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},VC=function(n,e,t){t||(t={});var r,i,s,a,l,c,h,d=[],p=[d],g=t.textIndent||0,y=0,_=0,S=n.split(" "),T=av.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var E=Array(c).join(" "),A=[];S.map((function(j){(j=j.split(/\s*\n/)).length>1?A=A.concat(j.map((function(U,K){return(K&&U.length?`
`:"")+U}))):A.push(j[0])})),S=A,c=jC.apply(this,[E,t])}for(s=0,a=S.length;s<a;s++){var N=0;if(r=S[s],c&&r[0]==`
`&&(r=r.substr(1),N=1),g+y+(_=(i=av.apply(this,[r,t])).reduce((function(j,U){return j+U}),0))>e||N){if(_>e){for(l=FC.apply(this,[r,i,e-(g+y),e]),d.push(l.shift()),d=[l.pop()];l.length;)p.push([l.shift()]);_=i.slice(r.length-(d[0]?d[0].length:0)).reduce((function(j,U){return j+U}),0)}else d=[r];p.push(d),g=_+c,y=T}else d.push(r),g+=y+_,y=T}return h=c?function(j,U){return(U?E:"")+j.join(" ")}:function(j){return j.join(" ")},p.map(h)},np.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var l,c,h=[];for(l=0,c=r.length;l<c;l++)h=h.concat(VC.apply(this,[r[l],a,s]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},a=n.__fontmetrics__.compress=function(p){var g,y,_,S,T=["{"];for(var E in p){if(g=p[E],isNaN(parseInt(E,10))?y="'"+E+"'":(E=parseInt(E,10),y=(y=s(E).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof g=="number")g<0?(_=s(g).slice(3),S="-"):(_=s(g).slice(2),S=""),_=S+_.slice(0,-1)+r[_.slice(-1)];else{if(Gn(g)!=="object")throw new Error("Don't know what to do with value type "+Gn(g)+".");_=a(g)}T.push(y+_)}return T.push("}"),T.join("")},l=n.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,_,S,T={},E=1,A=T,N=[],j="",U="",K=p.length-1,M=1;M<K;M+=1)(S=p[M])=="'"?g?(_=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(N.push([A,_]),A={},_=void 0):S=="}"?((y=N.pop())[0][y[1]]=A,_=void 0,A=y[0]):S=="-"?E=-1:_===void 0?t.hasOwnProperty(S)?(j+=t[S],_=parseInt(j,16)*E,E=1,j=""):j+=S:t.hasOwnProperty(S)?(U+=t[S],A[_]=parseInt(U,16)*E,E=1,_=void 0,U=""):U+=S;return T},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(p){var g=p.font,y=d.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var _=h.Unicode[g.postScriptName];_&&(g.metadata.Unicode.encoding=_,g.encoding=_.codePages[0])}])})(Nt.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Ng(l)),a.metadata=n.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(Nt),(function(n){function e(){return(Ft.canvg?Promise.resolve(Ft.canvg):M5(()=>import("./index.es-CG-JS092.js"),[])).catch((function(t){return Promise.reject(new Error("Could not load canvg: "+t))})).then((function(t){return t.default?t.default:t}))}Nt.API.addSvgAsImage=function(t,r,i,s,a,l,c,h){if(isNaN(r)||isNaN(i))throw ar.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw ar.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=a;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then((function(_){return _.fromString(p,t,g)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(_){return _.render(g)})).then((function(){y.addImage(d.toDataURL("image/jpeg",1),r,i,s,a,c,h)}))}})(),Nt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Nt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],h=0,d=0,p=0;function g(_,S){var T,E=!1;for(T=0;T<_.length;T+=1)_[T]===S&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var y=l.length;for(p=0;p<y;p+=1)t[l[p]].value=t[l[p]].defaultValue,t[l[p]].explicitSet=!1}if(Gn(n)==="object"){for(i in n)if(s=n[i],g(l,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&g(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var _,S=[];for(_ in t)t[_].explicitSet===!0&&(t[_].type==="name"?S.push("/"+_+" /"+t[_].value):S.push("/"+_+" "+t[_].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+a.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Nt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var l,c=a.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],p=0,g=s.length;p<g;++p){if(l=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(h[4-l.length],l)}return d.join("")},r=function(s){var a,l,c,h,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(l=Object.keys(s).sort((function(y,_){return y-_}))).length;p<g;p++)a=l[p],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(h=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+h+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,h=a.newObject,d=a.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),y="",_=0;_<g.length;_++)y+=String.fromCharCode(g[_]);var S=h();d({data:y,addLength1:!0,objectId:S}),c("endobj");var T=h();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:T}),c("endobj");var E=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+fp(l.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var A=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+fp(l.fontName)),c("/FontDescriptor "+E+" 0 R"),c("/W "+n.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+T+" 0 R"),c("/BaseFont /"+fp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+A+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,h=a.newObject,d=a.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,g="",y=0;y<p.length;y++)g+=String.fromCharCode(p[y]);var _=h();d({data:g,addLength1:!0,objectId:_}),c("endobj");var S=h();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var T=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+_+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+fp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var E=0;E<l.metadata.hmtx.widths.length;E++)l.metadata.hmtx.widths[E]=parseInt(l.metadata.hmtx.widths[E]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+fp(l.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",c=s.x,h=s.y,d=s.options||{},p=s.mutex||{},g=p.pdfEscape,y=p.activeFontKey,_=p.fonts,S=y,T="",E=0,A="",N=_[S].encoding;if(_[S].encoding!=="Identity-H")return{text:l,x:c,y:h,options:d,mutex:p};for(A=l,S=y,Array.isArray(l)&&(A=l[0]),E=0;E<A.length;E+=1)_[S].metadata.hasOwnProperty("cmap")&&(a=_[S].metadata.cmap.unicode.codeMap[A[E].charCodeAt(0)]),a||A[E].charCodeAt(0)<256&&_[S].metadata.hasOwnProperty("Unicode")?T+=A[E]:T+="";var j="";return parseInt(S.slice(1))<14||N==="WinAnsiEncoding"?j=g(T,S).split("").map((function(U){return U.charCodeAt(0).toString(16)})).join(""):N==="Identity-H"&&(j=t(T,_[S])),p.isHex=!0,{text:j,x:c,y:h,options:d,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",l=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?l.push([i(Object.assign({},c,{text:a[h][0]})).text,a[h][1],a[h][2]]):l.push(i(Object.assign({},c,{text:a[h]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:a})).text}])})(Nt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Nt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,l,c,h,d,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,N=0;this.__bidiEngine__={};var j=function(R){var L=R.charCodeAt(),V=L>>8,se=S[V];return se!==void 0?p[256*se+(255&L)]:V===252||V===253?"AL":E.test(V)?"L":V===8?"R":"N"},U=function(R){for(var L,V=0;V<R.length;V++){if((L=j(R.charAt(V)))==="L")return!1;if(L==="R")return!0}return!1},K=function(R,L,V,se){var pe,G,Q,re,J=L[se];switch(J){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(J="AN");break;case"AL":A=!0,J="R";break;case"WS":J="N";break;case"CS":se<1||se+1>=L.length||(pe=V[se-1])!=="EN"&&pe!=="AN"||(G=L[se+1])!=="EN"&&G!=="AN"?J="N":A&&(G="AN"),J=G===pe?G:"N";break;case"ES":J=(pe=se>0?V[se-1]:"B")==="EN"&&se+1<L.length&&L[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&V[se-1]==="EN"){J="EN";break}if(A){J="N";break}for(Q=se+1,re=L.length;Q<re&&L[Q]==="ET";)Q++;J=Q<re&&L[Q]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(re=L.length,Q=se+1;Q<re&&L[Q]==="NSM";)Q++;if(Q<re){var q=R[se],oe=q>=1425&&q<=2303||q===64286;if(pe=L[Q],oe&&(pe==="R"||pe==="AL")){J="R";break}}}J=se<1||(pe=L[se-1])==="B"?"N":V[se-1];break;case"B":A=!1,i=!0,J=N;break;case"S":s=!0,J="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":J="N"}return J},M=function(R,L,V){var se=R.split("");return V&&k(se,V,{hiLevel:N}),se.reverse(),L&&L.reverse(),se.join("")},k=function(R,L,V){var se,pe,G,Q,re,J=-1,q=R.length,oe=0,F=[],W=N?y:g,te=[];for(A=!1,i=!1,s=!1,pe=0;pe<q;pe++)te[pe]=j(R[pe]);for(G=0;G<q;G++){if(re=oe,F[G]=K(R,te,F,G),se=240&(oe=W[re][_[F[G]]]),oe&=15,L[G]=Q=W[oe][5],se>0)if(se===16){for(pe=J;pe<G;pe++)L[pe]=1;J=-1}else J=-1;if(W[oe][6])J===-1&&(J=G);else if(J>-1){for(pe=J;pe<G;pe++)L[pe]=Q;J=-1}te[G]==="B"&&(L[G]=0),V.hiLevel|=Q}s&&(function(ae,fe,_e){for(var ve=0;ve<_e;ve++)if(ae[ve]==="S"){fe[ve]=N;for(var be=ve-1;be>=0&&ae[be]==="WS";be--)fe[be]=N}})(te,L,q)},O=function(R,L,V,se,pe){if(!(pe.hiLevel<R)){if(R===1&&N===1&&!i)return L.reverse(),void(V&&V.reverse());for(var G,Q,re,J,q=L.length,oe=0;oe<q;){if(se[oe]>=R){for(re=oe+1;re<q&&se[re]>=R;)re++;for(J=oe,Q=re-1;J<Q;J++,Q--)G=L[J],L[J]=L[Q],L[Q]=G,V&&(G=V[J],V[J]=V[Q],V[Q]=G);oe=re}oe++}}},H=function(R,L,V){var se=R.split(""),pe={hiLevel:N};return V||(V=[]),k(se,V,pe),(function(G,Q,re){if(re.hiLevel!==0&&d)for(var J,q=0;q<G.length;q++)Q[q]===1&&(J=T.indexOf(G[q]))>=0&&(G[q]=T[J+1])})(se,V,pe),O(2,se,L,V,pe),O(1,se,L,V,pe),se.join("")};return this.__bidiEngine__.doBidiReorder=function(R,L,V){if((function(pe,G){if(G)for(var Q=0;Q<pe.length;Q++)G[Q]=Q;l===void 0&&(l=U(pe)),h===void 0&&(h=U(pe))})(R,L),a||!c||h)if(a&&c&&l^h)N=l?1:0,R=M(R,L,V);else if(!a&&c&&h)N=l?1:0,R=H(R,L,V),R=M(R,L);else if(!a||l||c||h){if(a&&!c&&l^h)R=M(R,L),l?(N=0,R=H(R,L,V)):(N=1,R=H(R,L,V),R=M(R,L));else if(a&&l&&!c&&h)N=1,R=H(R,L,V),R=M(R,L);else if(!a&&!c&&l^h){var se=d;l?(N=1,R=H(R,L,V),N=0,d=!1,R=H(R,L,V),d=se):(N=0,R=H(R,L,V),R=M(R,L),N=1,d=!1,R=H(R,L,V),d=se,R=M(R,L))}}else N=0,R=H(R,L,V);else N=l?1:0,R=H(R,L,V);return R},this.__bidiEngine__.setOptions=function(R){R&&(a=R.isInputVisual,c=R.isOutputVisual,l=R.isInputRtl,h=R.isOutputRtl,d=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([t.doBidiReorder(i[l])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Nt),Nt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Qh(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new uZ(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new XJ(this.contents),this.head=new JJ(this),this.name=new rZ(this),this.cmap=new uL(this),this.toUnicode={},this.hhea=new ZJ(this),this.maxp=new iZ(this),this.hmtx=new sZ(this),this.post=new tZ(this),this.os2=new eZ(this),this.loca=new cZ(this),this.glyf=new aZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,h;for(h=[],a=0,l=(c=this.bbox).length;a<l;a++)e=c[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,l;for(a=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var ol,Qh=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,l,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*l+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),XJ=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,l,c,h,d,p,g,y,_,S;for(S in y=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(y)/c),a=Math.floor(p/c),d=16*y-p,(i=new Qh).writeInt(this.scalarType),i.writeShort(y),i.writeShort(p),i.writeShort(a),i.writeShort(d),s=16*y,h=i.pos+s,l=null,_=[],t)for(g=t[S],i.writeString(S),i.writeInt(n(g)),i.writeInt(h),i.writeInt(g.length),_=_.concat(g),S==="head"&&(l=h),h+=g.length;h%4;)_.push(0),h++;return i.write(_),r=2981146554-n(i.data),i.pos=l+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=hL.call(t);t.length%4;)t.push(0);for(s=new Qh(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),QJ={}.hasOwnProperty,wc=function(n,e){for(var t in e)QJ.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ol=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var JJ=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Qh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),zC=(function(){function n(e,t){var r,i,s,a,l,c,h,d,p,g,y,_,S,T,E,A,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),g=y/2,e.pos+=6,s=(function(){var j,U;for(U=[],c=j=0;0<=g?j<g:j>g;c=0<=g?++j:--j)U.push(e.readUInt16());return U})(),e.pos+=2,S=(function(){var j,U;for(U=[],c=j=0;0<=g?j<g:j>g;c=0<=g?++j:--j)U.push(e.readUInt16());return U})(),h=(function(){var j,U;for(U=[],c=j=0;0<=g?j<g:j>g;c=0<=g?++j:--j)U.push(e.readUInt16());return U})(),d=(function(){var j,U;for(U=[],c=j=0;0<=g?j<g:j>g;c=0<=g?++j:--j)U.push(e.readUInt16());return U})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var j,U;for(U=[],c=j=0;0<=i?j<i:j>i;c=0<=i?++j:--j)U.push(e.readUInt16());return U})(),c=E=0,N=s.length;E<N;c=++E)for(T=s[c],r=A=_=S[c];_<=T?A<=T:A>=T;r=_<=T?++A:--A)d[c]===0?a=r+h[c]:(a=l[d[c]/2+(r-_)-(g-c)]||0)!==0&&(a+=h[c]),this.codeMap[r]=65535&a}e.pos=p}return n.encode=function(e,t){var r,i,s,a,l,c,h,d,p,g,y,_,S,T,E,A,N,j,U,K,M,k,O,H,R,L,V,se,pe,G,Q,re,J,q,oe,F,W,te,ae,fe,_e,ve,be,je,Be,Ze;switch(se=new Qh,a=Object.keys(e).sort((function(tt,pt){return tt-pt})),t){case"macroman":for(S=0,T=(function(){var tt=[];for(_=0;_<256;++_)tt.push(0);return tt})(),A={0:0},s={},pe=0,J=a.length;pe<J;pe++)A[be=e[i=a[pe]]]==null&&(A[be]=++S),s[i]={old:e[i],new:A[e[i]]},T[i]=A[e[i]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(T),{charMap:s,subtable:se.data,maxGlyphID:S+1};case"unicode":for(L=[],p=[],N=0,A={},r={},E=h=null,G=0,q=a.length;G<q;G++)A[U=e[i=a[G]]]==null&&(A[U]=++N),r[i]={old:U,new:A[U]},l=A[U]-i,E!=null&&l===h||(E&&p.push(E),L.push(i),h=l),E=i;for(E&&p.push(E),p.push(65535),L.push(65535),H=2*(O=L.length),k=2*Math.pow(Math.log(O)/Math.LN2,2),g=Math.log(k/2)/Math.LN2,M=2*O-k,c=[],K=[],y=[],_=Q=0,oe=L.length;Q<oe;_=++Q){if(R=L[_],d=p[_],R===65535){c.push(0),K.push(0);break}if(R-(V=r[R].new)>=32768)for(c.push(0),K.push(2*(y.length+O-_)),i=re=R;R<=d?re<=d:re>=d;i=R<=d?++re:--re)y.push(r[i].new);else c.push(V-R),K.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*O+2*y.length),se.writeUInt16(0),se.writeUInt16(H),se.writeUInt16(k),se.writeUInt16(g),se.writeUInt16(M),_e=0,F=p.length;_e<F;_e++)i=p[_e],se.writeUInt16(i);for(se.writeUInt16(0),ve=0,W=L.length;ve<W;ve++)i=L[ve],se.writeUInt16(i);for(je=0,te=c.length;je<te;je++)l=c[je],se.writeUInt16(l);for(Be=0,ae=K.length;Be<ae;Be++)j=K[Be],se.writeUInt16(j);for(Ze=0,fe=y.length;Ze<fe;Ze++)S=y[Ze],se.writeUInt16(S);return{charMap:r,subtable:se.data,maxGlyphID:N+1}}},n})(),uL=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new zC(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=zC.encode(t,r),(s=new Qh).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e})(),ZJ=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),eZ=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),tZ=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,h;for(h=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)h.push(t.readUInt32());return h}).call(this)}},e})(),nZ=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},rZ=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,a,l,c,h,d,p,g,y;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(h={},a=p=0,g=i.length;p<g;a=++p)s=i[a],t.pos=s.offset,d=t.readString(s.length),l=new nZ(d,s),h[y=s.nameID]==null&&(h[y]=[]),h[s.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e})(),iZ=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),sZ=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,l,c,h;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,p;for(p=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)p.push(t.readInt16());return p})(),this.widths=(function(){var d,p,g,y;for(y=[],d=0,p=(g=this.metrics).length;d<p;d++)a=g[d],y.push(a.advance);return y}).call(this),i=this.widths[this.widths.length-1],h=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),hL=[].slice,aZ=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,a,l,c,h,d,p,g;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(c=new Qh(r.read(s))).readShort(),d=c.readShort(),g=c.readShort(),h=c.readShort(),p=c.readShort(),this.cache[t]=l===-1?new lZ(c,d,g,h,p):new oZ(c,l,d,g,h,p),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,a,l,c,h;for(l=[],a=[],c=0,h=r.length;c<h;c++)s=t[r[c]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},e})(),oZ=(function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),lZ=(function(){function n(e,t,r,i,s){var a,l;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Qh(hL.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),cZ=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,ol),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<r.length&&r[a]==l){++a,i[l]=s;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(s+=h)}for(var d=new Array(4*i.length),p=0;p<i.length;++p)d[4*p+3]=255&i[p],d[4*p+2]=(65280&i[p])>>8,d[4*p+1]=(16711680&i[p])>>16,d[4*p]=(4278190080&i[p])>>24;return d},e})(),uZ=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,l,c;for(i={},a=0,l=e.length;a<l;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,l,c,h,d,p,g,y,_,S,T,E;for(i in r=uL.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),y={0:0},E=r.charMap)y[(c=E[i]).old]=c.new;for(_ in g=r.maxGlyphID,a)_ in y||(y[_]=g++);return d=(function(A){var N,j;for(N in j={},A)j[A[N]]=N;return j})(y),p=Object.keys(d).sort((function(A,N){return A-N})),S=(function(){var A,N,j;for(j=[],A=0,N=p.length;A<N;A++)l=p[A],j.push(d[l]);return j})(),s=this.font.glyf.encode(a,S,y),h=this.font.loca.encode(s.offsets,S),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},n})();Nt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+(function(){var l,c,h;for(h=[],l=0,c=t.length;l<c;l++)r=t[l],h.push(e.convert(r));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e})();const hZ=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:zJ,AcroFormAppearance:gt,AcroFormButton:Ni,AcroFormCheckBox:Mg,AcroFormChoiceField:Qf,AcroFormComboBox:Zf,AcroFormEditBox:Pg,AcroFormListBox:Jf,AcroFormPasswordField:Lg,AcroFormPushButton:Rg,AcroFormRadioButton:ed,AcroFormTextField:Vh,GState:a0,ShadingPattern:Sh,TilingPattern:Hf,default:Nt,jsPDF:Nt},Symbol.toStringTag,{value:"Module"}));var zv={exports:{}};const fZ=V8(hZ);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var HC=zv.exports,qC;function dZ(){return qC||(qC=1,(function(n,e){(function(r,i){n.exports=i((function(){try{return fZ}catch{}})())})(typeof globalThis<"u"?globalThis:typeof HC<"u"?HC:typeof window<"u"?window:typeof self<"u"?self:F8,function(t){return(function(){var r={172:(function(l,c){var h=this&&this.__extends||(function(){var g=function(y,_){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(S[E]=T[E])},g(y,_)};return function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");g(y,_);function S(){this.constructor=y}y.prototype=_===null?Object.create(_):(S.prototype=_.prototype,new S)}})();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=(function(){function g(y,_,S){this.table=_,this.pageNumber=_.pageNumber,this.pageCount=this.pageNumber,this.settings=_.settings,this.cursor=S,this.doc=y.getDocument()}return g})();c.HookData=d;var p=(function(g){h(y,g);function y(_,S,T,E,A,N){var j=g.call(this,_,S,N)||this;return j.cell=T,j.row=E,j.column=A,j.section=E.section,j}return y})(d);c.CellHookData=p}),340:(function(l,c,h){Object.defineProperty(c,"__esModule",{value:!0});var d=h(4),p=h(136),g=h(744),y=h(776),_=h(664),S=h(972);function T(E){E.API.autoTable=function(){for(var A=[],N=0;N<arguments.length;N++)A[N]=arguments[N];var j;A.length===1?j=A[0]:(console.error("Use of deprecated autoTable initiation"),j=A[2]||{},j.columns=A[0],j.body=A[1]);var U=(0,y.parseInput)(this,j),K=(0,S.createTable)(this,U);return(0,_.drawTable)(this,K),this},E.API.lastAutoTable=!1,E.API.previousAutoTable=!1,E.API.autoTable.previous=!1,E.API.autoTableText=function(A,N,j,U){(0,p.default)(A,N,j,U,this)},E.API.autoTableSetDefaults=function(A){return g.DocHandler.setDefaults(A,this),this},E.autoTableSetDefaults=function(A,N){g.DocHandler.setDefaults(A,N)},E.API.autoTableHtmlToJson=function(A,N){var j;if(N===void 0&&(N=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var U=new g.DocHandler(this),K=(0,d.parseHtml)(U,A,window,N,!1),M=K.head,k=K.body,O=((j=M[0])===null||j===void 0?void 0:j.map(function(H){return H.content}))||[];return{columns:O,rows:k,data:k}},E.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var A=this.lastAutoTable;return A&&A.finalY?A.finalY:0},E.API.autoTableAddPageContent=function(A){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),E.API.autoTable.globalDefaults||(E.API.autoTable.globalDefaults={}),E.API.autoTable.globalDefaults.addPageContent=A,this},E.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=T}),136:(function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function h(d,p,g,y,_){y=y||{};var S=1.15,T=_.internal.scaleFactor,E=_.internal.getFontSize()/T,A=_.getLineHeightFactor?_.getLineHeightFactor():S,N=E*A,j=/\r\n|\r|\n/g,U="",K=1;if((y.valign==="middle"||y.valign==="bottom"||y.halign==="center"||y.halign==="right")&&(U=typeof d=="string"?d.split(j):d,K=U.length||1),g+=E*(2-S),y.valign==="middle"?g-=K/2*N:y.valign==="bottom"&&(g-=K*N),y.halign==="center"||y.halign==="right"){var M=E;if(y.halign==="center"&&(M*=.5),U&&K>=1){for(var k=0;k<U.length;k++)_.text(U[k],p-_.getStringUnitWidth(U[k])*M,g),g+=N;return _}p-=_.getStringUnitWidth(d)*M}return y.halign==="justify"?_.text(d,p,g,{maxWidth:y.maxWidth||100,align:"justify"}):_.text(d,p,g),_}c.default=h}),420:(function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function h(_,S,T){T.applyStyles(S,!0);var E=Array.isArray(_)?_:[_],A=E.map(function(N){return T.getTextWidth(N)}).reduce(function(N,j){return Math.max(N,j)},0);return A}c.getStringWidth=h;function d(_,S,T,E){var A=S.settings.tableLineWidth,N=S.settings.tableLineColor;_.applyStyles({lineWidth:A,lineColor:N});var j=p(A,!1);j&&_.rect(T.x,T.y,S.getWidth(_.pageSize().width),E.y-T.y,j)}c.addTableBorder=d;function p(_,S){var T=_>0,E=S||S===0;return T&&E?"DF":T?"S":E?"F":null}c.getFillStyle=p;function g(_,S){var T,E,A,N;if(_=_||S,Array.isArray(_)){if(_.length>=4)return{top:_[0],right:_[1],bottom:_[2],left:_[3]};if(_.length===3)return{top:_[0],right:_[1],bottom:_[2],left:_[1]};if(_.length===2)return{top:_[0],right:_[1],bottom:_[0],left:_[1]};_.length===1?_=_[0]:_=S}return typeof _=="object"?(typeof _.vertical=="number"&&(_.top=_.vertical,_.bottom=_.vertical),typeof _.horizontal=="number"&&(_.right=_.horizontal,_.left=_.horizontal),{left:(T=_.left)!==null&&T!==void 0?T:S,top:(E=_.top)!==null&&E!==void 0?E:S,right:(A=_.right)!==null&&A!==void 0?A:S,bottom:(N=_.bottom)!==null&&N!==void 0?N:S}):(typeof _!="number"&&(_=S),{top:_,right:_,bottom:_,left:_})}c.parseSpacing=g;function y(_,S){var T=g(S.settings.margin,0);return _.pageSize().width-(T.left+T.right)}c.getPageAvailableWidth=y}),796:(function(l,c){var h=this&&this.__extends||(function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,E){T.__proto__=E}||function(T,E){for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(T[A]=E[A])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}})();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=(function(y){h(_,y);function _(S){var T=y.call(this)||this;return T._element=S,T}return _})(Array);c.HtmlRowInput=d;function p(y){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/y,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=p;function g(y){var _={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return _[y]}c.getTheme=g}),903:(function(l,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=h(420);function p(T,E,A,N,j){var U={},K=1.3333333333333333,M=y(E,function(J){return j.getComputedStyle(J).backgroundColor});M!=null&&(U.fillColor=M);var k=y(E,function(J){return j.getComputedStyle(J).color});k!=null&&(U.textColor=k);var O=S(N,A);O&&(U.cellPadding=O);var H="borderTopColor",R=K*A,L=N.borderTopWidth;if(N.borderBottomWidth===L&&N.borderRightWidth===L&&N.borderLeftWidth===L){var V=(parseFloat(L)||0)/R;V&&(U.lineWidth=V)}else U.lineWidth={top:(parseFloat(N.borderTopWidth)||0)/R,right:(parseFloat(N.borderRightWidth)||0)/R,bottom:(parseFloat(N.borderBottomWidth)||0)/R,left:(parseFloat(N.borderLeftWidth)||0)/R},U.lineWidth.top||(U.lineWidth.right?H="borderRightColor":U.lineWidth.bottom?H="borderBottomColor":U.lineWidth.left&&(H="borderLeftColor"));var se=y(E,function(J){return j.getComputedStyle(J)[H]});se!=null&&(U.lineColor=se);var pe=["left","right","center","justify"];pe.indexOf(N.textAlign)!==-1&&(U.halign=N.textAlign),pe=["middle","bottom","top"],pe.indexOf(N.verticalAlign)!==-1&&(U.valign=N.verticalAlign);var G=parseInt(N.fontSize||"");isNaN(G)||(U.fontSize=G/K);var Q=g(N);Q&&(U.fontStyle=Q);var re=(N.fontFamily||"").toLowerCase();return T.indexOf(re)!==-1&&(U.font=re),U}c.parseCss=p;function g(T){var E="";return(T.fontWeight==="bold"||T.fontWeight==="bolder"||parseInt(T.fontWeight)>=700)&&(E="bold"),(T.fontStyle==="italic"||T.fontStyle==="oblique")&&(E+="italic"),E}function y(T,E){var A=_(T,E);if(!A)return null;var N=A.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!N||!Array.isArray(N))return null;var j=[parseInt(N[1]),parseInt(N[2]),parseInt(N[3])],U=parseInt(N[4]);return U===0||isNaN(j[0])||isNaN(j[1])||isNaN(j[2])?null:j}function _(T,E){var A=E(T);return A==="rgba(0, 0, 0, 0)"||A==="transparent"||A==="initial"||A==="inherit"?T.parentElement==null?null:_(T.parentElement,E):A}function S(T,E){var A=[T.paddingTop,T.paddingRight,T.paddingBottom,T.paddingLeft],N=96/(72/E),j=(parseInt(T.lineHeight)-parseInt(T.fontSize))/E/2,U=A.map(function(M){return parseInt(M||"0")/N}),K=(0,d.parseSpacing)(U,0);return j>K.top&&(K.top=j),j>K.bottom&&(K.bottom=j),K}}),744:(function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var h={},d=(function(){function p(g){this.jsPDFDocument=g,this.userStyles={textColor:g.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:g.internal.getFontSize(),fontStyle:g.internal.getFont().fontStyle,font:g.internal.getFont().fontName,lineWidth:g.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:g.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return p.setDefaults=function(g,y){y===void 0&&(y=null),y?y.__autoTableDocumentDefaults=g:h=g},p.unifyColor=function(g){return Array.isArray(g)?g:typeof g=="number"?[g,g,g]:typeof g=="string"?[g]:null},p.prototype.applyStyles=function(g,y){var _,S,T;y===void 0&&(y=!1),g.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(g.fontStyle);var E=this.jsPDFDocument.internal.getFont(),A=E.fontStyle,N=E.fontName;if(g.font&&(N=g.font),g.fontStyle){A=g.fontStyle;var j=this.getFontList()[N];j&&j.indexOf(A)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j[0]),A=j[0])}if(this.jsPDFDocument.setFont(N,A),g.fontSize&&this.jsPDFDocument.setFontSize(g.fontSize),!y){var U=p.unifyColor(g.fillColor);U&&(_=this.jsPDFDocument).setFillColor.apply(_,U),U=p.unifyColor(g.textColor),U&&(S=this.jsPDFDocument).setTextColor.apply(S,U),U=p.unifyColor(g.lineColor),U&&(T=this.jsPDFDocument).setDrawColor.apply(T,U),typeof g.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(g.lineWidth)}},p.prototype.splitTextToSize=function(g,y,_){return this.jsPDFDocument.splitTextToSize(g,y,_)},p.prototype.rect=function(g,y,_,S,T){return this.jsPDFDocument.rect(g,y,_,S,T)},p.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},p.prototype.getTextWidth=function(g){return this.jsPDFDocument.getTextWidth(g)},p.prototype.getDocument=function(){return this.jsPDFDocument},p.prototype.setPage=function(g){this.jsPDFDocument.setPage(g)},p.prototype.addPage=function(){return this.jsPDFDocument.addPage()},p.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},p.prototype.getGlobalOptions=function(){return h||{}},p.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},p.prototype.pageSize=function(){var g=this.jsPDFDocument.internal.pageSize;return g.width==null&&(g={width:g.getWidth(),height:g.getHeight()}),g},p.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},p.prototype.getLineHeightFactor=function(){var g=this.jsPDFDocument;return g.getLineHeightFactor?g.getLineHeightFactor():1.15},p.prototype.getLineHeight=function(g){return g/this.scaleFactor()*this.getLineHeightFactor()},p.prototype.pageNumber=function(){var g=this.jsPDFDocument.internal.getCurrentPageInfo();return g?g.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},p})();c.DocHandler=d}),4:(function(l,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=h(903),p=h(796);function g(S,T,E,A,N){var j,U;A===void 0&&(A=!1),N===void 0&&(N=!1);var K;typeof T=="string"?K=E.document.querySelector(T):K=T;var M=Object.keys(S.getFontList()),k=S.scaleFactor(),O=[],H=[],R=[];if(!K)return console.error("Html table could not be found with input: ",T),{head:O,body:H,foot:R};for(var L=0;L<K.rows.length;L++){var V=K.rows[L],se=(U=(j=V?.parentElement)===null||j===void 0?void 0:j.tagName)===null||U===void 0?void 0:U.toLowerCase(),pe=y(M,k,E,V,A,N);pe&&(se==="thead"?O.push(pe):se==="tfoot"?R.push(pe):H.push(pe))}return{head:O,body:H,foot:R}}c.parseHtml=g;function y(S,T,E,A,N,j){for(var U=new p.HtmlRowInput(A),K=0;K<A.cells.length;K++){var M=A.cells[K],k=E.getComputedStyle(M);if(N||k.display!=="none"){var O=void 0;j&&(O=(0,d.parseCss)(S,M,T,k,E)),U.push({rowSpan:M.rowSpan,colSpan:M.colSpan,styles:O,_element:M,content:_(M)})}}var H=E.getComputedStyle(A);if(U.length>0&&(N||H.display!=="none"))return U}function _(S){var T=S.cloneNode(!0);return T.innerHTML=T.innerHTML.replace(/\n/g,"").replace(/ +/g," "),T.innerHTML=T.innerHTML.split(/<br.*?>/).map(function(E){return E.trim()}).join(`
`),T.innerText||T.textContent||""}}),776:(function(l,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=h(4),p=h(356),g=h(420),y=h(744),_=h(792);function S(K,M){var k=new y.DocHandler(K),O=k.getDocumentOptions(),H=k.getGlobalOptions();(0,_.default)(k,H,O,M);var R=(0,p.assign)({},H,O,M),L;typeof window<"u"&&(L=window);var V=T(H,O,M),se=E(H,O,M),pe=A(k,R),G=j(k,R,L);return{id:M.tableId,content:G,hooks:se,styles:V,settings:pe}}c.parseInput=S;function T(K,M,k){for(var O={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},H=function(se){if(se==="columnStyles"){var pe=K[se],G=M[se],Q=k[se];O.columnStyles=(0,p.assign)({},pe,G,Q)}else{var re=[K,M,k],J=re.map(function(q){return q[se]||{}});O[se]=(0,p.assign)({},J[0],J[1],J[2])}},R=0,L=Object.keys(O);R<L.length;R++){var V=L[R];H(V)}return O}function E(K,M,k){for(var O=[K,M,k],H={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},R=0,L=O;R<L.length;R++){var V=L[R];V.didParseCell&&H.didParseCell.push(V.didParseCell),V.willDrawCell&&H.willDrawCell.push(V.willDrawCell),V.didDrawCell&&H.didDrawCell.push(V.didDrawCell),V.willDrawPage&&H.willDrawPage.push(V.willDrawPage),V.didDrawPage&&H.didDrawPage.push(V.didDrawPage)}return H}function A(K,M){var k,O,H,R,L,V,se,pe,G,Q,re,J,q=(0,g.parseSpacing)(M.margin,40/K.scaleFactor()),oe=(k=N(K,M.startY))!==null&&k!==void 0?k:q.top,F;M.showFoot===!0?F="everyPage":M.showFoot===!1?F="never":F=(O=M.showFoot)!==null&&O!==void 0?O:"everyPage";var W;M.showHead===!0?W="everyPage":M.showHead===!1?W="never":W=(H=M.showHead)!==null&&H!==void 0?H:"everyPage";var te=(R=M.useCss)!==null&&R!==void 0?R:!1,ae=M.theme||(te?"plain":"striped"),fe=!!M.horizontalPageBreak,_e=(L=M.horizontalPageBreakRepeat)!==null&&L!==void 0?L:null;return{includeHiddenHtml:(V=M.includeHiddenHtml)!==null&&V!==void 0?V:!1,useCss:te,theme:ae,startY:oe,margin:q,pageBreak:(se=M.pageBreak)!==null&&se!==void 0?se:"auto",rowPageBreak:(pe=M.rowPageBreak)!==null&&pe!==void 0?pe:"auto",tableWidth:(G=M.tableWidth)!==null&&G!==void 0?G:"auto",showHead:W,showFoot:F,tableLineWidth:(Q=M.tableLineWidth)!==null&&Q!==void 0?Q:0,tableLineColor:(re=M.tableLineColor)!==null&&re!==void 0?re:200,horizontalPageBreak:fe,horizontalPageBreakRepeat:_e,horizontalPageBreakBehaviour:(J=M.horizontalPageBreakBehaviour)!==null&&J!==void 0?J:"afterAllRows"}}function N(K,M){var k=K.getLastAutoTable(),O=K.scaleFactor(),H=K.pageNumber(),R=!1;if(k&&k.startPageNumber){var L=k.startPageNumber+k.pageNumber-1;R=L===H}return typeof M=="number"?M:(M==null||M===!1)&&R&&k?.finalY!=null?k.finalY+20/O:null}function j(K,M,k){var O=M.head||[],H=M.body||[],R=M.foot||[];if(M.html){var L=M.includeHiddenHtml;if(k){var V=(0,d.parseHtml)(K,M.html,k,L,M.useCss)||{};O=V.head||O,H=V.body||O,R=V.foot||O}else console.error("Cannot parse html in non browser environment")}var se=M.columns||U(O,H,R);return{columns:se,head:O,body:H,foot:R}}function U(K,M,k){var O=K[0]||M[0]||k[0]||[],H=[];return Object.keys(O).filter(function(R){return R!=="_element"}).forEach(function(R){var L=1,V;Array.isArray(O)?V=O[parseInt(R)]:V=O[R],typeof V=="object"&&!Array.isArray(V)&&(L=V?.colSpan||1);for(var se=0;se<L;se++){var pe=void 0;Array.isArray(O)?pe=H.length:pe=R+(se>0?"_".concat(se):"");var G={dataKey:pe};H.push(G)}}),H}}),792:(function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function h(p,g,y,_){for(var S=function(N){N&&typeof N!="object"&&console.error("The options parameter should be of type object, is: "+typeof N),typeof N.extendWidth<"u"&&(N.tableWidth=N.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof N.margins<"u"&&(typeof N.margin>"u"&&(N.margin=N.margins),console.error("Use of deprecated option: margins, use margin instead.")),N.startY&&typeof N.startY!="number"&&(console.error("Invalid value for startY option",N.startY),delete N.startY),!N.didDrawPage&&(N.afterPageContent||N.beforePageContent||N.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),N.didDrawPage=function(R){p.applyStyles(p.userStyles),N.beforePageContent&&N.beforePageContent(R),p.applyStyles(p.userStyles),N.afterPageContent&&N.afterPageContent(R),p.applyStyles(p.userStyles),N.afterPageAdd&&R.pageNumber>1&&R.afterPageAdd(R),p.applyStyles(p.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(R){N[R]&&console.error('The "'.concat(R,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(R){var L=R[0],V=R[1];N[V]&&(console.error("Use of deprecated option ".concat(V,". Use ").concat(L," instead")),N[L]=N[V])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(R){var L=typeof R=="string"?R:R[0],V=typeof R=="string"?R:R[1];typeof N[L]<"u"&&(typeof N.styles[V]>"u"&&(N.styles[V]=N[L]),console.error("Use of deprecated option: "+L+", use the style "+V+" instead."))});for(var j=0,U=["styles","bodyStyles","headStyles","footStyles"];j<U.length;j++){var K=U[j];d(N[K]||{})}for(var M=N.columnStyles||{},k=0,O=Object.keys(M);k<O.length;k++){var H=O[k];d(M[H]||{})}},T=0,E=[g,y,_];T<E.length;T++){var A=E[T];S(A)}}c.default=h;function d(p){p.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),p.minCellHeight||(p.minCellHeight=p.rowHeight)):p.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),p.cellWidth||(p.cellWidth=p.columnWidth))}}),260:(function(l,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=h(796),p=h(172),g=h(420),y=(function(){function E(A,N){this.pageNumber=1,this.pageCount=1,this.id=A.id,this.settings=A.settings,this.styles=A.styles,this.hooks=A.hooks,this.columns=N.columns,this.head=N.head,this.body=N.body,this.foot=N.foot}return E.prototype.getHeadHeight=function(A){return this.head.reduce(function(N,j){return N+j.getMaxCellHeight(A)},0)},E.prototype.getFootHeight=function(A){return this.foot.reduce(function(N,j){return N+j.getMaxCellHeight(A)},0)},E.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},E.prototype.callCellHooks=function(A,N,j,U,K,M){for(var k=0,O=N;k<O.length;k++){var H=O[k],R=new p.CellHookData(A,this,j,U,K,M),L=H(R)===!1;if(j.text=Array.isArray(j.text)?j.text:[j.text],L)return!1}return!0},E.prototype.callEndPageHooks=function(A,N){A.applyStyles(A.userStyles);for(var j=0,U=this.hooks.didDrawPage;j<U.length;j++){var K=U[j];K(new p.HookData(A,this,N))}},E.prototype.callWillDrawPageHooks=function(A,N){for(var j=0,U=this.hooks.willDrawPage;j<U.length;j++){var K=U[j];K(new p.HookData(A,this,N))}},E.prototype.getWidth=function(A){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var N=this.columns.reduce(function(U,K){return U+K.wrappedWidth},0);return N}else{var j=this.settings.margin;return A-j.left-j.right}},E})();c.Table=y;var _=(function(){function E(A,N,j,U,K){K===void 0&&(K=!1),this.height=0,this.raw=A,A instanceof d.HtmlRowInput&&(this.raw=A._element,this.element=A._element),this.index=N,this.section=j,this.cells=U,this.spansMultiplePages=K}return E.prototype.getMaxCellHeight=function(A){var N=this;return A.reduce(function(j,U){var K;return Math.max(j,((K=N.cells[U.index])===null||K===void 0?void 0:K.height)||0)},0)},E.prototype.hasRowSpan=function(A){var N=this;return A.filter(function(j){var U=N.cells[j.index];return U?U.rowSpan>1:!1}).length>0},E.prototype.canEntireRowFit=function(A,N){return this.getMaxCellHeight(N)<=A},E.prototype.getMinimumRowHeight=function(A,N){var j=this;return A.reduce(function(U,K){var M=j.cells[K.index];if(!M)return 0;var k=N.getLineHeight(M.styles.fontSize),O=M.padding("vertical"),H=O+k;return H>U?H:U},0)},E})();c.Row=_;var S=(function(){function E(A,N,j){var U,K;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=N,this.section=j,this.raw=A;var M=A;A!=null&&typeof A=="object"&&!Array.isArray(A)?(this.rowSpan=A.rowSpan||1,this.colSpan=A.colSpan||1,M=(K=(U=A.content)!==null&&U!==void 0?U:A.title)!==null&&K!==void 0?K:A,A._element&&(this.raw=A._element)):(this.rowSpan=1,this.colSpan=1);var k=M!=null?""+M:"",O=/\r\n|\r|\n/g;this.text=k.split(O)}return E.prototype.getTextPos=function(){var A;if(this.styles.valign==="top")A=this.y+this.padding("top");else if(this.styles.valign==="bottom")A=this.y+this.height-this.padding("bottom");else{var N=this.height-this.padding("vertical");A=this.y+N/2+this.padding("top")}var j;if(this.styles.halign==="right")j=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var U=this.width-this.padding("horizontal");j=this.x+U/2+this.padding("left")}else j=this.x+this.padding("left");return{x:j,y:A}},E.prototype.getContentHeight=function(A,N){N===void 0&&(N=1.15);var j=Array.isArray(this.text)?this.text.length:1,U=this.styles.fontSize/A*N,K=j*U+this.padding("vertical");return Math.max(K,this.styles.minCellHeight)},E.prototype.padding=function(A){var N=(0,g.parseSpacing)(this.styles.cellPadding,0);return A==="vertical"?N.top+N.bottom:A==="horizontal"?N.left+N.right:N[A]},E})();c.Cell=S;var T=(function(){function E(A,N,j){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=A,this.raw=N,this.index=j}return E.prototype.getMaxCustomCellWidth=function(A){for(var N=0,j=0,U=A.allRows();j<U.length;j++){var K=U[j],M=K.cells[this.index];M&&typeof M.styles.cellWidth=="number"&&(N=Math.max(N,M.styles.cellWidth))}return N},E})();c.Column=T}),356:(function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function h(d,p,g,y,_){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var S=Object(d),T=1;T<arguments.length;T++){var E=arguments[T];if(E!=null)for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(S[A]=E[A])}return S}c.assign=h}),972:(function(l,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=h(744),p=h(260),g=h(324),y=h(796),_=h(356);function S(K,M){var k=new d.DocHandler(K),O=T(M,k.scaleFactor()),H=new p.Table(M,O);return(0,g.calculateWidths)(k,H),k.applyStyles(k.userStyles),H}c.createTable=S;function T(K,M){var k=K.content,O=j(k.columns);if(k.head.length===0){var H=A(O,"head");H&&k.head.push(H)}if(k.foot.length===0){var H=A(O,"foot");H&&k.foot.push(H)}var R=K.settings.theme,L=K.styles;return{columns:O,head:E("head",k.head,O,L,R,M),body:E("body",k.body,O,L,R,M),foot:E("foot",k.foot,O,L,R,M)}}function E(K,M,k,O,H,R){var L={},V=M.map(function(se,pe){for(var G=0,Q={},re=0,J=0,q=0,oe=k;q<oe.length;q++){var F=oe[q];if(L[F.index]==null||L[F.index].left===0)if(J===0){var W=void 0;Array.isArray(se)?W=se[F.index-re-G]:W=se[F.dataKey];var te={};typeof W=="object"&&!Array.isArray(W)&&(te=W?.styles||{});var ae=U(K,F,pe,H,O,R,te),fe=new p.Cell(W,ae,K);Q[F.dataKey]=fe,Q[F.index]=fe,J=fe.colSpan-1,L[F.index]={left:fe.rowSpan-1,times:J}}else J--,re++;else L[F.index].left--,J=L[F.index].times,G++}return new p.Row(se,pe,K,Q)});return V}function A(K,M){var k={};return K.forEach(function(O){if(O.raw!=null){var H=N(M,O.raw);H!=null&&(k[O.dataKey]=H)}}),Object.keys(k).length>0?k:null}function N(K,M){if(K==="head"){if(typeof M=="object")return M.header||M.title||null;if(typeof M=="string"||typeof M=="number")return M}else if(K==="foot"&&typeof M=="object")return M.footer;return null}function j(K){return K.map(function(M,k){var O,H,R;return typeof M=="object"?R=(H=(O=M.dataKey)!==null&&O!==void 0?O:M.key)!==null&&H!==void 0?H:k:R=k,new p.Column(R,M,k)})}function U(K,M,k,O,H,R,L){var V=(0,y.getTheme)(O),se;K==="head"?se=H.headStyles:K==="body"?se=H.bodyStyles:K==="foot"&&(se=H.footStyles);var pe=(0,_.assign)({},V.table,V[K],H.styles,se),G=H.columnStyles[M.dataKey]||H.columnStyles[M.index]||{},Q=K==="body"?G:{},re=K==="body"&&k%2===0?(0,_.assign)({},V.alternateRow,H.alternateRowStyles):{},J=(0,y.defaultStyles)(R),q=(0,_.assign)({},J,pe,re,Q);return(0,_.assign)(q,L)}}),664:(function(l,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=h(420),p=h(260),g=h(744),y=h(356),_=h(136),S=h(224);function T(G,Q){var re=Q.settings,J=re.startY,q=re.margin,oe={x:q.left,y:J},F=Q.getHeadHeight(Q.columns)+Q.getFootHeight(Q.columns),W=J+q.bottom+F;if(re.pageBreak==="avoid"){var te=Q.body,ae=te.reduce(function(ve,be){return ve+be.height},0);W+=ae}var fe=new g.DocHandler(G);(re.pageBreak==="always"||re.startY!=null&&W>fe.pageSize().height)&&(pe(fe),oe.y=q.top),Q.callWillDrawPageHooks(fe,oe);var _e=(0,y.assign)({},oe);Q.startPageNumber=fe.pageNumber(),re.horizontalPageBreak?E(fe,Q,_e,oe):(fe.applyStyles(fe.userStyles),(re.showHead==="firstPage"||re.showHead==="everyPage")&&Q.head.forEach(function(ve){return H(fe,Q,ve,oe,Q.columns)}),fe.applyStyles(fe.userStyles),Q.body.forEach(function(ve,be){var je=be===Q.body.length-1;O(fe,Q,ve,je,_e,oe,Q.columns)}),fe.applyStyles(fe.userStyles),(re.showFoot==="lastPage"||re.showFoot==="everyPage")&&Q.foot.forEach(function(ve){return H(fe,Q,ve,oe,Q.columns)})),(0,d.addTableBorder)(fe,Q,_e,oe),Q.callEndPageHooks(fe,oe),Q.finalY=oe.y,G.lastAutoTable=Q,G.previousAutoTable=Q,G.autoTable&&(G.autoTable.previous=Q),fe.applyStyles(fe.userStyles)}c.drawTable=T;function E(G,Q,re,J){var q=(0,S.calculateAllColumnsCanFitInPage)(G,Q),oe=Q.settings;if(oe.horizontalPageBreakBehaviour==="afterAllRows")q.forEach(function(ae,fe){G.applyStyles(G.userStyles),fe>0?se(G,Q,re,J,ae.columns,!0):A(G,Q,J,ae.columns),N(G,Q,re,J,ae.columns),U(G,Q,J,ae.columns)});else for(var F=-1,W=q[0],te=function(){var ae=F;if(W){G.applyStyles(G.userStyles);var fe=W.columns;F>=0?se(G,Q,re,J,fe,!0):A(G,Q,J,fe),ae=j(G,Q,F+1,J,fe),U(G,Q,J,fe)}var _e=ae-F;q.slice(1).forEach(function(ve){G.applyStyles(G.userStyles),se(G,Q,re,J,ve.columns,!0),j(G,Q,F+1,J,ve.columns,_e),U(G,Q,J,ve.columns)}),F=ae};F<Q.body.length-1;)te()}function A(G,Q,re,J){var q=Q.settings;G.applyStyles(G.userStyles),(q.showHead==="firstPage"||q.showHead==="everyPage")&&Q.head.forEach(function(oe){return H(G,Q,oe,re,J)})}function N(G,Q,re,J,q){G.applyStyles(G.userStyles),Q.body.forEach(function(oe,F){var W=F===Q.body.length-1;O(G,Q,oe,W,re,J,q)})}function j(G,Q,re,J,q,oe){G.applyStyles(G.userStyles),oe=oe??Q.body.length;var F=Math.min(re+oe,Q.body.length),W=-1;return Q.body.slice(re,F).forEach(function(te,ae){var fe=re+ae===Q.body.length-1,_e=V(G,Q,fe,J);te.canEntireRowFit(_e,q)&&(H(G,Q,te,J,q),W=re+ae)}),W}function U(G,Q,re,J){var q=Q.settings;G.applyStyles(G.userStyles),(q.showFoot==="lastPage"||q.showFoot==="everyPage")&&Q.foot.forEach(function(oe){return H(G,Q,oe,re,J)})}function K(G,Q,re){var J=re.getLineHeight(G.styles.fontSize),q=G.padding("vertical"),oe=Math.floor((Q-q)/J);return Math.max(0,oe)}function M(G,Q,re,J){var q={};G.spansMultiplePages=!0,G.height=0;for(var oe=0,F=0,W=re.columns;F<W.length;F++){var te=W[F],ae=G.cells[te.index];if(ae){Array.isArray(ae.text)||(ae.text=[ae.text]);var fe=new p.Cell(ae.raw,ae.styles,ae.section);fe=(0,y.assign)(fe,ae),fe.text=[];var _e=K(ae,Q,J);ae.text.length>_e&&(fe.text=ae.text.splice(_e,ae.text.length));var ve=J.scaleFactor(),be=J.getLineHeightFactor();ae.contentHeight=ae.getContentHeight(ve,be),ae.contentHeight>=Q&&(ae.contentHeight=Q,fe.styles.minCellHeight-=Q),ae.contentHeight>G.height&&(G.height=ae.contentHeight),fe.contentHeight=fe.getContentHeight(ve,be),fe.contentHeight>oe&&(oe=fe.contentHeight),q[te.index]=fe}}var je=new p.Row(G.raw,-1,G.section,q,!0);je.height=oe;for(var Be=0,Ze=re.columns;Be<Ze.length;Be++){var te=Ze[Be],fe=je.cells[te.index];fe&&(fe.height=je.height);var ae=G.cells[te.index];ae&&(ae.height=G.height)}return je}function k(G,Q,re,J){var q=G.pageSize().height,oe=J.settings.margin,F=oe.top+oe.bottom,W=q-F;Q.section==="body"&&(W-=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns));var te=Q.getMinimumRowHeight(J.columns,G),ae=te<re;if(te>W)return console.error("Will not be able to print row ".concat(Q.index," correctly since it's minimum height is larger than page height")),!0;if(!ae)return!1;var fe=Q.hasRowSpan(J.columns),_e=Q.getMaxCellHeight(J.columns)>W;return _e?(fe&&console.error("The content of row ".concat(Q.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(fe||J.settings.rowPageBreak==="avoid")}function O(G,Q,re,J,q,oe,F){var W=V(G,Q,J,oe);if(re.canEntireRowFit(W,F))H(G,Q,re,oe,F);else if(k(G,re,W,Q)){var te=M(re,W,Q,G);H(G,Q,re,oe,F),se(G,Q,q,oe,F),O(G,Q,te,J,q,oe,F)}else se(G,Q,q,oe,F),O(G,Q,re,J,q,oe,F)}function H(G,Q,re,J,q){J.x=Q.settings.margin.left;for(var oe=0,F=q;oe<F.length;oe++){var W=F[oe],te=re.cells[W.index];if(!te){J.x+=W.width;continue}G.applyStyles(te.styles),te.x=J.x,te.y=J.y;var ae=Q.callCellHooks(G,Q.hooks.willDrawCell,te,re,W,J);if(ae===!1){J.x+=W.width;continue}R(G,te,J);var fe=te.getTextPos();(0,_.default)(te.text,fe.x,fe.y,{halign:te.styles.halign,valign:te.styles.valign,maxWidth:Math.ceil(te.width-te.padding("left")-te.padding("right"))},G.getDocument()),Q.callCellHooks(G,Q.hooks.didDrawCell,te,re,W,J),J.x+=W.width}J.y+=re.height}function R(G,Q,re){var J=Q.styles;if(G.getDocument().setFillColor(G.getDocument().getFillColor()),typeof J.lineWidth=="number"){var q=(0,d.getFillStyle)(J.lineWidth,J.fillColor);q&&G.rect(Q.x,re.y,Q.width,Q.height,q)}else typeof J.lineWidth=="object"&&(J.fillColor&&G.rect(Q.x,re.y,Q.width,Q.height,"F"),L(G,Q,re,J.lineWidth))}function L(G,Q,re,J){var q,oe,F,W;J.top&&(q=re.x,oe=re.y,F=re.x+Q.width,W=re.y,J.right&&(F+=.5*J.right),J.left&&(q-=.5*J.left),te(J.top,q,oe,F,W)),J.bottom&&(q=re.x,oe=re.y+Q.height,F=re.x+Q.width,W=re.y+Q.height,J.right&&(F+=.5*J.right),J.left&&(q-=.5*J.left),te(J.bottom,q,oe,F,W)),J.left&&(q=re.x,oe=re.y,F=re.x,W=re.y+Q.height,J.top&&(oe-=.5*J.top),J.bottom&&(W+=.5*J.bottom),te(J.left,q,oe,F,W)),J.right&&(q=re.x+Q.width,oe=re.y,F=re.x+Q.width,W=re.y+Q.height,J.top&&(oe-=.5*J.top),J.bottom&&(W+=.5*J.bottom),te(J.right,q,oe,F,W));function te(ae,fe,_e,ve,be){G.getDocument().setLineWidth(ae),G.getDocument().line(fe,_e,ve,be,"S")}}function V(G,Q,re,J){var q=Q.settings.margin.bottom,oe=Q.settings.showFoot;return(oe==="everyPage"||oe==="lastPage"&&re)&&(q+=Q.getFootHeight(Q.columns)),G.pageSize().height-J.y-q}function se(G,Q,re,J,q,oe){q===void 0&&(q=[]),oe===void 0&&(oe=!1),G.applyStyles(G.userStyles),Q.settings.showFoot==="everyPage"&&!oe&&Q.foot.forEach(function(W){return H(G,Q,W,J,q)}),Q.callEndPageHooks(G,J);var F=Q.settings.margin;(0,d.addTableBorder)(G,Q,re,J),pe(G),Q.pageNumber++,Q.pageCount++,J.x=F.left,J.y=F.top,re.y=F.top,Q.callWillDrawPageHooks(G,J),Q.settings.showHead==="everyPage"&&(Q.head.forEach(function(W){return H(G,Q,W,J,q)}),G.applyStyles(G.userStyles))}c.addPage=se;function pe(G){var Q=G.pageNumber();G.setPage(Q+1);var re=G.pageNumber();return re===Q?(G.addPage(),!0):!1}}),224:(function(l,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=h(420);function p(y,_,S){var T;S===void 0&&(S={});var E=(0,d.getPageAvailableWidth)(y,_),A=new Map,N=[],j=[],U=[];_.settings.horizontalPageBreakRepeat,Array.isArray(_.settings.horizontalPageBreakRepeat)?U=_.settings.horizontalPageBreakRepeat:(typeof _.settings.horizontalPageBreakRepeat=="string"||typeof _.settings.horizontalPageBreakRepeat=="number")&&(U=[_.settings.horizontalPageBreakRepeat]),U.forEach(function(O){var H=_.columns.find(function(R){return R.dataKey===O||R.index===O});H&&!A.has(H.index)&&(A.set(H.index,!0),N.push(H.index),j.push(_.columns[H.index]),E-=H.wrappedWidth)});for(var K=!0,M=(T=S?.start)!==null&&T!==void 0?T:0;M<_.columns.length;){if(A.has(M)){M++;continue}var k=_.columns[M].wrappedWidth;if(K||E>=k)K=!1,N.push(M),j.push(_.columns[M]),E-=k;else break;M++}return{colIndexes:N,columns:j,lastIndex:M-1}}function g(y,_){for(var S=[],T=0;T<_.columns.length;T++){var E=p(y,_,{start:T});E.columns.length&&(S.push(E),T=E.lastIndex)}return S}c.calculateAllColumnsCanFitInPage=g}),324:(function(l,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=h(420);function p(N,j){g(N,j);var U=[],K=0;j.columns.forEach(function(k){var O=k.getMaxCustomCellWidth(j);O?k.width=O:(k.width=k.wrappedWidth,U.push(k)),K+=k.width});var M=j.getWidth(N.pageSize().width)-K;M&&(M=y(U,M,function(k){return Math.max(k.minReadableWidth,k.minWidth)})),M&&(M=y(U,M,function(k){return k.minWidth})),M=Math.abs(M),!j.settings.horizontalPageBreak&&M>.1/N.scaleFactor()&&(M=M<1?M:Math.round(M),console.warn("Of the table content, ".concat(M," units width could not fit page"))),S(j),T(j,N),_(j)}c.calculateWidths=p;function g(N,j){var U=N.scaleFactor(),K=j.settings.horizontalPageBreak,M=(0,d.getPageAvailableWidth)(N,j);j.allRows().forEach(function(k){for(var O=0,H=j.columns;O<H.length;O++){var R=H[O],L=k.cells[R.index];if(L){var V=j.hooks.didParseCell;j.callCellHooks(N,V,L,k,R,null);var se=L.padding("horizontal");L.contentWidth=(0,d.getStringWidth)(L.text,L.styles,N)+se;var pe=(0,d.getStringWidth)(L.text.join(" ").split(/[^\S\u00A0]+/),L.styles,N);if(L.minReadableWidth=pe+L.padding("horizontal"),typeof L.styles.cellWidth=="number")L.minWidth=L.styles.cellWidth,L.wrappedWidth=L.styles.cellWidth;else if(L.styles.cellWidth==="wrap"||K===!0)L.contentWidth>M?(L.minWidth=M,L.wrappedWidth=M):(L.minWidth=L.contentWidth,L.wrappedWidth=L.contentWidth);else{var G=10/U;L.minWidth=L.styles.minCellWidth||G,L.wrappedWidth=L.contentWidth,L.minWidth>L.wrappedWidth&&(L.wrappedWidth=L.minWidth)}}}}),j.allRows().forEach(function(k){for(var O=0,H=j.columns;O<H.length;O++){var R=H[O],L=k.cells[R.index];if(L&&L.colSpan===1)R.wrappedWidth=Math.max(R.wrappedWidth,L.wrappedWidth),R.minWidth=Math.max(R.minWidth,L.minWidth),R.minReadableWidth=Math.max(R.minReadableWidth,L.minReadableWidth);else{var V=j.styles.columnStyles[R.dataKey]||j.styles.columnStyles[R.index]||{},se=V.cellWidth||V.minCellWidth;se&&typeof se=="number"&&(R.minWidth=se,R.wrappedWidth=se)}L&&(L.colSpan>1&&!R.minWidth&&(R.minWidth=L.minWidth),L.colSpan>1&&!R.wrappedWidth&&(R.wrappedWidth=L.minWidth))}})}function y(N,j,U){for(var K=j,M=N.reduce(function(G,Q){return G+Q.wrappedWidth},0),k=0;k<N.length;k++){var O=N[k],H=O.wrappedWidth/M,R=K*H,L=O.width+R,V=U(O),se=L<V?V:L;j-=se-O.width,O.width=se}if(j=Math.round(j*1e10)/1e10,j){var pe=N.filter(function(G){return j<0?G.width>U(G):!0});pe.length&&(j=y(pe,j,U))}return j}c.resizeColumns=y;function _(N){for(var j={},U=1,K=N.allRows(),M=0;M<K.length;M++)for(var k=K[M],O=0,H=N.columns;O<H.length;O++){var R=H[O],L=j[R.index];if(U>1)U--,delete k.cells[R.index];else if(L)L.cell.height+=k.height,U=L.cell.colSpan,delete k.cells[R.index],L.left--,L.left<=1&&delete j[R.index];else{var V=k.cells[R.index];if(!V)continue;if(V.height=k.height,V.rowSpan>1){var se=K.length-M,pe=V.rowSpan>se?se:V.rowSpan;j[R.index]={cell:V,left:pe,row:k}}}}}function S(N){for(var j=N.allRows(),U=0;U<j.length;U++)for(var K=j[U],M=null,k=0,O=0,H=0;H<N.columns.length;H++){var R=N.columns[H];if(O-=1,O>1&&N.columns[H+1])k+=R.width,delete K.cells[R.index];else if(M){var L=M;delete K.cells[R.index],M=null,L.width=R.width+k}else{var L=K.cells[R.index];if(!L)continue;if(O=L.colSpan,k=0,L.colSpan>1){M=L,k+=R.width;continue}L.width=R.width+k}}}function T(N,j){for(var U={count:0,height:0},K=0,M=N.allRows();K<M.length;K++){for(var k=M[K],O=0,H=N.columns;O<H.length;O++){var R=H[O],L=k.cells[R.index];if(L){j.applyStyles(L.styles,!0);var V=L.width-L.padding("horizontal");if(L.styles.overflow==="linebreak")L.text=j.splitTextToSize(L.text,V+1/j.scaleFactor(),{fontSize:L.styles.fontSize});else if(L.styles.overflow==="ellipsize")L.text=E(L.text,V,L.styles,j,"...");else if(L.styles.overflow==="hidden")L.text=E(L.text,V,L.styles,j,"");else if(typeof L.styles.overflow=="function"){var se=L.styles.overflow(L.text,V);typeof se=="string"?L.text=[se]:L.text=se}L.contentHeight=L.getContentHeight(j.scaleFactor(),j.getLineHeightFactor());var pe=L.contentHeight/L.rowSpan;L.rowSpan>1&&U.count*U.height<pe*L.rowSpan?U={height:pe,count:L.rowSpan}:U&&U.count>0&&U.height>pe&&(pe=U.height),pe>k.height&&(k.height=pe)}}U.count--}}function E(N,j,U,K,M){return N.map(function(k){return A(k,j,U,K,M)})}c.ellipsize=E;function A(N,j,U,K,M){var k=1e4*K.scaleFactor();if(j=Math.ceil(j*k)/k,j>=(0,d.getStringWidth)(N,U,K))return N;for(;j<(0,d.getStringWidth)(N+M,U,K)&&!(N.length<=1);)N=N.substring(0,N.length-1);return N.trim()+M}}),964:(function(l){if(typeof t>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=t})},i={};function s(l){var c=i[l];if(c!==void 0)return c.exports;var h=i[l]={exports:{}};return r[l].call(h.exports,h,h.exports,s),h.exports}var a={};return(function(){var l=a;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=s(340),h=s(776),d=s(664),p=s(972),g=s(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return g.Table}});var y=s(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return y.CellHookData}});var _=s(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return _.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return _.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return _.Row}});function S(j){(0,c.default)(j)}l.applyPlugin=S;function T(j,U){var K=(0,h.parseInput)(j,U),M=(0,p.createTable)(j,K);(0,d.drawTable)(j,M)}function E(j,U){var K=(0,h.parseInput)(j,U);return(0,p.createTable)(j,K)}l.__createTable=E;function A(j,U){(0,d.drawTable)(j,U)}l.__drawTable=A;try{var N=s(964);N.jsPDF&&(N=N.jsPDF),S(N)}catch{}l.default=T})(),a})()})})(zv)),zv.exports}dZ();const pZ=n=>{const e=new Nt;e.setFontSize(18),e.text("Symptom Report",14,20),e.setFontSize(12),[`Date: ${new Date(n.date).toLocaleString()}`,`User: ${n.user_id}`,`Symptoms: ${n.symptoms}`,`AI Suggestion: ${n.ai_suggestion}`,`Suggested Tests: ${n.suggested_tests?.join(", ")||"-"}`,`Urgency: ${n.urgency}`].forEach((i,s)=>{e.text(i,14,30+s*8)}),e.autoTable({startY:80,head:[["Role","Message"]],body:n.full_conversation.map(i=>[i.role,i.message]),styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[59,130,246]},theme:"grid"});const r=new Date(n.date).toISOString().split("T")[0];e.save(`Symptom_Report_${r}.pdf`)};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function V0(n){return n+.5|0}const Dh=(n,e,t)=>Math.max(Math.min(n,t),e);function yg(n){return Dh(V0(n*2.55),0,255)}function Bh(n){return Dh(V0(n*255),0,255)}function nu(n){return Dh(V0(n/2.55)/100,0,1)}function WC(n){return Dh(V0(n*100),0,100)}const oo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},W5=[..."0123456789ABCDEF"],mZ=n=>W5[n&15],gZ=n=>W5[(n&240)>>4]+W5[n&15],ov=n=>(n&240)>>4===(n&15),yZ=n=>ov(n.r)&&ov(n.g)&&ov(n.b)&&ov(n.a);function vZ(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&oo[n[1]]*17,g:255&oo[n[2]]*17,b:255&oo[n[3]]*17,a:e===5?oo[n[4]]*17:255}:(e===7||e===9)&&(t={r:oo[n[1]]<<4|oo[n[2]],g:oo[n[3]]<<4|oo[n[4]],b:oo[n[5]]<<4|oo[n[6]],a:e===9?oo[n[7]]<<4|oo[n[8]]:255})),t}const bZ=(n,e)=>n<255?e(n):"";function wZ(n){var e=yZ(n)?mZ:gZ;return n?"#"+e(n.r)+e(n.g)+e(n.b)+bZ(n.a,e):void 0}const _Z=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fL(n,e,t){const r=e*Math.min(t,1-t),i=(s,a=(s+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function xZ(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function SZ(n,e,t){const r=fL(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function TZ(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function OS(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),a=Math.min(t,r,i),l=(s+a)/2;let c,h,d;return s!==a&&(d=s-a,h=l>.5?d/(2-s-a):d/(s+a),c=TZ(t,r,i,d,s),c=c*60+.5),[c|0,h||0,l]}function jS(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Bh)}function FS(n,e,t){return jS(fL,n,e,t)}function EZ(n,e,t){return jS(SZ,n,e,t)}function AZ(n,e,t){return jS(xZ,n,e,t)}function dL(n){return(n%360+360)%360}function CZ(n){const e=_Z.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?yg(+e[5]):Bh(+e[5]));const i=dL(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=EZ(i,s,a):e[1]==="hsv"?r=AZ(i,s,a):r=FS(i,s,a),{r:r[0],g:r[1],b:r[2],a:t}}function DZ(n,e){var t=OS(n);t[0]=dL(t[0]+e),t=FS(t),n.r=t[0],n.g=t[1],n.b=t[2]}function kZ(n){if(!n)return;const e=OS(n),t=e[0],r=WC(e[1]),i=WC(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${nu(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const YC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$C={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function NZ(){const n={},e=Object.keys($C),t=Object.keys(YC);let r,i,s,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],i=0;i<t.length;i++)s=t[i],l=l.replace(s,YC[s]);s=parseInt($C[a],16),n[l]=[s>>16&255,s>>8&255,s&255]}return n}let lv;function PZ(n){lv||(lv=NZ(),lv.transparent=[0,0,0,0]);const e=lv[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RZ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function MZ(n){const e=RZ.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?yg(a):Dh(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?yg(r):Dh(r,0,255)),i=255&(e[4]?yg(i):Dh(i,0,255)),s=255&(e[6]?yg(s):Dh(s,0,255)),{r,g:i,b:s,a:t}}}function LZ(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${nu(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Gw=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,rp=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function IZ(n,e,t){const r=rp(nu(n.r)),i=rp(nu(n.g)),s=rp(nu(n.b));return{r:Bh(Gw(r+t*(rp(nu(e.r))-r))),g:Bh(Gw(i+t*(rp(nu(e.g))-i))),b:Bh(Gw(s+t*(rp(nu(e.b))-s))),a:n.a+t*(e.a-n.a)}}function cv(n,e,t){if(n){let r=OS(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=FS(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function pL(n,e){return n&&Object.assign(e||{},n)}function GC(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Bh(n[3]))):(e=pL(n,{r:0,g:0,b:0,a:1}),e.a=Bh(e.a)),e}function OZ(n){return n.charAt(0)==="r"?MZ(n):CZ(n)}class o0{constructor(e){if(e instanceof o0)return e;const t=typeof e;let r;t==="object"?r=GC(e):t==="string"&&(r=vZ(e)||PZ(e)||OZ(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=pL(this._rgb);return e&&(e.a=nu(e.a)),e}set rgb(e){this._rgb=GC(e)}rgbString(){return this._valid?LZ(this._rgb):void 0}hexString(){return this._valid?wZ(this._rgb):void 0}hslString(){return this._valid?kZ(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,l=2*a-1,c=r.a-i.a,h=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-h,r.r=255&h*r.r+s*i.r+.5,r.g=255&h*r.g+s*i.g+.5,r.b=255&h*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=IZ(this._rgb,e._rgb,t)),this}clone(){return new o0(this.rgb)}alpha(e){return this._rgb.a=Bh(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=V0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return cv(this._rgb,2,e),this}darken(e){return cv(this._rgb,2,-e),this}saturate(e){return cv(this._rgb,1,e),this}desaturate(e){return cv(this._rgb,1,-e),this}rotate(e){return DZ(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Zc(){}const jZ=(()=>{let n=0;return()=>n++})();function or(n){return n==null}function Wi(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function An(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function _o(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Vl(n,e){return _o(n)?n:e}function En(n,e){return typeof n>"u"?e:n}const FZ=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,mL=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function dr(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function $n(n,e,t,r){let i,s,a;if(Wi(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(An(n))for(a=Object.keys(n),s=a.length,i=0;i<s;i++)e.call(t,n[a[i]],a[i])}function O1(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function j1(n){if(Wi(n))return n.map(j1);if(An(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=j1(n[t[i]]);return e}return n}function gL(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function VZ(n,e,t,r){if(!gL(n))return;const i=e[n],s=t[n];An(i)&&An(s)?l0(i,s,r):e[n]=j1(s)}function l0(n,e,t){const r=Wi(e)?e:[e],i=r.length;if(!An(n))return n;t=t||{};const s=t.merger||VZ;let a;for(let l=0;l<i;++l){if(a=r[l],!An(a))continue;const c=Object.keys(a);for(let h=0,d=c.length;h<d;++h)s(c[h],n,a,t)}return n}function Ig(n,e){return l0(n,e,{merger:BZ})}function BZ(n,e,t){if(!gL(n))return;const r=e[n],i=t[n];An(r)&&An(i)?Ig(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=j1(i))}const KC={"":n=>n,x:n=>n.x,y:n=>n.y};function UZ(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function zZ(n){const e=UZ(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function pd(n,e){return(KC[e]||(KC[e]=zZ(e)))(n)}function VS(n){return n.charAt(0).toUpperCase()+n.slice(1)}const c0=n=>typeof n<"u",Jh=n=>typeof n=="function",XC=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function HZ(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const mr=Math.PI,_i=2*mr,F1=Number.POSITIVE_INFINITY,qZ=mr/180,Ri=mr/2,Cf=mr/4,QC=mr*2/3,yL=Math.log10,Uh=Math.sign;function Hv(n,e,t){return Math.abs(n-e)<t}function JC(n){const e=Math.round(n);n=Hv(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(yL(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function WZ(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function YZ(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function V1(n){return!YZ(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function $Z(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function GZ(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ou(n){return n*(mr/180)}function KZ(n){return n*(180/mr)}function ZC(n){if(!_o(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function vL(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*mr&&(s+=_i),{angle:s,distance:i}}function XZ(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Yl(n){return(n%_i+_i)%_i}function B1(n,e,t,r){const i=Yl(n),s=Yl(e),a=Yl(t),l=Yl(s-i),c=Yl(a-i),h=Yl(i-s),d=Yl(i-a);return i===s||i===a||r&&s===a||l>c&&h<d}function oa(n,e,t){return Math.max(e,Math.min(t,n))}function QZ(n){return oa(n,-32768,32767)}function qf(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function BS(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const Y5=(n,e,t,r)=>BS(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),JZ=(n,e,t)=>BS(n,t,r=>n[r][e]>=t);function ZZ(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const bL=["push","pop","shift","splice","unshift"];function eee(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),bL.forEach(t=>{const r="_onData"+VS(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return n._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),a}})})}function eD(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(bL.forEach(s=>{delete n[s]}),delete n._chartjs)}function wL(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const _L=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function xL(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,_L.call(window,()=>{r=!1,n.apply(e,t)}))}}function tee(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const SL=n=>n==="start"?"left":n==="end"?"right":"center",La=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,nee=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,uv=n=>n===0||n===1,tD=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*_i/t)),nD=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*_i/t)+1,Og={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ri)+1,easeOutSine:n=>Math.sin(n*Ri),easeInOutSine:n=>-.5*(Math.cos(mr*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>uv(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>uv(n)?n:tD(n,.075,.3),easeOutElastic:n=>uv(n)?n:nD(n,.075,.3),easeInOutElastic(n){return uv(n)?n:n<.5?.5*tD(n*2,.1125,.45):.5+.5*nD(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Og.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Og.easeInBounce(n*2)*.5:Og.easeOutBounce(n*2-1)*.5+.5};function TL(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function rD(n){return TL(n)?n:new o0(n)}function Kw(n){return TL(n)?n:new o0(n).saturate(.5).darken(.1).hexString()}const ree=["x","y","borderWidth","radius","tension"],iee=["color","borderColor","backgroundColor"];function see(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:iee},numbers:{type:"number",properties:ree}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aee(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const iD=new Map;function oee(n,e){e=e||{};const t=n+JSON.stringify(e);let r=iD.get(t);return r||(r=new Intl.NumberFormat(n,e),iD.set(t,r)),r}function US(n,e,t){return oee(e,t).format(n)}const lee={values(n){return Wi(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),s=cee(n,t)}const a=yL(Math.abs(s)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),US(n,r,c)}};function cee(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var EL={formatters:lee};function uee(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:EL.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const md=Object.create(null),$5=Object.create(null);function jg(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function Xw(n,e,t){return typeof e=="string"?l0(jg(n,e),t):l0(jg(n,""),e)}class hee{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Kw(i.backgroundColor),this.hoverBorderColor=(r,i)=>Kw(i.borderColor),this.hoverColor=(r,i)=>Kw(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Xw(this,e,t)}get(e){return jg(this,e)}describe(e,t){return Xw($5,e,t)}override(e,t){return Xw(md,e,t)}route(e,t,r,i){const s=jg(this,e),a=jg(this,r),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],h=a[i];return An(c)?Object.assign({},h,c):En(c,h)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var hi=new hee({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[see,aee,uee]);function fee(n){return!n||or(n.size)||or(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function sD(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function Df(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function aD(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function oD(n,e,t,r){AL(n,e,t,r,null)}function AL(n,e,t,r,i){let s,a,l,c,h,d,p,g;const y=e.pointStyle,_=e.rotation,S=e.radius;let T=(_||0)*qZ;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(T),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),y){default:i?n.ellipse(t,r,i/2,S,0,0,_i):n.arc(t,r,S,0,_i),n.closePath();break;case"triangle":d=i?i/2:S,n.moveTo(t+Math.sin(T)*d,r-Math.cos(T)*S),T+=QC,n.lineTo(t+Math.sin(T)*d,r-Math.cos(T)*S),T+=QC,n.lineTo(t+Math.sin(T)*d,r-Math.cos(T)*S),n.closePath();break;case"rectRounded":h=S*.516,c=S-h,a=Math.cos(T+Cf)*c,p=Math.cos(T+Cf)*(i?i/2-h:c),l=Math.sin(T+Cf)*c,g=Math.sin(T+Cf)*(i?i/2-h:c),n.arc(t-p,r-l,h,T-mr,T-Ri),n.arc(t+g,r-a,h,T-Ri,T),n.arc(t+p,r+l,h,T,T+Ri),n.arc(t-g,r+a,h,T+Ri,T+mr),n.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*S,d=i?i/2:c,n.rect(t-d,r-c,2*d,2*c);break}T+=Cf;case"rectRot":p=Math.cos(T)*(i?i/2:S),a=Math.cos(T)*S,l=Math.sin(T)*S,g=Math.sin(T)*(i?i/2:S),n.moveTo(t-p,r-l),n.lineTo(t+g,r-a),n.lineTo(t+p,r+l),n.lineTo(t-g,r+a),n.closePath();break;case"crossRot":T+=Cf;case"cross":p=Math.cos(T)*(i?i/2:S),a=Math.cos(T)*S,l=Math.sin(T)*S,g=Math.sin(T)*(i?i/2:S),n.moveTo(t-p,r-l),n.lineTo(t+p,r+l),n.moveTo(t+g,r-a),n.lineTo(t-g,r+a);break;case"star":p=Math.cos(T)*(i?i/2:S),a=Math.cos(T)*S,l=Math.sin(T)*S,g=Math.sin(T)*(i?i/2:S),n.moveTo(t-p,r-l),n.lineTo(t+p,r+l),n.moveTo(t+g,r-a),n.lineTo(t-g,r+a),T+=Cf,p=Math.cos(T)*(i?i/2:S),a=Math.cos(T)*S,l=Math.sin(T)*S,g=Math.sin(T)*(i?i/2:S),n.moveTo(t-p,r-l),n.lineTo(t+p,r+l),n.moveTo(t+g,r-a),n.lineTo(t-g,r+a);break;case"line":a=i?i/2:Math.cos(T)*S,l=Math.sin(T)*S,n.moveTo(t-a,r-l),n.lineTo(t+a,r+l);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(T)*(i?i/2:S),r+Math.sin(T)*S);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function CL(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function zS(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function HS(n){n.restore()}function dee(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),or(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function pee(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,h=t+s.actualBoundingBoxDescent,d=i.strikethrough?(c+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,d),n.lineTo(l,d),n.stroke()}}function mee(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function U1(n,e,t,r,i,s={}){const a=Wi(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,h;for(n.save(),n.font=i.string,dee(n,s),c=0;c<a.length;++c)h=a[c],s.backdrop&&mee(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),or(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(h,t,r,s.maxWidth)),n.fillText(h,t,r,s.maxWidth),pee(n,t,r,h,s),r+=Number(i.lineHeight);n.restore()}function z1(n,e){const{x:t,y:r,w:i,h:s,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*mr,mr,!0),n.lineTo(t,r+s-a.bottomLeft),n.arc(t+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,mr,Ri,!0),n.lineTo(t+i-a.bottomRight,r+s),n.arc(t+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Ri,0,!0),n.lineTo(t+i,r+a.topRight),n.arc(t+i-a.topRight,r+a.topRight,a.topRight,0,-Ri,!0),n.lineTo(t+a.topLeft,r)}const gee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vee(n,e){const t=(""+n).match(gee);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const bee=n=>+n||0;function qS(n,e){const t={},r=An(e),i=r?Object.keys(e):e,s=An(n)?r?a=>En(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of i)t[a]=bee(s(a));return t}function DL(n){return qS(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ep(n){return qS(n,["topLeft","topRight","bottomLeft","bottomRight"])}function sl(n){const e=DL(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function la(n,e){n=n||{},e=e||hi.font;let t=En(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=En(n.style,e.style);r&&!(""+r).match(yee)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:En(n.family,e.family),lineHeight:vee(En(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:En(n.weight,e.weight),string:""};return i.string=fee(i),i}function hv(n,e,t,r){let i,s,a;for(i=0,s=n.length;i<s;++i)if(a=n[i],a!==void 0&&a!==void 0)return a}function wee(n,e,t){const{min:r,max:i}=n,s=mL(e,(i-r)/2),a=(l,c)=>t&&l===0?0:l+c;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function tm(n,e){return Object.assign(Object.create(n),e)}function WS(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=RL("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>WS([l,...n],e,s,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete n[0][c],!0},get(l,c){return NL(l,c,()=>Dee(c,e,n,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,c){return cD(l).includes(c)},ownKeys(l){return cD(l)},set(l,c,h){const d=l._storage||(l._storage=i());return l[c]=d[c]=h,delete l._keys,!0}})}function zp(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:kL(n,r),setContext:s=>zp(n,s,t,r),override:s=>zp(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,l){return NL(s,a,()=>xee(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,l){return n[a]=l,delete s[a],!0}})}function kL(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Jh(t)?t:()=>t,isIndexable:Jh(r)?r:()=>r}}const _ee=(n,e)=>n?n+VS(e):e,YS=(n,e)=>An(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function NL(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function xee(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;let l=r[e];return Jh(l)&&a.isScriptable(e)&&(l=See(e,l,n,t)),Wi(l)&&l.length&&(l=Tee(e,l,n,a.isIndexable)),YS(e,l)&&(l=zp(l,i,s&&s[e],a)),l}function See(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=e(s,a||r);return l.delete(n),YS(n,c)&&(c=$S(i._scopes,i,n,c)),c}function Tee(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(An(e[0])){const c=e,h=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const p=$S(h,i,n,d);e.push(zp(p,s,a&&a[n],l))}}return e}function PL(n,e,t){return Jh(n)?n(e,t):n}const Eee=(n,e)=>n===!0?e:typeof n=="string"?pd(e,n):void 0;function Aee(n,e,t,r,i){for(const s of e){const a=Eee(t,s);if(a){n.add(a);const l=PL(a._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==r)return l}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function $S(n,e,t,r){const i=e._rootScopes,s=PL(e._fallback,t,r),a=[...n,...i],l=new Set;l.add(r);let c=lD(l,a,t,s||t,r);return c===null||typeof s<"u"&&s!==t&&(c=lD(l,a,s,c,r),c===null)?!1:WS(Array.from(l),[""],i,s,()=>Cee(e,t,r))}function lD(n,e,t,r,i){for(;t;)t=Aee(n,e,t,r,i);return t}function Cee(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Wi(i)&&An(t)?t:i||{}}function Dee(n,e,t,r){let i;for(const s of e)if(i=RL(_ee(s,n),t),typeof i<"u")return YS(n,i)?$S(t,r,n,i):i}function RL(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function cD(n){let e=n._keys;return e||(e=n._keys=kee(n._scopes)),e}function kee(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function GS(){return typeof window<"u"&&typeof document<"u"}function KS(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function H1(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const H2=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Nee(n,e){return H2(n).getPropertyValue(e)}const Pee=["top","right","bottom","left"];function td(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=Pee[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Ree=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Mee(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a=!1,l,c;if(Ree(i,s,n.target))l=i,c=s;else{const h=e.getBoundingClientRect();l=r.clientX-h.left,c=r.clientY-h.top,a=!0}return{x:l,y:c,box:a}}function Of(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=H2(t),s=i.boxSizing==="border-box",a=td(i,"padding"),l=td(i,"border","width"),{x:c,y:h,box:d}=Mee(n,t),p=a.left+(d&&l.left),g=a.top+(d&&l.top);let{width:y,height:_}=e;return s&&(y-=a.width+l.width,_-=a.height+l.height),{x:Math.round((c-p)/y*t.width/r),y:Math.round((h-g)/_*t.height/r)}}function Lee(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&KS(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),l=H2(s),c=td(l,"border","width"),h=td(l,"padding");e=a.width-h.width-c.width,t=a.height-h.height-c.height,r=H1(l.maxWidth,s,"clientWidth"),i=H1(l.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||F1,maxHeight:i||F1}}const fv=n=>Math.round(n*10)/10;function Iee(n,e,t,r){const i=H2(n),s=td(i,"margin"),a=H1(i.maxWidth,n,"clientWidth")||F1,l=H1(i.maxHeight,n,"clientHeight")||F1,c=Lee(n,e,t);let{width:h,height:d}=c;if(i.boxSizing==="content-box"){const g=td(i,"border","width"),y=td(i,"padding");h-=y.width+g.width,d-=y.height+g.height}return h=Math.max(0,h-s.width),d=Math.max(0,r?h/r:d-s.height),h=fv(Math.min(h,a,c.maxWidth)),d=fv(Math.min(d,l,c.maxHeight)),h&&!d&&(d=fv(h/2)),(e!==void 0||t!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,h=fv(Math.floor(d*r))),{width:h,height:d}}function uD(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(n.currentDevicePixelRatio=r,a.height=i,a.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Oee=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};GS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function hD(n,e){const t=Nee(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const jee=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Fee=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ap(n,e,t){return n?jee(e,t):Fee()}function ML(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function LL(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function dv(n,e,t){return n.options.clip?n[t]:e[t]}function Vee(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:dv(t,e,"left"),right:dv(t,e,"right"),top:dv(r,e,"top"),bottom:dv(r,e,"bottom")}:e}function Bee(n,e){const t=e._clip;if(t.disabled)return!1;const r=Vee(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Uee{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],a=t.duration;s.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=_L.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,l=!1,c;for(;a>=0;--a)c=s[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var eu=new Uee;const fD="transparent",zee={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=rD(n||fD),i=r.valid&&rD(e||fD);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Hee{constructor(e,t,r,i){const s=t[r];i=hv([e.to,i,s,e.from]);const a=hv([e.from,s,i]);this._active=!0,this._fn=e.fn||zee[e.type||typeof a],this._easing=Og[e.easing]||Og.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=hv([e.to,t,i,e.from]),this._from=hv([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,l=this._to;let c;if(this._active=s!==l&&(a||t<r),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=s;return}c=t/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class IL{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!An(e))return;const t=Object.keys(hi.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!An(s))return;const a={};for(const l of t)a[l]=s[l];(Wi(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,t){const r=t.options,i=Wee(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&qee(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const h=a[c];if(h.charAt(0)==="$")continue;if(h==="options"){i.push(...this._animateOptions(e,t));continue}const d=t[h];let p=s[h];const g=r.get(h);if(p)if(g&&p.active()){p.update(g,d,l);continue}else p.cancel();if(!g||!g.duration){e[h]=d;continue}s[h]=p=new Hee(g,e,h,d),i.push(p)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return eu.add(this._chart,r),!0}}function qee(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Wee(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function dD(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function Yee(n,e,t){if(t===!1)return!1;const r=dD(n,t),i=dD(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function $ee(n){let e,t,r,i;return An(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function OL(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function pD(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let a,l,c,h;if(e===null)return;let d=!1;for(a=0,l=i.length;a<l;++a){if(c=+i[a],c===t){if(d=!0,r.all)continue;break}h=n.values[c],_o(h)&&(s||e===0||Uh(e)===Uh(h))&&(e+=h)}return!d&&!r.all?0:e}function Gee(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let c,h,d;for(c=0,h=a.length;c<h;++c)d=a[c],l[c]={[i]:d,[s]:n[d]};return l}function Qw(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Kee(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Xee(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function Qee(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function mD(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function gD(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:l}=r,c=s.axis,h=a.axis,d=Kee(s,a,r),p=e.length;let g;for(let y=0;y<p;++y){const _=e[y],{[c]:S,[h]:T}=_,E=_._stacks||(_._stacks={});g=E[h]=Qee(i,d,S),g[l]=T,g._top=mD(g,a,!0,r.type),g._bottom=mD(g,a,!1,r.type);const A=g._visualValues||(g._visualValues={});A[l]=T}}function Jw(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function Jee(n,e){return tm(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Zee(n,e,t){return tm(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function eg(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const Zw=n=>n==="reset"||n==="none",yD=(n,e)=>e?n:Object.assign({},n),ete=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:OL(t,!0),values:null};class XS{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Qw(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&eg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(p,g,y,_)=>p==="x"?g:p==="r"?_:y,s=t.xAxisID=En(r.xAxisID,Jw(e,"x")),a=t.yAxisID=En(r.yAxisID,Jw(e,"y")),l=t.rAxisID=En(r.rAxisID,Jw(e,"r")),c=t.indexAxis,h=t.iAxisID=i(c,s,a,l),d=t.vAxisID=i(c,a,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&eD(this._data,this),e._stacked&&eg(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(An(t)){const i=this._cachedMeta;this._data=Gee(t,i)}else if(r!==t){if(r){eD(r,this);const i=this._cachedMeta;eg(i),i._parsed=[]}t&&Object.isExtensible(t)&&eee(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=Qw(t.vScale,t),t.stack!==r.stack&&(i=!0,eg(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(gD(this,t._parsed),t._stacked=Qw(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,l=s.axis;let c=e===0&&t===i.length?!0:r._sorted,h=e>0&&r._parsed[e-1],d,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{Wi(i[e])?g=this.parseArrayData(r,i,e,t):An(i[e])?g=this.parseObjectData(r,i,e,t):g=this.parsePrimitiveData(r,i,e,t);const y=()=>p[l]===null||h&&p[l]<h[l];for(d=0;d<t;++d)r._parsed[d+e]=p=g[d],c&&(y()&&(c=!1),h=p);r._sorted=c}a&&gD(this,g)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,h=s.getLabels(),d=s===a,p=new Array(i);let g,y,_;for(g=0,y=i;g<y;++g)_=g+r,p[g]={[l]:d||s.parse(h[_],_),[c]:a.parse(t[_],_)};return p}parseArrayData(e,t,r,i){const{xScale:s,yScale:a}=e,l=new Array(i);let c,h,d,p;for(c=0,h=i;c<h;++c)d=c+r,p=t[d],l[c]={x:s.parse(p[0],d),y:a.parse(p[1],d)};return l}parseObjectData(e,t,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=new Array(i);let d,p,g,y;for(d=0,p=i;d<p;++d)g=d+r,y=t[g],h[d]={x:s.parse(pd(y,l),g),y:a.parse(pd(y,c),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,a=t[e.axis],l={keys:OL(i,!0),values:t._stacks[e.axis]._visualValues};return pD(l,a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let a=s===null?NaN:s;const l=i&&r._stacks[t.axis];i&&l&&(i.values=l,a=pD(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,l=this._getOtherScale(e),c=ete(t,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=Xee(l);let g,y;function _(){y=i[g];const S=y[l.axis];return!_o(y[e.axis])||d>S||p<S}for(g=0;g<a&&!(!_()&&(this.updateRangeFromParsed(h,e,y,c),s));++g);if(s){for(g=a-1;g>=0;--g)if(!_()){this.updateRangeFromParsed(h,e,y,c);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],_o(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=$ee(En(this.options.clip,Yee(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||i.length-l,h=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const p=i[d];p.hidden||(p.active&&h?a.push(p):p.draw(e,s))}for(d=0;d<a.length;++d)a[d].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=Zee(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Jee(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,l=s[a],c=this.enableOptionSharing&&c0(r);if(l)return yD(l,c);const h=this.chart.config,d=h.datasetElementScopeKeys(this._type,e),p=i?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),d),y=Object.keys(hi.elements[e]),_=()=>this.getContext(r,i,t),S=h.resolveNamedOptions(g,y,_,p);return S.$shared&&(S.$shared=c,s[a]=Object.freeze(yD(S,c))),S}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,l=s[a];if(l)return l;let c;if(i.options.animation!==!1){const d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,t),g=d.getOptionScopes(this.getDataset(),p);c=d.createResolver(g,this.getContext(e,r,t))}const h=new IL(i,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Zw(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,i){Zw(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Zw(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[l,c,h]of this._syncList)this[l](c,h);this._syncList=[];const i=r.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,a=e+t;let l;const c=h=>{for(h.length+=t,l=h.length-1;l>=a;l--)h[l]=h[l-t]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&eg(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function tte(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=wL(r.sort((i,s)=>i-s))}return n._cache.$bar}function nte(n){const e=n.iScale,t=tte(e,n.type);let r=e._length,i,s,a,l;const c=()=>{a===32767||a===-32768||(c0(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),c();for(l=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),c();return r}function rte(n,e,t,r){const i=t.barThickness;let s,a;return or(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[n]-s/2}}function ite(n,e,t,r){const i=e.pixels,s=i[n];let a=n>0?i[n-1]:null,l=n<i.length-1?i[n+1]:null;const c=t.categoryPercentage;a===null&&(a=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-a);const h=s-(s-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/r,ratio:t.barPercentage,start:h}}function ste(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),a=Math.min(i,s),l=Math.max(i,s);let c=a,h=l;Math.abs(a)>Math.abs(l)&&(c=l,h=a),e[t.axis]=h,e._custom={barStart:c,barEnd:h,start:i,end:s,min:a,max:l}}function jL(n,e,t,r){return Wi(n)?ste(n,e,t,r):e[t.axis]=t.parse(n,r),e}function vD(n,e,t,r){const i=n.iScale,s=n.vScale,a=i.getLabels(),l=i===s,c=[];let h,d,p,g;for(h=t,d=t+r;h<d;++h)g=e[h],p={},p[i.axis]=l||i.parse(a[h],h),c.push(jL(g,p,s,h));return c}function e_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function ate(n,e,t){return n!==0?Uh(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function ote(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function lte(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:h,bottom:d}=ote(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=h:(t._bottom||0)===r?i=d:(s[bD(d,a,l,c)]=!0,i=h)),s[bD(i,a,l,c)]=!0,n.borderSkipped=s}function bD(n,e,t,r){return r?(n=cte(n,e,t),n=wD(n,t,e)):n=wD(n,e,t),n}function cte(n,e,t){return n===e?t:n===t?e:n}function wD(n,e,t){return n==="start"?e:n==="end"?t:n}function ute(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class hte extends XS{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,i){return vD(e,t,r,i)}parseArrayData(e,t,r,i){return vD(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=s.axis==="x"?l:c,d=a.axis==="x"?l:c,p=[];let g,y,_,S;for(g=r,y=r+i;g<y;++g)S=t[g],_={},_[s.axis]=s.parse(pd(S,h),g),p.push(jL(pd(S,d),_,a,g));return p}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),a=s._custom,l=e_(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),h=l.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,i);for(let y=t;y<t+r;y++){const _=this.getParsed(y),S=s||or(_[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(y),T=this._calculateBarIndexPixels(y,d),E=(_._stacks||{})[l.axis],A={horizontal:h,base:S.base,enableBorderRadius:!E||e_(_._custom)||a===E._top||a===E._bottom,x:h?S.head:T.center,y:h?T.center:S.head,height:h?T.size:Math.abs(S.size),width:h?Math.abs(S.size):T.size};g&&(A.options=p||this.resolveDataElementOptions(y,e[y].active?"active":i));const N=A.options||e[y].options;lte(A,N,E,a),ute(A,N,d.ratio),this.updateElement(e[y],y,A,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[r.axis],h=d=>{const p=d._parsed.find(y=>y[r.axis]===c),g=p&&p[d.vScale.axis];if(or(g)||isNaN(g))return!0};for(const d of i)if(!(t!==void 0&&h(d))&&((s===!1||a.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[En(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const l=e.barThickness;return{min:l||nte(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),h=c._custom,d=e_(h);let p=c[t.axis],g=0,y=r?this.applyStack(t,c,r):p,_,S;y!==p&&(g=y-p,y=p),d&&(p=h.barStart,y=h.barEnd-h.barStart,p!==0&&Uh(p)!==Uh(h.barEnd)&&(g=0),g+=p);const T=!or(s)&&!d?s:g;let E=t.getPixelForValue(T);if(this.chart.getDataVisibility(e)?_=t.getPixelForValue(g+y):_=E,S=_-E,Math.abs(S)<a){S=ate(S,t,l)*a,p===l&&(E-=S/2);const A=t.getPixelForDecimal(0),N=t.getPixelForDecimal(1),j=Math.min(A,N),U=Math.max(A,N);E=Math.max(Math.min(E,U),j),_=E+S,r&&!d&&(c._stacks[t.axis]._visualValues[i]=t.getValueForPixel(_)-t.getValueForPixel(E))}if(E===t.getPixelForValue(l)){const A=Uh(S)*t.getLineWidthForValue(l)/2;E+=A,S-=A}return{size:S,base:E,head:_,center:_+S/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,a=En(i.maxBarThickness,1/0);let l,c;const h=this._getAxisCount();if(t.grouped){const d=s?this._getStackCount(e):t.stackCount,p=i.barThickness==="flex"?ite(e,t,i,d*h):rte(e,t,i,d*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(En(g,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+y;l=p.start+p.chunk*_+p.chunk/2,c=Math.min(a,p.chunk*p.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}function fte(n,e,t){let r=1,i=1,s=0,a=0;if(e<_i){const l=n,c=l+e,h=Math.cos(l),d=Math.sin(l),p=Math.cos(c),g=Math.sin(c),y=(N,j,U)=>B1(N,l,c,!0)?1:Math.max(j,j*t,U,U*t),_=(N,j,U)=>B1(N,l,c,!0)?-1:Math.min(j,j*t,U,U*t),S=y(0,h,p),T=y(Ri,d,g),E=_(mr,h,p),A=_(mr+Ri,d,g);r=(S-E)/2,i=(T-A)/2,s=-(S+E)/2,a=-(T+A)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class dte extends XS{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=c=>+r[c];if(An(r[e])){const{key:c="value"}=this._parsing;s=h=>+pd(r[h],c)}let a,l;for(a=e,l=e+t;a<l;++a)i._parsed[a]=s(a)}}_getRotation(){return ou(this.options.rotation-90)}_getCircumference(){return ou(this.options.circumference)}_getRotationExtents(){let e=_i,t=-_i;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(FZ(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:_,offsetY:S}=fte(p,d,c),T=(r.width-a)/g,E=(r.height-a)/y,A=Math.max(Math.min(T,E)/2,0),N=mL(this.options.radius,A),j=Math.max(N*c,0),U=(N-j)/this._getVisibleDatasetWeightTotal();this.offsetX=_*N,this.offsetY=S*N,i.total=this.calculateTotal(),this.outerRadius=N-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/_i)}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,l=a.chartArea,h=a.options.animation,d=(l.left+l.right)/2,p=(l.top+l.bottom)/2,g=s&&h.animateScale,y=g?0:this.innerRadius,_=g?0:this.outerRadius,{sharedOptions:S,includeOptions:T}=this._getSharedOptions(t,i);let E=this._getRotation(),A;for(A=0;A<t;++A)E+=this._circumference(A,s);for(A=t;A<t+r;++A){const N=this._circumference(A,s),j=e[A],U={x:d+this.offsetX,y:p+this.offsetY,startAngle:E,endAngle:E+N,circumference:N,outerRadius:_,innerRadius:y};T&&(U.options=S||this.resolveDataElementOptions(A,j.active?"active":i)),E+=N,this.updateElement(j,A,U,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?_i*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=US(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,a,l,c;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(En(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class pte extends dte{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function kf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class QS{static override(e){Object.assign(QS.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return kf()}parse(){return kf()}format(){return kf()}add(){return kf()}diff(){return kf()}startOf(){return kf()}endOf(){return kf()}}var mte={_date:QS};function gte(n,e,t,r){const{controller:i,data:s,_sorted:a}=n,l=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const h=l._reversePixels?JZ:Y5;if(r){if(i._sharedOptions){const d=s[0],p=typeof d.getRange=="function"&&d.getRange(e);if(p){const g=h(s,e,t-p),y=h(s,e,t+p);return{lo:g.lo,hi:y.hi}}}}else{const d=h(s,e,t);if(c){const{vScale:p}=i._cachedMeta,{_parsed:g}=n,y=g.slice(0,d.lo+1).reverse().findIndex(S=>!or(S[p.axis]));d.lo-=Math.max(0,y);const _=g.slice(d.hi).findIndex(S=>!or(S[p.axis]));d.hi+=Math.max(0,_)}return d}}return{lo:0,hi:s.length-1}}function q2(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,c=s.length;l<c;++l){const{index:h,data:d}=s[l],{lo:p,hi:g}=gte(s[l],e,a,i);for(let y=p;y<=g;++y){const _=d[y];_.skip||r(_,h,y)}}}function yte(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function t_(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||q2(n,t,e,function(l,c,h){!i&&!CL(l,n.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:c,index:h})},!0),s}function vte(n,e,t,r){let i=[];function s(a,l,c){const{startAngle:h,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:p}=vL(a,{x:e.x,y:e.y});B1(p,h,d)&&i.push({element:a,datasetIndex:l,index:c})}return q2(n,t,e,s),i}function bte(n,e,t,r,i,s){let a=[];const l=yte(t);let c=Number.POSITIVE_INFINITY;function h(d,p,g){const y=d.inRange(e.x,e.y,i);if(r&&!y)return;const _=d.getCenterPoint(i);if(!(!!s||n.isPointInArea(_))&&!y)return;const T=l(e,_);T<c?(a=[{element:d,datasetIndex:p,index:g}],c=T):T===c&&a.push({element:d,datasetIndex:p,index:g})}return q2(n,t,e,h),a}function n_(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?vte(n,e,t,i):bte(n,e,t,r,i,s)}function _D(n,e,t,r,i){const s=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return q2(n,t,e,(c,h,d)=>{c[a]&&c[a](e[t],i)&&(s.push({element:c,datasetIndex:h,index:d}),l=l||c.inRange(e.x,e.y,i))}),r&&!l?[]:s}var wte={modes:{index(n,e,t,r){const i=Of(e,n),s=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?t_(n,i,s,r,a):n_(n,i,s,!1,r,a),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const d=l[0].index,p=h.data[d];p&&!p.skip&&c.push({element:p,datasetIndex:h.index,index:d})}),c):[]},dataset(n,e,t,r){const i=Of(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?t_(n,i,s,r,a):n_(n,i,s,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,h=n.getDatasetMeta(c).data;l=[];for(let d=0;d<h.length;++d)l.push({element:h[d],datasetIndex:c,index:d})}return l},point(n,e,t,r){const i=Of(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return t_(n,i,s,r,a)},nearest(n,e,t,r){const i=Of(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return n_(n,i,s,t.intersect,r,a)},x(n,e,t,r){const i=Of(e,n);return _D(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Of(e,n);return _D(n,i,"y",t.intersect,r)}}};const FL=["left","top","right","bottom"];function tg(n,e){return n.filter(t=>t.pos===e)}function xD(n,e){return n.filter(t=>FL.indexOf(t.pos)===-1&&t.box.axis===e)}function ng(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function _te(n){const e=[];let t,r,i,s,a,l;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:a,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:l});return e}function xte(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!FL.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function Ste(n,e){const t=xte(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,l;for(s=0,a=n.length;s<a;++s){l=n[s];const{fullSize:c}=l.box,h=t[l.stack],d=h&&l.stackWeight/h.weight;l.horizontal?(l.width=d?d*r:c&&e.availableWidth,l.height=i):(l.width=r,l.height=d?d*i:c&&e.availableHeight)}return t}function Tte(n){const e=_te(n),t=ng(e.filter(h=>h.box.fullSize),!0),r=ng(tg(e,"left"),!0),i=ng(tg(e,"right")),s=ng(tg(e,"top"),!0),a=ng(tg(e,"bottom")),l=xD(e,"x"),c=xD(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(a).concat(l),chartArea:tg(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(a).concat(l)}}function SD(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function VL(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Ete(n,e,t,r){const{pos:i,box:s}=t,a=n.maxPadding;if(!An(i)){t.size&&(n[i]-=t.size);const p=r[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?s.height:s.width),t.size=p.size/p.count,n[i]+=t.size}s.getPadding&&VL(a,s.getPadding());const l=Math.max(0,e.outerWidth-SD(a,n,"left","right")),c=Math.max(0,e.outerHeight-SD(a,n,"top","bottom")),h=l!==n.w,d=c!==n.h;return n.w=l,n.h=c,t.horizontal?{same:h,other:d}:{same:d,other:h}}function Ate(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Cte(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return r(n?["left","right"]:["top","bottom"])}function vg(n,e,t,r){const i=[];let s,a,l,c,h,d;for(s=0,a=n.length,h=0;s<a;++s){l=n[s],c=l.box,c.update(l.width||e.w,l.height||e.h,Cte(l.horizontal,e));const{same:p,other:g}=Ete(e,t,l,r);h|=p&&i.length,d=d||g,c.fullSize||i.push(l)}return h&&vg(i,e,t,r)||d}function pv(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function TD(n,e,t,r){const i=t.padding;let{x:s,y:a}=e;for(const l of n){const c=l.box,h=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/h.weight||1;if(l.horizontal){const p=e.w*d,g=h.size||c.height;c0(h.start)&&(a=h.start),c.fullSize?pv(c,i.left,a,t.outerWidth-i.right-i.left,g):pv(c,e.left+h.placed,a,p,g),h.start=a,h.placed+=p,a=c.bottom}else{const p=e.h*d,g=h.size||c.width;c0(h.start)&&(s=h.start),c.fullSize?pv(c,s,i.top,g,t.outerHeight-i.bottom-i.top):pv(c,s,e.top+h.placed,g,p),h.start=s,h.placed+=p,s=c.right}}e.x=s,e.y=a}var kh={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=sl(n.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),l=Tte(n.boxes),c=l.vertical,h=l.horizontal;$n(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const d=c.reduce((S,T)=>T.box.options&&T.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/d,hBoxMaxHeight:a/2}),g=Object.assign({},i);VL(g,sl(r));const y=Object.assign({maxPadding:g,w:s,h:a,x:i.left,y:i.top},i),_=Ste(c.concat(h),p);vg(l.fullSize,y,p,_),vg(c,y,p,_),vg(h,y,p,_)&&vg(c,y,p,_),Ate(y),TD(l.leftAndTop,y,p,_),y.x+=y.w,y.y+=y.h,TD(l.rightAndBottom,y,p,_),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},$n(l.chartArea,S=>{const T=S.box;Object.assign(T,n.chartArea),T.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class BL{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Dte extends BL{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const qv="$chartjs",kte={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ED=n=>n===null||n==="";function Nte(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[qv]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ED(i)){const s=hD(n,"width");s!==void 0&&(n.width=s)}if(ED(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=hD(n,"height");s!==void 0&&(n.height=s)}return n}const UL=Oee?{passive:!0}:!1;function Pte(n,e,t){n&&n.addEventListener(e,t,UL)}function Rte(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,UL)}function Mte(n,e){const t=kte[n.type]||n.type,{x:r,y:i}=Of(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function q1(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Lte(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||q1(l.addedNodes,r),a=a&&!q1(l.removedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Ite(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||q1(l.removedNodes,r),a=a&&!q1(l.addedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const u0=new Map;let AD=0;function zL(){const n=window.devicePixelRatio;n!==AD&&(AD=n,u0.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Ote(n,e){u0.size||window.addEventListener("resize",zL),u0.set(n,e)}function jte(n){u0.delete(n),u0.size||window.removeEventListener("resize",zL)}function Fte(n,e,t){const r=n.canvas,i=r&&KS(r);if(!i)return;const s=xL((l,c)=>{const h=i.clientWidth;t(l,c),h<i.clientWidth&&t()},window),a=new ResizeObserver(l=>{const c=l[0],h=c.contentRect.width,d=c.contentRect.height;h===0&&d===0||s(h,d)});return a.observe(i),Ote(n,s),a}function r_(n,e,t){t&&t.disconnect(),e==="resize"&&jte(n)}function Vte(n,e,t){const r=n.canvas,i=xL(s=>{n.ctx!==null&&t(Mte(s,n))},n);return Pte(r,e,i),i}class Bte extends BL{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Nte(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[qv])return!1;const r=t[qv].initial;["height","width"].forEach(s=>{const a=r[s];or(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[qv],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:Lte,detach:Ite,resize:Fte}[t]||Vte;i[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:r_,detach:r_,resize:r_}[t]||Rte)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return Iee(e,t,r,i)}isAttached(e){const t=e&&KS(e);return!!(t&&t.isConnected)}}function Ute(n){return!GS()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Dte:Bte}let nm=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return V1(this.x)&&V1(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function zte(n,e){const t=n.options.ticks,r=Hte(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?Wte(e):[],a=s.length,l=s[0],c=s[a-1],h=[];if(a>i)return Yte(e,h,s,a/i),h;const d=qte(s,e,i);if(a>0){let p,g;const y=a>1?Math.round((c-l)/(a-1)):null;for(mv(e,h,d,or(y)?0:l-y,l),p=0,g=a-1;p<g;p++)mv(e,h,d,s[p],s[p+1]);return mv(e,h,d,c,or(y)?e.length:c+y),h}return mv(e,h,d),h}function Hte(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function qte(n,e,t){const r=$te(n),i=e.length/t;if(!r)return Math.max(i,1);const s=WZ(r);for(let a=0,l=s.length-1;a<l;a++){const c=s[a];if(c>i)return c}return Math.max(i,1)}function Wte(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function Yte(n,e,t,r){let i=0,s=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===s&&(e.push(n[a]),i++,s=t[i*r])}function mv(n,e,t,r,i){const s=En(r,0),a=Math.min(En(i,n.length),n.length);let l=0,c,h,d;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),d=s;d<0;)l++,d=Math.round(s+l*t);for(h=Math.max(s,0);h<a;h++)h===d&&(e.push(n[h]),l++,d=Math.round(s+l*t))}function $te(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const Gte=n=>n==="left"?"right":n==="right"?"left":n,CD=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,DD=(n,e)=>Math.min(e||n,n);function kD(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function Kte(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,a=n._endPixel,l=1e-6;let c=n.getPixelForTick(i),h;if(!(t&&(r===1?h=Math.max(c-s,a-c):e===0?h=(n.getPixelForTick(1)-c)/2:h=(c-n.getPixelForTick(i-1))/2,c+=i<e?h:-h,c<s-l||c>a+l)))return c}function Xte(n,e){$n(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function rg(n){return n.drawTicks?n.tickLength:0}function ND(n,e){if(!n.display)return 0;const t=la(n.font,e),r=sl(n.padding);return(Wi(n.text)?n.text.length:1)*t.lineHeight+r.height}function Qte(n,e){return tm(n,{scale:e,type:"scale"})}function Jte(n,e,t){return tm(n,{tick:t,index:e,type:"tick"})}function Zte(n,e,t){let r=SL(n);return(t&&e!=="right"||!t&&e==="right")&&(r=Gte(r)),r}function ene(n,e,t,r){const{top:i,left:s,bottom:a,right:l,chart:c}=n,{chartArea:h,scales:d}=c;let p=0,g,y,_;const S=a-i,T=l-s;if(n.isHorizontal()){if(y=La(r,s,l),An(t)){const E=Object.keys(t)[0],A=t[E];_=d[E].getPixelForValue(A)+S-e}else t==="center"?_=(h.bottom+h.top)/2+S-e:_=CD(n,t,e);g=l-s}else{if(An(t)){const E=Object.keys(t)[0],A=t[E];y=d[E].getPixelForValue(A)-T+e}else t==="center"?y=(h.left+h.right)/2-T+e:y=CD(n,t,e);_=La(r,a,i),p=t==="left"?-Ri:Ri}return{titleX:y,titleY:_,maxWidth:g,rotation:p}}class rm extends nm{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Vl(e,Number.POSITIVE_INFINITY),t=Vl(t,Number.NEGATIVE_INFINITY),r=Vl(r,Number.POSITIVE_INFINITY),i=Vl(i,Number.NEGATIVE_INFINITY),{min:Vl(e,r),max:Vl(t,i),minDefined:_o(e),maxDefined:_o(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,h=l.length;c<h;++c)a=l[c].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(r=Math.max(r,a.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Vl(t,Vl(r,t)),max:Vl(r,Vl(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dr(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wee(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?kD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=zte(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dr(this.options.afterUpdate,[this])}beforeSetDimensions(){dr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),dr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=dr(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){dr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=DD(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a=i,l,c,h;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),p=d.widest.width,g=d.highest.height,y=oa(this.chart.width-p,0,this.maxWidth);l=e.offset?this.maxWidth/r:y/(r-1),p+6>l&&(l=y/(r-(e.offset?.5:1)),c=this.maxHeight-rg(e.grid)-t.padding-ND(e.title,this.chart.options.font),h=Math.sqrt(p*p+g*g),a=KZ(Math.min(Math.asin(oa((d.highest.height+6)/l,-1,1)),Math.asin(oa(c/h,-1,1))-Math.asin(oa(g/h,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){dr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=ND(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=rg(s)+c):(e.height=this.maxHeight,e.width=rg(s)+c),r.display&&this.ticks.length){const{first:h,last:d,widest:p,highest:g}=this._getLabelSizes(),y=r.padding*2,_=ou(this.labelRotation),S=Math.cos(_),T=Math.sin(_);if(l){const E=r.mirror?0:T*p.width+S*g.height;e.height=Math.min(this.maxHeight,e.height+E+y)}else{const E=r.mirror?0:S*p.width+T*g.height;e.width=Math.min(this.maxWidth,e.width+E+y)}this._calculatePadding(h,d,T,S)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:a},position:l}=this.options,c=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;c?h?(g=i*e.width,y=r*t.height):(g=r*e.height,y=i*t.width):s==="start"?y=t.width:s==="end"?g=e.width:s!=="inner"&&(g=e.width/2,y=t.width/2),this.paddingLeft=Math.max((g-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((y-p+a)*this.width/(this.width-p),0)}else{let d=t.height/2,p=e.height/2;s==="start"?(d=0,p=e.height):s==="end"&&(d=t.height,p=0),this.paddingTop=d+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)or(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=kD(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,a=[],l=[],c=Math.floor(t/DD(t,r));let h=0,d=0,p,g,y,_,S,T,E,A,N,j,U;for(p=0;p<t;p+=c){if(_=e[p].label,S=this._resolveTickFontOptions(p),i.font=T=S.string,E=s[T]=s[T]||{data:{},gc:[]},A=S.lineHeight,N=j=0,!or(_)&&!Wi(_))N=sD(i,E.data,E.gc,N,_),j=A;else if(Wi(_))for(g=0,y=_.length;g<y;++g)U=_[g],!or(U)&&!Wi(U)&&(N=sD(i,E.data,E.gc,N,U),j+=A);a.push(N),l.push(j),h=Math.max(N,h),d=Math.max(j,d)}Xte(s,t);const K=a.indexOf(h),M=l.indexOf(d),k=O=>({width:a[O]||0,height:l[O]||0});return{first:k(0),last:k(t-1),widest:k(K),highest:k(M),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return QZ(this._alignToPixels?Df(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=Jte(this.getContext(),e,r))}return this.$context||(this.$context=Qte(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ou(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,c=s?s.highest.height+a:0;return this.isHorizontal()?c*r>l*i?l/r:c/i:c*i<l*r?c/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:l}=i,c=s.offset,h=this.isHorizontal(),p=this.ticks.length+(c?1:0),g=rg(s),y=[],_=l.setContext(this.getContext()),S=_.display?_.width:0,T=S/2,E=function(G){return Df(r,G,S)};let A,N,j,U,K,M,k,O,H,R,L,V;if(a==="top")A=E(this.bottom),M=this.bottom-g,O=A-T,R=E(e.top)+T,V=e.bottom;else if(a==="bottom")A=E(this.top),R=e.top,V=E(e.bottom)-T,M=A+T,O=this.top+g;else if(a==="left")A=E(this.right),K=this.right-g,k=A-T,H=E(e.left)+T,L=e.right;else if(a==="right")A=E(this.left),H=e.left,L=E(e.right)-T,K=A+T,k=this.left+g;else if(t==="x"){if(a==="center")A=E((e.top+e.bottom)/2+.5);else if(An(a)){const G=Object.keys(a)[0],Q=a[G];A=E(this.chart.scales[G].getPixelForValue(Q))}R=e.top,V=e.bottom,M=A+T,O=M+g}else if(t==="y"){if(a==="center")A=E((e.left+e.right)/2);else if(An(a)){const G=Object.keys(a)[0],Q=a[G];A=E(this.chart.scales[G].getPixelForValue(Q))}K=A-T,k=K-g,H=e.left,L=e.right}const se=En(i.ticks.maxTicksLimit,p),pe=Math.max(1,Math.ceil(p/se));for(N=0;N<p;N+=pe){const G=this.getContext(N),Q=s.setContext(G),re=l.setContext(G),J=Q.lineWidth,q=Q.color,oe=re.dash||[],F=re.dashOffset,W=Q.tickWidth,te=Q.tickColor,ae=Q.tickBorderDash||[],fe=Q.tickBorderDashOffset;j=Kte(this,N,c),j!==void 0&&(U=Df(r,j,J),h?K=k=H=L=U:M=O=R=V=U,y.push({tx1:K,ty1:M,tx2:k,ty2:O,x1:H,y1:R,x2:L,y2:V,width:J,color:q,borderDash:oe,borderDashOffset:F,tickWidth:W,tickColor:te,tickBorderDash:ae,tickBorderDashOffset:fe}))}return this._ticksLength=p,this._borderValue=A,y}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:h,padding:d,mirror:p}=s,g=rg(r.grid),y=g+d,_=p?-d:y,S=-ou(this.labelRotation),T=[];let E,A,N,j,U,K,M,k,O,H,R,L,V="middle";if(i==="top")K=this.bottom-_,M=this._getXAxisLabelAlignment();else if(i==="bottom")K=this.top+_,M=this._getXAxisLabelAlignment();else if(i==="left"){const pe=this._getYAxisLabelAlignment(g);M=pe.textAlign,U=pe.x}else if(i==="right"){const pe=this._getYAxisLabelAlignment(g);M=pe.textAlign,U=pe.x}else if(t==="x"){if(i==="center")K=(e.top+e.bottom)/2+y;else if(An(i)){const pe=Object.keys(i)[0],G=i[pe];K=this.chart.scales[pe].getPixelForValue(G)+y}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")U=(e.left+e.right)/2-y;else if(An(i)){const pe=Object.keys(i)[0],G=i[pe];U=this.chart.scales[pe].getPixelForValue(G)}M=this._getYAxisLabelAlignment(g).textAlign}t==="y"&&(c==="start"?V="top":c==="end"&&(V="bottom"));const se=this._getLabelSizes();for(E=0,A=l.length;E<A;++E){N=l[E],j=N.label;const pe=s.setContext(this.getContext(E));k=this.getPixelForTick(E)+s.labelOffset,O=this._resolveTickFontOptions(E),H=O.lineHeight,R=Wi(j)?j.length:1;const G=R/2,Q=pe.color,re=pe.textStrokeColor,J=pe.textStrokeWidth;let q=M;a?(U=k,M==="inner"&&(E===A-1?q=this.options.reverse?"left":"right":E===0?q=this.options.reverse?"right":"left":q="center"),i==="top"?h==="near"||S!==0?L=-R*H+H/2:h==="center"?L=-se.highest.height/2-G*H+H:L=-se.highest.height+H/2:h==="near"||S!==0?L=H/2:h==="center"?L=se.highest.height/2-G*H:L=se.highest.height-R*H,p&&(L*=-1),S!==0&&!pe.showLabelBackdrop&&(U+=H/2*Math.sin(S))):(K=k,L=(1-R)*H/2);let oe;if(pe.showLabelBackdrop){const F=sl(pe.backdropPadding),W=se.heights[E],te=se.widths[E];let ae=L-F.top,fe=0-F.left;switch(V){case"middle":ae-=W/2;break;case"bottom":ae-=W;break}switch(M){case"center":fe-=te/2;break;case"right":fe-=te;break;case"inner":E===A-1?fe-=te:E>0&&(fe-=te/2);break}oe={left:fe,top:ae,width:te+F.width,height:W+F.height,color:pe.backdropColor}}T.push({label:j,font:O,textOffset:L,options:{rotation:S,color:Q,strokeColor:re,strokeWidth:J,textAlign:q,textBaseline:V,translation:[U,K],backdrop:oe}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ou(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,c=a.widest.width;let h,d;return t==="left"?i?(d=this.right+s,r==="near"?h="left":r==="center"?(h="center",d+=c/2):(h="right",d+=c)):(d=this.right-l,r==="near"?h="right":r==="center"?(h="center",d-=c/2):(h="left",d=this.left)):t==="right"?i?(d=this.left+s,r==="near"?h="right":r==="center"?(h="center",d-=c/2):(h="left",d-=c)):(d=this.left+l,r==="near"?h="left":r==="center"?(h="center",d+=c/2):(h="right",d=this.right)):h="right",{textAlign:h,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(c,h,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const c=i[s];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,d,p,g;this.isHorizontal()?(h=Df(e,this.left,a)-a/2,d=Df(e,this.right,l)+l/2,p=g=c):(p=Df(e,this.top,a)-a/2,g=Df(e,this.bottom,l)+l/2,h=d=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(h,p),t.lineTo(d,g),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&zS(r,i);const s=this.getLabelItems(e);for(const a of s){const l=a.options,c=a.font,h=a.label,d=a.textOffset;U1(r,h,0,d,c,l)}i&&HS(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=la(r.font),a=sl(r.padding),l=r.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||An(t)?(c+=a.bottom,Wi(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:h,titleY:d,maxWidth:p,rotation:g}=ene(this,c,t,l);U1(e,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:Zte(l,t,i),textBaseline:"middle",translation:[h,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=En(e.grid&&e.grid.z,-1),i=En(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==rm.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const l=t[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return la(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gv{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;rne(t)&&(r=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,tne(e,a,r),this.override&&hi.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in hi[i]&&(delete hi[i][r],this.override&&delete md[r])}}function tne(n,e,t){const r=l0(Object.create(null),[t?hi.get(t):{},hi.get(e),n.defaults]);hi.set(e,r),n.defaultRoutes&&nne(e,n.defaultRoutes),n.descriptors&&hi.describe(e,n.descriptors)}function nne(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),a=e[t].split("."),l=a.pop(),c=a.join(".");hi.route(s,i,c,l)})}function rne(n){return"id"in n&&"defaults"in n}class ine{constructor(){this.controllers=new gv(XS,"datasets",!0),this.elements=new gv(nm,"elements"),this.plugins=new gv(Object,"plugins"),this.scales=new gv(rm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):$n(i,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,r){const i=VS(e);dr(r["before"+i],[],r),t[e](r),dr(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Hl=new ine;class sne{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){i=i||{};for(const s of e){const a=s.plugin,l=a[r],c=[t,i,s.options];if(dr(l,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){or(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=En(r.options&&r.options.plugins,{}),s=ane(r);return i===!1&&!t?[]:lne(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function ane(n){const e={},t=[],r=Object.keys(Hl.plugins.items);for(let s=0;s<r.length;s++)t.push(Hl.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function one(n,e){return!e&&n===!1?null:n===!0?{}:n}function lne(n,{plugins:e,localIds:t},r,i){const s=[],a=n.getContext();for(const l of e){const c=l.id,h=one(r[c],i);h!==null&&s.push({plugin:l,options:cne(n.config,{plugin:l,local:t[c]},h,a)})}return s}function cne(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(r,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function G5(n,e){const t=hi.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function une(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function hne(n,e){return n===e?"_index_":"_value_"}function PD(n){if(n==="x"||n==="y"||n==="r")return n}function fne(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function K5(n,...e){if(PD(n))return n;for(const t of e){const r=t.axis||fne(t.position)||n.length>1&&PD(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function RD(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function dne(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return RD(n,"x",t[0])||RD(n,"y",t[0])}return{}}function pne(n,e){const t=md[n.type]||{scales:{}},r=e.scales||{},i=G5(n.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!An(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=K5(a,l,dne(a,n),hi.scales[l.type]),h=hne(c,i),d=t.scales||{};s[a]=Ig(Object.create(null),[{axis:c},l,d[c],d[h]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||G5(l,e),d=(md[l]||{}).scales||{};Object.keys(d).forEach(p=>{const g=une(p,c),y=a[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),Ig(s[y],[{axis:g},r[y],d[p]])})}),Object.keys(s).forEach(a=>{const l=s[a];Ig(l,[hi.scales[l.type],hi.scale])}),s}function HL(n){const e=n.options||(n.options={});e.plugins=En(e.plugins,{}),e.scales=pne(n,e)}function qL(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function mne(n){return n=n||{},n.data=qL(n.data),HL(n),n}const MD=new Map,WL=new Set;function yv(n,e){let t=MD.get(n);return t||(t=e(),MD.set(n,t),WL.add(t)),t}const ig=(n,e,t)=>{const r=pd(e,t);r!==void 0&&n.add(r)};class gne{constructor(e){this._config=mne(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qL(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),HL(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return yv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return yv(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return yv(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return yv(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),l=a.get(t);if(l)return l;const c=new Set;t.forEach(d=>{e&&(c.add(e),d.forEach(p=>ig(c,e,p))),d.forEach(p=>ig(c,i,p)),d.forEach(p=>ig(c,md[s]||{},p)),d.forEach(p=>ig(c,hi,p)),d.forEach(p=>ig(c,$5,p))});const h=Array.from(c);return h.length===0&&h.push(Object.create(null)),WL.has(t)&&a.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,md[t]||{},hi.datasets[t]||{},{type:t},hi,$5]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=LD(this._resolverCache,e,i);let c=a;if(vne(a,t)){s.$shared=!1,r=Jh(r)?r():r;const h=this.createResolver(e,r,l);c=zp(a,r,h)}for(const h of t)s[h]=c[h];return s}createResolver(e,t,r=[""],i){const{resolver:s}=LD(this._resolverCache,e,r);return An(t)?zp(s,t,void 0,i):s}}function LD(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:WS(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const yne=n=>An(n)&&Object.getOwnPropertyNames(n).some(e=>Jh(n[e]));function vne(n,e){const{isScriptable:t,isIndexable:r}=kL(n);for(const i of e){const s=t(i),a=r(i),l=(a||s)&&n[i];if(s&&(Jh(l)||yne(l))||a&&Wi(l))return!0}return!1}var bne="4.5.0";const wne=["top","bottom","left","right","chartArea"];function ID(n,e){return n==="top"||n==="bottom"||wne.indexOf(n)===-1&&e==="x"}function OD(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function jD(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),dr(t&&t.onComplete,[n],e)}function _ne(n){const e=n.chart,t=e.options.animation;dr(t&&t.onProgress,[n],e)}function YL(n){return GS()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Wv={},FD=n=>{const e=YL(n);return Object.values(Wv).filter(t=>t.canvas===e).pop()};function xne(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const a=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=a)}}}function Sne(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}let W2=class{static defaults=hi;static instances=Wv;static overrides=md;static registry=Hl;static version=bne;static getChart=FD;static register(...e){Hl.add(...e),VD()}static unregister(...e){Hl.remove(...e),VD()}constructor(e,t){const r=this.config=new gne(t),i=YL(e),s=FD(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Ute(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,a.aspectRatio),c=l&&l.canvas,h=c&&c.height,d=c&&c.width;if(this.id=jZ(),this.ctx=l,this.canvas=c,this.width=d,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sne,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tee(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],Wv[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}eu.listen(this,"complete",jD),eu.listen(this,"progress",_ne),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return or(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Hl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():uD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return aD(this.canvas,this.ctx),this}stop(){return eu.stop(this),this}resize(e,t){eu.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,uD(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),dr(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};$n(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const l=t[a],c=K5(a,l),h=c==="r",d=c==="x";return{options:l,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),$n(s,a=>{const l=a.options,c=l.id,h=K5(c,l),d=En(l.type,a.dtype);(l.position===void 0||ID(l.position,h)!==ID(a.dposition))&&(l.position=a.dposition),i[c]=!0;let p=null;if(c in r&&r[c].type===d)p=r[c];else{const g=Hl.getScale(d);p=new g({id:c,type:d,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(l,e)}),$n(i,(a,l)=>{a||delete r[l]}),$n(r,a=>{kh.configure(this,a,a.options),kh.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(OD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let a=this.getDatasetMeta(r);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||G5(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=Hl.getController(l),{datasetElementType:h,dataElementType:d}=hi.datasets[l];Object.assign(c,{dataElementType:Hl.getElement(d),datasetElementType:h&&Hl.getElement(h)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){$n(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,d=this.data.datasets.length;h<d;h++){const{controller:p}=this.getDatasetMeta(h),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||$n(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(OD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){$n(this.scales,e=>{kh.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!XC(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const a=r==="_removeElements"?-s:s;xne(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!XC(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kh.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],$n(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Jh(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(eu.has(this)?this.attached&&!eu.running(this)&&eu.start(this):(this.draw(),jD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Bee(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&zS(t,i),e.controller.draw(),i&&HS(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return CL(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=wte.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=tm(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);c0(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),eu.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),aD(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Wv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};$n(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(c,h)=>{t.addEventListener(this,c,h),e[c]=h},i=(c,h)=>{e[c]&&(t.removeEventListener(this,c,h),delete e[c])},s=(c,h)=>{this.canvas&&this.resize(c,h)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){$n(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},$n(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,a,l,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!O1(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(c,h)=>c.filter(d=>!h.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),a=s(t,e),l=r?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,a=t,l=this._getActiveElements(e,i,r,a),c=HZ(e),h=Sne(e,this._lastEvent,r,c);r&&(this._lastEvent=null,dr(s.onHover,[e,l,this],this),c&&dr(s.onClick,[e,l,this],this));const d=!O1(l,i);return(d||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=h,d}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};function VD(){return $n(W2.instances,n=>n._plugins.invalidate())}function Tne(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:h,borderJoinStyle:d}=c,p=Math.min(h/a,Yl(r-t));if(n.beginPath(),n.arc(i,s,a-h/2,r+p/2,t-p/2),l>0){const g=Math.min(h/l,Yl(r-t));n.arc(i,s,l+h/2,t-g/2,r+g/2,!0)}else{const g=Math.min(h/2,a*Yl(r-t));if(d==="round")n.arc(i,s,g,t-mr/2,r+mr/2,!0);else if(d==="bevel"){const y=2*g*g,_=-y*Math.cos(t+mr/2)+i,S=-y*Math.sin(t+mr/2)+s,T=y*Math.cos(r+mr/2)+i,E=y*Math.sin(r+mr/2)+s;n.lineTo(_,S),n.lineTo(T,E)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Ene(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:l,innerRadius:c}=e;let h=i/l;n.beginPath(),n.arc(s,a,l,r-h,t+h),c>i?(h=i/c,n.arc(s,a,c,t+h,r-h,!0)):n.arc(s,a,i,t+Ri,r-Ri),n.closePath(),n.clip()}function Ane(n){return qS(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Cne(n,e,t,r){const i=Ane(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,r*e/2),l=c=>{const h=(t-Math.min(s,c))*r/2;return oa(c,0,Math.min(s,h))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:oa(i.innerStart,0,a),innerEnd:oa(i.innerEnd,0,a)}}function ip(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function W1(n,e,t,r,i,s){const{x:a,y:l,startAngle:c,pixelMargin:h,innerRadius:d}=e,p=Math.max(e.outerRadius+r+t-h,0),g=d>0?d+r+t+h:0;let y=0;const _=i-c;if(r){const pe=d>0?d-r:0,G=p>0?p-r:0,Q=(pe+G)/2,re=Q!==0?_*Q/(Q+r):_;y=(_-re)/2}const S=Math.max(.001,_*p-t/mr)/p,T=(_-S)/2,E=c+T+y,A=i-T-y,{outerStart:N,outerEnd:j,innerStart:U,innerEnd:K}=Cne(e,g,p,A-E),M=p-N,k=p-j,O=E+N/M,H=A-j/k,R=g+U,L=g+K,V=E+U/R,se=A-K/L;if(n.beginPath(),s){const pe=(O+H)/2;if(n.arc(a,l,p,O,pe),n.arc(a,l,p,pe,H),j>0){const J=ip(k,H,a,l);n.arc(J.x,J.y,j,H,A+Ri)}const G=ip(L,A,a,l);if(n.lineTo(G.x,G.y),K>0){const J=ip(L,se,a,l);n.arc(J.x,J.y,K,A+Ri,se+Math.PI)}const Q=(A-K/g+(E+U/g))/2;if(n.arc(a,l,g,A-K/g,Q,!0),n.arc(a,l,g,Q,E+U/g,!0),U>0){const J=ip(R,V,a,l);n.arc(J.x,J.y,U,V+Math.PI,E-Ri)}const re=ip(M,E,a,l);if(n.lineTo(re.x,re.y),N>0){const J=ip(M,O,a,l);n.arc(J.x,J.y,N,E-Ri,O)}}else{n.moveTo(a,l);const pe=Math.cos(O)*p+a,G=Math.sin(O)*p+l;n.lineTo(pe,G);const Q=Math.cos(H)*p+a,re=Math.sin(H)*p+l;n.lineTo(Q,re)}n.closePath()}function Dne(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:l}=e;let c=e.endAngle;if(s){W1(n,e,t,r,c,i);for(let h=0;h<s;++h)n.fill();isNaN(l)||(c=a+(l%_i||_i))}return W1(n,e,t,r,c,i),n.fill(),c}function kne(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:l,options:c}=e,{borderWidth:h,borderJoinStyle:d,borderDash:p,borderDashOffset:g,borderRadius:y}=c,_=c.borderAlign==="inner";if(!h)return;n.setLineDash(p||[]),n.lineDashOffset=g,_?(n.lineWidth=h*2,n.lineJoin=d||"round"):(n.lineWidth=h,n.lineJoin=d||"bevel");let S=e.endAngle;if(s){W1(n,e,t,r,S,i);for(let T=0;T<s;++T)n.stroke();isNaN(l)||(S=a+(l%_i||_i))}_&&Ene(n,e,S),c.selfJoin&&S-a>=mr&&y===0&&d!=="miter"&&Tne(n,e,S),s||(W1(n,e,t,r,S,i),n.stroke())}class Nne extends nm{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:s,distance:a}=vL(i,{x:e,y:t}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:d,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=En(p,c-l),_=B1(s,l,c)&&l!==c,S=y>=_i||_,T=qf(a,h+g,d+g);return S&&T}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:h}=this.options,d=(i+s)/2,p=(a+l+h+c)/2;return{x:t+Math.cos(d)*p,y:r+Math.sin(d)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/4,s=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>_i?Math.floor(r/_i):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(mr,r||0)),h=i*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,Dne(e,this,h,s,a),kne(e,this,h,s,a),e.restore()}}function $L(n,e){const{x:t,y:r,base:i,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let l,c,h,d,p;return n.horizontal?(p=a/2,l=Math.min(t,i),c=Math.max(t,i),h=r-p,d=r+p):(p=s/2,l=t-p,c=t+p,h=Math.min(r,i),d=Math.max(r,i)),{left:l,top:h,right:c,bottom:d}}function Nh(n,e,t,r){return n?0:oa(e,t,r)}function Pne(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=DL(r);return{t:Nh(i.top,s.top,0,t),r:Nh(i.right,s.right,0,e),b:Nh(i.bottom,s.bottom,0,t),l:Nh(i.left,s.left,0,e)}}function Rne(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=Ep(i),a=Math.min(e,t),l=n.borderSkipped,c=r||An(i);return{topLeft:Nh(!c||l.top||l.left,s.topLeft,0,a),topRight:Nh(!c||l.top||l.right,s.topRight,0,a),bottomLeft:Nh(!c||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:Nh(!c||l.bottom||l.right,s.bottomRight,0,a)}}function Mne(n){const e=$L(n),t=e.right-e.left,r=e.bottom-e.top,i=Pne(n,t/2,r/2),s=Rne(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function i_(n,e,t,r){const i=e===null,s=t===null,l=n&&!(i&&s)&&$L(n,r);return l&&(i||qf(e,l.left,l.right))&&(s||qf(t,l.top,l.bottom))}function Lne(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Ine(n,e){n.rect(e.x,e.y,e.w,e.h)}function s_(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,a=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+a,radius:n.radius}}class One extends nm{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=Mne(this),l=Lne(a.radius)?z1:Ine;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),l(e,s_(a,t,s)),e.clip(),l(e,s_(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,s_(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return i_(this,e,t,r)}inXRange(e,t){return i_(this,e,null,t)}inYRange(e,t){return i_(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const BD=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},jne=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class UD extends nm{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=dr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=la(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=BD(r,s);let h,d;t.font=i.string,this.isHorizontal()?(h=this.maxWidth,d=this._fitRows(a,s,l,c)+10):(d=this.maxHeight,h=this._fitCols(a,i,l,c)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],d=i+l;let p=e;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-d;return this.legendItems.forEach((_,S)=>{const T=r+t/2+s.measureText(_.text).width;(S===0||h[h.length-1]+T+2*l>a)&&(p+=d,h[h.length-(S>0?0:1)]=0,y+=d,g++),c[S]={left:0,top:y,row:g,width:T,height:i},h[h.length-1]+=T+l}),p}_fitCols(e,t,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],d=a-e;let p=l,g=0,y=0,_=0,S=0;return this.legendItems.forEach((T,E)=>{const{itemWidth:A,itemHeight:N}=Fne(r,t,s,T,i);E>0&&y+N+2*l>d&&(p+=g+l,h.push({width:g,height:y}),_+=g+l,S++,g=y=0),c[E]={left:_,top:y,col:S,width:A,height:N},g=Math.max(g,A),y+=N+l}),p+=g,h.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Ap(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=La(r,this.left+i,this.right-this.lineWidths[l]);for(const h of t)l!==h.row&&(l=h.row,c=La(r,this.left+i,this.right-this.lineWidths[l])),h.top+=this.top+e+i,h.left=a.leftForLtr(a.x(c),h.width),c+=h.width+i}else{let l=0,c=La(r,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const h of t)h.col!==l&&(l=h.col,c=La(r,this.top+e+i,this.bottom-this.columnSizes[l].height)),h.top=c,h.left+=this.left+i,h.left=a.leftForLtr(a.x(h.left),h.width),c+=h.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;zS(e,this),this._draw(),HS(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,l=hi.color,c=Ap(e.rtl,this.left,this.width),h=la(a.font),{padding:d}=a,p=h.size,g=p/2;let y;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:_,boxHeight:S,itemHeight:T}=BD(a,p),E=function(K,M,k){if(isNaN(_)||_<=0||isNaN(S)||S<0)return;i.save();const O=En(k.lineWidth,1);if(i.fillStyle=En(k.fillStyle,l),i.lineCap=En(k.lineCap,"butt"),i.lineDashOffset=En(k.lineDashOffset,0),i.lineJoin=En(k.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=En(k.strokeStyle,l),i.setLineDash(En(k.lineDash,[])),a.usePointStyle){const H={radius:S*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:O},R=c.xPlus(K,_/2),L=M+g;AL(i,H,R,L,a.pointStyleWidth&&_)}else{const H=M+Math.max((p-S)/2,0),R=c.leftForLtr(K,_),L=Ep(k.borderRadius);i.beginPath(),Object.values(L).some(V=>V!==0)?z1(i,{x:R,y:H,w:_,h:S,radius:L}):i.rect(R,H,_,S),i.fill(),O!==0&&i.stroke()}i.restore()},A=function(K,M,k){U1(i,k.text,K,M+T/2,h,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},N=this.isHorizontal(),j=this._computeTitleHeight();N?y={x:La(s,this.left+d,this.right-r[0]),y:this.top+d+j,line:0}:y={x:this.left+d,y:La(s,this.top+j+d,this.bottom-t[0].height),line:0},ML(this.ctx,e.textDirection);const U=T+d;this.legendItems.forEach((K,M)=>{i.strokeStyle=K.fontColor,i.fillStyle=K.fontColor;const k=i.measureText(K.text).width,O=c.textAlign(K.textAlign||(K.textAlign=a.textAlign)),H=_+g+k;let R=y.x,L=y.y;c.setWidth(this.width),N?M>0&&R+H+d>this.right&&(L=y.y+=U,y.line++,R=y.x=La(s,this.left+d,this.right-r[y.line])):M>0&&L+U>this.bottom&&(R=y.x=R+t[y.line].width+d,y.line++,L=y.y=La(s,this.top+j+d,this.bottom-t[y.line].height));const V=c.x(R);if(E(V,L,K),R=nee(O,R+_+g,N?R+H:this.right,e.rtl),A(c.x(R),L,K),N)y.x+=H+d;else if(typeof K.text!="string"){const se=h.lineHeight;y.y+=GL(K,se)+d}else y.y+=U}),LL(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=la(t.font),i=sl(t.padding);if(!t.display)return;const s=Ap(e.rtl,this.left,this.width),a=this.ctx,l=t.position,c=r.size/2,h=i.top+c;let d,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+h,p=La(e.align,p,this.right-g);else{const _=this.columnSizes.reduce((S,T)=>Math.max(S,T.height),0);d=h+La(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const y=La(l,p,p+g);a.textAlign=s.textAlign(SL(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,U1(a,t.text,y,d,r)}_computeTitleHeight(){const e=this.options.title,t=la(e.font),r=sl(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(qf(e,this.left,this.right)&&qf(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],qf(e,i.left,i.left+i.width)&&qf(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!Une(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=jne(i,r);i&&!s&&dr(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&dr(t.onHover,[e,r,this],this)}else r&&dr(t.onClick,[e,r,this],this)}}function Fne(n,e,t,r,i){const s=Vne(r,n,e,t),a=Bne(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function Vne(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+r.measureText(i).width}function Bne(n,e,t){let r=n;return typeof e.text!="string"&&(r=GL(e,t)),r}function GL(n,e){const t=n.text?n.text.length:0;return e*t}function Une(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var zne={id:"legend",_element:UD,start(n,e,t){const r=n.legend=new UD({ctx:n.ctx,options:t,chart:n});kh.configure(n,r,t),kh.addBox(n,r)},stop(n){kh.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;kh.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(t?0:void 0),d=sl(h.borderWidth);return{text:e[c.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:a&&(l||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const bg={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const l=n[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=n.length;s<a;++s){const c=n[s].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),d=XZ(e,h);d<i&&(i=d,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function zl(n,e){return e&&(Wi(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function tu(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Hne(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:a,value:l}=s.getLabelAndValue(i);return{chart:n,label:a,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function zD(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:a,boxHeight:l}=e,c=la(e.bodyFont),h=la(e.titleFont),d=la(e.footerFont),p=s.length,g=i.length,y=r.length,_=sl(e.padding);let S=_.height,T=0,E=r.reduce((j,U)=>j+U.before.length+U.lines.length+U.after.length,0);if(E+=n.beforeBody.length+n.afterBody.length,p&&(S+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),E){const j=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;S+=y*j+(E-y)*c.lineHeight+(E-1)*e.bodySpacing}g&&(S+=e.footerMarginTop+g*d.lineHeight+(g-1)*e.footerSpacing);let A=0;const N=function(j){T=Math.max(T,t.measureText(j).width+A)};return t.save(),t.font=h.string,$n(n.title,N),t.font=c.string,$n(n.beforeBody.concat(n.afterBody),N),A=e.displayColors?a+2+e.boxPadding:0,$n(r,j=>{$n(j.before,N),$n(j.lines,N),$n(j.after,N)}),A=0,t.font=d.string,$n(n.footer,N),t.restore(),T+=_.width,{width:T,height:S}}function qne(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Wne(n,e,t,r){const{x:i,width:s}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&i+s+a>e.width||n==="right"&&i-s-a<0)return!0}function Yne(n,e,t,r){const{x:i,width:s}=t,{width:a,chartArea:{left:l,right:c}}=n;let h="center";return r==="center"?h=i<=(l+c)/2?"left":"right":i<=s/2?h="left":i>=a-s/2&&(h="right"),Wne(h,n,e,t)&&(h="center"),h}function HD(n,e,t){const r=t.yAlign||e.yAlign||qne(n,t);return{xAlign:t.xAlign||e.xAlign||Yne(n,e,t,r),yAlign:r}}function $ne(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function Gne(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function qD(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=n,{xAlign:l,yAlign:c}=t,h=i+s,{topLeft:d,topRight:p,bottomLeft:g,bottomRight:y}=Ep(a);let _=$ne(e,l);const S=Gne(e,c,h);return c==="center"?l==="left"?_+=h:l==="right"&&(_-=h):l==="left"?_-=Math.max(d,g)+i:l==="right"&&(_+=Math.max(p,y)+i),{x:oa(_,0,r.width-e.width),y:oa(S,0,r.height-e.height)}}function vv(n,e,t){const r=sl(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function WD(n){return zl([],tu(n))}function Kne(n,e,t){return tm(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function YD(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const KL={beforeTitle:Zc,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Zc,beforeBody:Zc,beforeLabel:Zc,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return or(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Zc,afterBody:Zc,beforeFooter:Zc,footer:Zc,afterFooter:Zc};function ia(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?KL[e].call(t,r):i}class $D extends nm{static positioners=bg;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new IL(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Kne(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=ia(r,"beforeTitle",this,e),s=ia(r,"title",this,e),a=ia(r,"afterTitle",this,e);let l=[];return l=zl(l,tu(i)),l=zl(l,tu(s)),l=zl(l,tu(a)),l}getBeforeBody(e,t){return WD(ia(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return $n(e,s=>{const a={before:[],lines:[],after:[]},l=YD(r,s);zl(a.before,tu(ia(l,"beforeLabel",this,s))),zl(a.lines,ia(l,"label",this,s)),zl(a.after,tu(ia(l,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,t){return WD(ia(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=ia(r,"beforeFooter",this,e),s=ia(r,"footer",this,e),a=ia(r,"afterFooter",this,e);let l=[];return l=zl(l,tu(i)),l=zl(l,tu(s)),l=zl(l,tu(a)),l}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],a=[];let l=[],c,h;for(c=0,h=t.length;c<h;++c)l.push(Hne(this.chart,t[c]));return e.filter&&(l=l.filter((d,p,g)=>e.filter(d,p,g,r))),e.itemSort&&(l=l.sort((d,p)=>e.itemSort(d,p,r))),$n(l,d=>{const p=YD(e.callbacks,d);i.push(ia(p,"labelColor",this,d)),s.push(ia(p,"labelPointStyle",this,d)),a.push(ia(p,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=bg[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=zD(this,r),h=Object.assign({},l,c),d=HD(this.chart,r,h),p=qD(r,h,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:p}=Ep(l),{x:g,y}=e,{width:_,height:S}=t;let T,E,A,N,j,U;return s==="center"?(j=y+S/2,i==="left"?(T=g,E=T-a,N=j+a,U=j-a):(T=g+_,E=T+a,N=j-a,U=j+a),A=T):(i==="left"?E=g+Math.max(c,d)+a:i==="right"?E=g+_-Math.max(h,p)-a:E=this.caretX,s==="top"?(N=y,j=N-a,T=E-a,A=E+a):(N=y+S,j=N+a,T=E+a,A=E-a),U=N),{x1:T,x2:E,x3:A,y1:N,y2:j,y3:U}}drawTitle(e,t,r){const i=this.title,s=i.length;let a,l,c;if(s){const h=Ap(r.rtl,this.x,this.width);for(e.x=vv(this,r.titleAlign,r),t.textAlign=h.textAlign(r.titleAlign),t.textBaseline="middle",a=la(r.titleFont),l=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,c=0;c<s;++c)t.fillText(i[c],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,t,r,i,s){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:h}=s,d=la(s.bodyFont),p=vv(this,"left",s),g=i.x(p),y=c<d.lineHeight?(d.lineHeight-c)/2:0,_=t.y+y;if(s.usePointStyle){const S={radius:Math.min(h,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},T=i.leftForLtr(g,h)+h/2,E=_+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,oD(e,S,T,E),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,oD(e,S,T,E)}else{e.lineWidth=An(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const S=i.leftForLtr(g,h),T=i.leftForLtr(i.xPlus(g,1),h-2),E=Ep(a.borderRadius);Object.values(E).some(A=>A!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,z1(e,{x:S,y:_,w:h,h:c,radius:E}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),z1(e,{x:T,y:_+1,w:h-2,h:c-2,radius:E}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(S,_,h,c),e.strokeRect(S,_,h,c),e.fillStyle=a.backgroundColor,e.fillRect(T,_+1,h-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:h,boxPadding:d}=r,p=la(r.bodyFont);let g=p.lineHeight,y=0;const _=Ap(r.rtl,this.x,this.width),S=function(k){t.fillText(k,_.x(e.x+y),e.y+g/2),e.y+=g+s},T=_.textAlign(a);let E,A,N,j,U,K,M;for(t.textAlign=a,t.textBaseline="middle",t.font=p.string,e.x=vv(this,T,r),t.fillStyle=r.bodyColor,$n(this.beforeBody,S),y=l&&T!=="right"?a==="center"?h/2+d:h+2+d:0,j=0,K=i.length;j<K;++j){for(E=i[j],A=this.labelTextColors[j],t.fillStyle=A,$n(E.before,S),N=E.lines,l&&N.length&&(this._drawColorBox(t,e,j,_,r),g=Math.max(p.lineHeight,c)),U=0,M=N.length;U<M;++U)S(N[U]),g=p.lineHeight;$n(E.after,S)}y=0,g=p.lineHeight,$n(this.afterBody,S),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let a,l;if(s){const c=Ap(r.rtl,this.x,this.width);for(e.x=vv(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=c.textAlign(r.footerAlign),t.textBaseline="middle",a=la(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:h,height:d}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:_}=Ep(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+p,c),a==="top"&&this.drawCaret(e,t,r,i),t.lineTo(l+h-g,c),t.quadraticCurveTo(l+h,c,l+h,c+g),a==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(l+h,c+d-_),t.quadraticCurveTo(l+h,c+d,l+h-_,c+d),a==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(l+y,c+d),t.quadraticCurveTo(l,c+d,l,c+d-y),a==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(l,c+p),t.quadraticCurveTo(l,c,l+p,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=bg[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=zD(this,e),c=Object.assign({},a,this._size),h=HD(t,e,c),d=qD(e,c,h,t);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=sl(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),ML(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),LL(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:l,index:c})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[c],index:c}}),s=!O1(r,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),l=this._positionChanged(a,e),c=t||!O1(a,s)||l;return c&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,a=bg[s.position].call(this,e,t);return a!==!1&&(r!==a.x||i!==a.y)}}var Xne={id:"tooltip",_element:$D,positioners:bg,afterInit(n,e,t){t&&(n.tooltip=new $D({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Qne=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Jne(n,e,t,r){const i=n.indexOf(e);if(i===-1)return Qne(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const Zne=(n,e)=>n===null?null:oa(Math.round(n),0,e);function GD(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class ere extends rm{static id="category";static defaults={ticks:{callback:GD}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(or(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:Jne(r,e,En(t,e),this._addedLabels),Zne(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return GD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function tre(n,e){const t=[],{bounds:i,step:s,min:a,max:l,precision:c,count:h,maxTicks:d,maxDigits:p,includeBounds:g}=n,y=s||1,_=d-1,{min:S,max:T}=e,E=!or(a),A=!or(l),N=!or(h),j=(T-S)/(p+1);let U=JC((T-S)/_/y)*y,K,M,k,O;if(U<1e-14&&!E&&!A)return[{value:S},{value:T}];O=Math.ceil(T/U)-Math.floor(S/U),O>_&&(U=JC(O*U/_/y)*y),or(c)||(K=Math.pow(10,c),U=Math.ceil(U*K)/K),i==="ticks"?(M=Math.floor(S/U)*U,k=Math.ceil(T/U)*U):(M=S,k=T),E&&A&&s&&$Z((l-a)/s,U/1e3)?(O=Math.round(Math.min((l-a)/U,d)),U=(l-a)/O,M=a,k=l):N?(M=E?a:M,k=A?l:k,O=h-1,U=(k-M)/O):(O=(k-M)/U,Hv(O,Math.round(O),U/1e3)?O=Math.round(O):O=Math.ceil(O));const H=Math.max(ZC(U),ZC(M));K=Math.pow(10,or(c)?H:c),M=Math.round(M*K)/K,k=Math.round(k*K)/K;let R=0;for(E&&(g&&M!==a?(t.push({value:a}),M<a&&R++,Hv(Math.round((M+R*U)*K)/K,a,KD(a,j,n))&&R++):M<a&&R++);R<O;++R){const L=Math.round((M+R*U)*K)/K;if(A&&L>l)break;t.push({value:L})}return A&&g&&k!==l?t.length&&Hv(t[t.length-1].value,l,KD(l,j,n))?t[t.length-1].value=l:t.push({value:l}):(!A||k===l)&&t.push({value:k}),t}function KD(n,e,{horizontal:t,minRotation:r}){const i=ou(r),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class nre extends rm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return or(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=c=>i=t?i:c,l=c=>s=r?s:c;if(e){const c=Uh(i),h=Uh(s);c<0&&h<0?l(0):c>0&&h>0&&a(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||a(i-c)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=tre(i,s);return e.bounds==="ticks"&&GZ(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return US(e,this.chart.options.locale,this.options.ticks.format)}}class rre extends nre{static id="linear";static defaults={ticks:{callback:EL.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=_o(e)?e:0,this.max=_o(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=ou(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Y2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},aa=Object.keys(Y2);function XD(n,e){return n-e}function QD(n,e){if(or(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),_o(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(V1(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function JD(n,e,t,r){const i=aa.length;for(let s=aa.indexOf(n);s<i-1;++s){const a=Y2[aa[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=r)return aa[s]}return aa[i-1]}function ire(n,e,t,r,i){for(let s=aa.length-1;s>=aa.indexOf(t);s--){const a=aa[s];if(Y2[a].common&&n._adapter.diff(i,r,a)>=e-1)return a}return aa[t?aa.indexOf(t):0]}function sre(n){for(let e=aa.indexOf(n)+1,t=aa.length;e<t;++e)if(Y2[aa[e]].common)return aa[e]}function ZD(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=BS(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function are(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=s;l<=a;l=+i.add(l,1,r))c=t[l],c>=0&&(e[c].major=!0);return e}function ek(n,e,t){const r=[],i={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],i[l]=a,r.push({value:l,major:!1});return s===0||!t?r:are(n,r,i,t)}class tk extends rm{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new mte._date(e.adapters.date);i.init(t),Ig(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:QD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(h){!a&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!l&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=_o(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=_o(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,l=ZZ(i,s,a);return this._unit=t.unit||(r.autoSkip?JD(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):ire(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:sre(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),ek(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=oa(t,0,a),r=oa(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||JD(s.minUnit,t,r,this._getLabelCapacity(t)),l=En(i.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,h=V1(c)||c===!0,d={};let p=t,g,y;if(h&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,h?"day":a),e.diff(r,t,a)>1e5*l)throw new Error(t+" and "+r+" are too far apart with stepSize of "+l+" "+a);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<r;g=+e.add(g,l,a),y++)ZD(d,g,_);return(g===r||i.bounds==="ticks"||y===1)&&ZD(d,g,_),Object.keys(d).sort(XD).map(S=>+S)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,a=t||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,i){const s=this.options,a=s.ticks.callback;if(a)return dr(a,[e,t,r],this);const l=s.time.displayFormats,c=this._unit,h=this._majorUnit,d=c&&l[c],p=h&&l[h],g=r[t],y=h&&p&&g&&g.major;return this._adapter.format(e,i||(y?p:d))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=ou(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,ek(this,[e],this._majorUnit),i),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(QD(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return wL(e.sort(XD))}}function bv(n,e,t){let r=0,i=n.length-1,s,a,l,c;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Y5(n,"pos",e)),{pos:s,time:l}=n[r],{pos:a,time:c}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Y5(n,"time",e)),{time:s,pos:l}=n[r],{time:a,pos:c}=n[i]);const h=a-s;return h?l+(c-l)*(e-s)/h:l}class Lle extends tk{static id="timeseries";static defaults=tk.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=bv(t,this.min),this._tableRange=bv(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let a,l,c,h,d;for(a=0,l=e.length;a<l;++a)h=e[a],h>=t&&h<=r&&i.push(h);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,l=i.length;a<l;++a)d=i[a+1],c=i[a-1],h=i[a],Math.round((d+c)/2)!==h&&s.push({time:h,pos:a/(l-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(bv(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return bv(this._table,r*this._tableRange+this._minPos,!0)}}const XL="label";function nk(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function ore(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function QL(n,e){n.labels=e}function JL(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XL;const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(a=>a[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function lre(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XL;const t={labels:[],datasets:[]};return QL(t,n.labels),JL(t,n.datasets,e),t}function cre(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:l,options:c,plugins:h=[],fallbackContent:d,updateMode:p,...g}=n,y=$.useRef(null),_=$.useRef(null),S=()=>{y.current&&(_.current=new W2(y.current,{type:a,data:lre(l,s),options:c&&{...c},plugins:h}),nk(e,_.current))},T=()=>{nk(e,null),_.current&&(_.current.destroy(),_.current=null)};return $.useEffect(()=>{!i&&_.current&&c&&ore(_.current,c)},[i,c]),$.useEffect(()=>{!i&&_.current&&QL(_.current.config.data,l.labels)},[i,l.labels]),$.useEffect(()=>{!i&&_.current&&l.datasets&&JL(_.current.config.data,l.datasets,s)},[i,l.datasets]),$.useEffect(()=>{_.current&&(i?(T(),setTimeout(S)):_.current.update(p))},[i,c,l.labels,l.datasets,p]),$.useEffect(()=>{_.current&&(T(),setTimeout(S))},[a]),$.useEffect(()=>(S(),()=>T()),[]),Ee.createElement("canvas",{ref:y,role:"img",height:t,width:r,...g},d)}const ure=$.forwardRef(cre);function ZL(n,e){return W2.register(e),$.forwardRef((t,r)=>Ee.createElement(ure,{...t,ref:r,type:n}))}const hre=ZL("bar",hte),fre=ZL("pie",pte);W2.register(One,ere,rre,Nne,Xne,zne);const dre=({reports:n})=>{const[e,t]=$.useState({}),[r,i]=$.useState(0),[s,a]=$.useState([]);$.useEffect(()=>{if(!n||n.length===0)return;const h=new Date(n[n.length-1].date),d=Math.floor((new Date-h)/(1e3*60*60*24));i(d);const p={};n.forEach(y=>{const _=new Set(["i","have","has","had","the","and","but","or","with","without","a","an","am","is","are","was","were","been","being","to","from","of","in","on","for","it","that","this","as","at","my","me","you","your","we","they","their","them","all","time"]);y.symptoms.toLowerCase().split(/[^a-z]+/).forEach(T=>{T.length>2&&!_.has(T)&&(p[T]=(p[T]||0)+1)})}),t(p);const g=Object.keys(p).filter(y=>p[y]>=2);a(g)},[n]);const l={labels:Object.keys(e),datasets:[{label:"Frequency",data:Object.values(e),backgroundColor:"rgba(59,130,246,0.7)"}]},c={labels:Object.keys(e),datasets:[{data:Object.values(e),backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#6366f1"]}]};return B.jsxs("div",{className:"p-4 space-y-6 bg-gradient-to-b from-gray-900 to-gray-800 rounded-xl shadow-xl text-gray-200",children:[B.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Health Summary"}),B.jsxs("div",{className:"bg-gray-800 border-l-4 border-gray-600 p-4 rounded-xl shadow",children:[B.jsxs("p",{children:["It has been ",B.jsx("strong",{children:r})," days since your last symptom check."]}),s.length>0&&B.jsxs("p",{className:"mt-2",children:["You have reported ",B.jsx("strong",{children:s.join(", ")})," multiple times. Consider relevant health tests."]})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow",children:[B.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Symptom Frequency"}),B.jsx(hre,{data:l})]}),B.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow",children:[B.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Symptom Distribution"}),B.jsx(fre,{data:c})]})]})]})},pre=({userPhone:n})=>{const[e,t]=$.useState([]),[r,i]=$.useState(null),[s,a]=$.useState(!1);$.useEffect(()=>{(async()=>{const g=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/get-reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n})})).json();t(g.reports||[])})()},[n]);const l=()=>a(!1),c=d=>{i(d),a(!0)},h=async d=>{(await fetch(`https://mediconnect-backend1-r5kg.onrender.com/delete-report/${d}`,{method:"DELETE"})).ok?(ct.success("Report deleted successfully"),t(e.filter(g=>g._id!==d))):ct.error("Failed to delete report.")};return B.jsxs("div",{className:"p-4 bg-gradient-to-b from-gray-900 to-gray-800 rounded-xl shadow-xl text-gray-200",children:[B.jsx("h2",{className:"text-xl font-bold mb-4",children:" Symptom Checker History"}),B.jsx("div",{className:"overflow-auto max-h-[400px] border border-gray-700 rounded-xl shadow-xl",children:B.jsxs("table",{className:"min-w-full text-left border-collapse",children:[B.jsx("thead",{className:"bg-gray-800 sticky top-0 z-10",children:B.jsxs("tr",{children:[B.jsx("th",{className:"p-2 border border-gray-700",children:"Date"}),B.jsx("th",{className:"p-2 border border-gray-700",children:"Main Symptoms"}),B.jsx("th",{className:"p-2 border border-gray-700",children:"AI Suggestion"}),B.jsx("th",{className:"p-2 border border-gray-700",children:"Tests"}),B.jsx("th",{className:"p-2 border border-gray-700",children:"Urgency"}),B.jsx("th",{className:"p-2 border border-gray-700",children:"Actions"})]})}),B.jsx("tbody",{children:e.map(d=>B.jsxs("tr",{className:"hover:bg-gray-700 transition-colors",children:[B.jsx("td",{className:"p-2 border border-gray-700",children:new Date(d.date).toLocaleString()}),B.jsx("td",{className:"p-2 border border-gray-700",children:d.symptoms}),B.jsx("td",{className:"p-2 border border-gray-700",children:d.ai_suggestion}),B.jsx("td",{className:"p-2 border border-gray-700",children:d.suggested_tests?.join(", ")||"-"}),B.jsx("td",{className:"p-2 border border-gray-700",children:d.urgency}),B.jsx("td",{className:"p-2 border border-gray-700 space-x-2",children:B.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2",children:[B.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 active:scale-95 transition-all px-3 py-1 text-white rounded-xl shadow",onClick:()=>c(d),children:"View Report"}),B.jsx("button",{className:"bg-green-500 hover:bg-green-600 active:scale-95 transition-all px-3 py-1 text-white rounded-xl shadow",onClick:()=>pZ(d),children:"Export PDF"}),B.jsx("button",{className:"bg-red-500 hover:bg-red-600 active:scale-95 transition-all px-3 py-1 text-white rounded-xl shadow",onClick:()=>h(d._id),children:"Delete"})]})})]},d._id))})]})}),B.jsx(R5,{appear:!0,show:s,as:$.Fragment,children:B.jsxs(Fw,{as:"div",className:"relative z-10",onClose:l,children:[B.jsx(R5.Child,{as:$.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:B.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),B.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:B.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:B.jsxs(Fw.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-gray-900 p-6 text-left shadow-xl transition-all text-gray-200",children:[B.jsx(Fw.Title,{className:"text-lg font-bold mb-4",children:" Full Symptom Report"}),B.jsx("div",{className:"space-y-2 text-sm max-h-96 overflow-y-auto",children:r?.full_conversation?.map((d,p)=>B.jsxs("div",{className:`p-2 rounded-xl ${d.role==="user"?"bg-blue-800":"bg-gray-800"}`,children:[B.jsxs("strong",{children:[d.role==="user"?"You":"Assistant",":"]})," ",d.message]},p))}),B.jsx("div",{className:"mt-4 text-right",children:B.jsx("button",{onClick:l,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-xl shadow",children:"Close"})})]})})})]})}),B.jsx(yc,{position:"top-right",autoClose:3e3}),B.jsx(dre,{reports:e})]})},mre=({messages:n,setMessages:e})=>{const[t,r]=$.useState(""),[i,s]=$.useState(!1),a=localStorage.getItem("phone"),l=async(h=null)=>{const d=h!==null?h:t;if(!d.trim()||d===n[n.length-1]?.text)return;const p=[...n,{sender:"user",text:d}];e(p),r("");try{const _=(await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/chat-agent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:d,phone:a})})).json()).text||"No response from server.",T={sender:"bot",text:typeof _=="object"?JSON.stringify(_,null,2):String(_)};e(E=>[...E,T])}catch(g){console.error("API Error:",g),e(y=>[...y,{sender:"bot",text:"Failed to get response"}])}},c=()=>{const h=window.SpeechRecognition||window.webkitSpeechRecognition;if(!h){ct.error("Speech recognition not supported. Please use Chrome.");return}const d=new h;d.lang="en-US",d.interimResults=!1,d.maxAlternatives=1,s(!0),d.start(),d.onresult=p=>{const g=p.results[0][0].transcript;r(g),s(!1),l(g)},d.onerror=p=>{console.error("Speech recognition error:",p),s(!1)}};return B.jsxs("div",{className:"mt-10 min-h-screen flex flex-col bg-[#0f172a] text-gray-200 font-sans",children:[B.jsxs("section",{className:"py-8 text-center",children:[B.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Symptom ",B.jsx("span",{className:"text-[#f43f5e]",children:"Assistant"})]}),B.jsx("p",{className:"text-gray-400",children:"Chat with our AI to analyze your symptoms"})]}),B.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-4 max-w-3xl mx-auto w-full",children:n.map((h,d)=>B.jsx("div",{className:`flex ${h.sender==="user"?"justify-end":"justify-start"}`,children:B.jsx("div",{className:`px-4 py-3 rounded-2xl shadow text-sm max-w-[80%] sm:max-w-md break-words ${h.sender==="user"?"bg-[#f43f5e] text-white":"bg-[#1e293b] border border-gray-700 text-gray-200"}`,children:h.text})},d))}),B.jsxs("div",{className:"p-4 bg-[#1e293b] border-t border-gray-700 flex flex-col sm:flex-row gap-3 items-center sticky bottom-0 z-10",children:[B.jsx("input",{value:t,onChange:h=>r(h.target.value),onKeyDown:h=>{h.key==="Enter"&&l()},className:"w-full flex-1 border border-gray-600 bg-[#0f172a] p-3 rounded-lg text-gray-200 focus:outline-none focus:ring-2 focus:ring-[#f43f5e]",placeholder:"Type your symptoms..."}),B.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-end",children:[B.jsxs("button",{onClick:()=>l(),className:"flex items-center gap-2 bg-[#f43f5e] hover:bg-[#be123c] text-white px-4 py-2 rounded-lg font-medium shadow transition w-full sm:w-auto",children:[B.jsx(kq,{className:"w-4 h-4"})," Send"]}),B.jsxs("button",{onClick:c,title:"Tap to speak",className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-white shadow transition ${i?"bg-red-600":"bg-gray-700 hover:bg-gray-600"}`,children:[B.jsx(Tq,{className:"w-4 h-4"}),i?"Listening...":"Speak"]})]})]}),B.jsx(yc,{position:"top-right",autoClose:3e3})]})},gre=({startNewChat:n})=>{const[e,t]=$.useState([]),[r,i]=$.useState(!1),s=()=>{i(!0),n(),setTimeout(()=>i(!1),1e3)};return $.useEffect(()=>{(async()=>{const l=localStorage.getItem("phone");if(l)try{const h=await(await fetch(`https://mediconnect-backend1-r5kg.onrender.com/history?phone=${l}`)).json();t(h.history||[])}catch(c){console.error("Error fetching history",c)}})()},[]),B.jsxs("div",{className:"h-full overflow-y-auto p-4 bg-gradient-to-b from-gray-900 to-gray-800 border-r border-gray-700 rounded-xl shadow-xl",children:[B.jsx("button",{onClick:s,className:`mb-4 px-4 py-3 rounded-full text-white flex items-center justify-center gap-2 transition-all duration-200 ${r?"bg-red-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600 hover:scale-105 shadow-xl"}`,disabled:r,children:r?"Resetting...":"New Chat"}),B.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-200",children:"Chat History"}),e.length===0?B.jsx("p",{className:"text-gray-400",children:"No previous chats found."}):B.jsx("ul",{className:"space-y-3 overflow-y-auto",children:e.map((a,l)=>B.jsxs("li",{className:"bg-gradient-to-r from-gray-800 to-gray-900 p-3 rounded-xl shadow-xl hover:from-gray-700 hover:to-gray-800 cursor-pointer transition-colors",children:[B.jsxs("div",{className:"font-medium text-sm text-gray-200 break-words",children:["Q: ",a.question]}),B.jsxs("div",{className:"text-xs text-gray-400 break-words mt-1",children:["A: ",a.answer]}),B.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(a.created_at).toLocaleString()})]},l))})]})},yre=({messages:n,setMessages:e})=>{const[t,r]=$.useState(!1);return B.jsxs(B.Fragment,{children:[B.jsx("button",{className:`fixed bottom-4 right-4 bg-[#f43f5e] text-white p-3 rounded-full shadow-lg \r
                   z-50 hover:bg-[#be123c] transition transform hover:scale-110 active:scale-95`,onClick:()=>r(!t),title:"Chat with AI Assistant",children:t?B.jsx(E6,{size:24}):B.jsx(wq,{size:24})}),t&&B.jsxs("div",{className:`fixed bottom-20 right-4 w-[95%] sm:w-[90%] md:w-[800px] h-[85vh] max-h-[90vh] \r
                        bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] \r
                        rounded-2xl shadow-2xl flex flex-col sm:flex-row overflow-hidden z-50 border border-gray-700`,children:[B.jsx("div",{className:`hidden sm:block sm:w-1/3 overflow-y-auto border-r border-gray-700 \r
                          bg-gradient-to-b from-[#1e293b] to-[#0f172a]`,children:B.jsx(gre,{startNewChat:()=>e([])})}),B.jsx("div",{className:"w-full sm:w-2/3 h-full overflow-hidden flex flex-col bg-[#0f172a]",children:B.jsx(mre,{messages:n,setMessages:e})})]})]})},vre=()=>{const n=localStorage.getItem("phone"),[e,t]=$.useState([]),[r,i]=$.useState(!1),[s,a]=$.useState(null),[l,c]=$.useState([{sender:"bot",text:"Hello! I'm MediConnect. How can I help you today?"}]);$.useEffect(()=>{(async()=>{try{const y=await(await fetch(`https://mediconnect-backend1-r5kg.onrender.com/get-user-appointments?phone=${n}`)).json();y.appointments&&t(y.appointments)}catch{ct.error("Failed to fetch appointments.")}})()},[n]);const h=async p=>{try{(await fetch(`https://mediconnect-backend1-r5kg.onrender.com/cancel-appointment/${p}`,{method:"DELETE"})).ok?(ct.success("Appointment cancelled."),t(e.filter(y=>y._id!==p))):ct.error("Failed to cancel appointment.")}catch{ct.error("Error cancelling appointment.")}},d=p=>{if(!p)return"Invalid";const[g,y,_]=p.split("/"),S=new Date(`${_}-${y.padStart(2,"0")}-${g.padStart(2,"0")}`),T=new Date;return T.setHours(0,0,0,0),S.setHours(0,0,0,0),S<T?"Completed":"Upcoming"};return B.jsxs("div",{className:"p-6  text-gray-200 space-y-6",children:[B.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Appointments"}),e.length===0?B.jsx("p",{children:"No appointments found."}):B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(p=>B.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-xl",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-semibold",children:`Dr. ${p.doctor_name}`}),B.jsx("p",{className:"text-sm text-gray-400",children:p.specialization}),B.jsx("p",{className:"text-sm mt-1",children:p.location}),B.jsx("p",{className:"text-sm",children:`${p.date} at ${p.time}`}),B.jsxs("p",{className:"text-sm mt-1",children:["Status: ",B.jsx("strong",{children:d(p.date)})]}),B.jsxs("p",{className:"text-sm",children:["Doctor Status:"," ",B.jsx("span",{className:`px-2 py-0.5 rounded-md text-white text-sm font-medium shadow-sm ${p.status==="Accepted"?"bg-green-500":p.status==="Rejected"?"bg-red-500":"bg-gray-500"}`,children:p.status})]})]}),B.jsx("img",{src:"/doctor-placeholder.png",alt:"Doctor",className:"h-16 w-16 rounded-full object-cover"})]}),B.jsx("div",{className:"mt-4 flex gap-2",children:d(p.date)==="Upcoming"&&B.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded-xl hover:bg-red-600 active:scale-95 transition-all duration-200 shadow",onClick:()=>{a(p._id),i(!0)},children:"Cancel"})})]},p._id))}),r&&B.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center",children:B.jsxs("div",{className:"bg-gray-900 border border-gray-700 shadow-2xl rounded-2xl p-6 w-full max-w-md animate-fade-in transition-all",children:[B.jsx("h2",{className:"text-xl font-bold text-gray-200 mb-3",children:"Cancel Appointment?"}),B.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to cancel this appointment?"}),B.jsxs("div",{className:"flex justify-center gap-4",children:[B.jsx("button",{onClick:async()=>{await h(s),i(!1),a(null)},className:"bg-red-600 text-white px-4 py-2 rounded-xl hover:bg-red-700 active:scale-95 transition shadow",children:"Yes, Cancel"}),B.jsx("button",{onClick:()=>{i(!1),a(null)},className:"bg-gray-700 text-gray-200 px-4 py-2 rounded-xl hover:bg-gray-600 active:scale-95 transition shadow",children:"No, Go Back"})]})]})}),B.jsx(pre,{userPhone:n}),B.jsx(yre,{messages:l,setMessages:c})]})},bre=()=>{const n=gd(),[e,t]=$.useState(!1),[r,i]=$.useState({name:"",email:"",phone:"",age:"",gender:"",address:""});$.useEffect(()=>{const l={name:localStorage.getItem("user_name")||"",email:localStorage.getItem("userEmail")||"",phone:localStorage.getItem("phone")||"",age:localStorage.getItem("userAge")||"",gender:localStorage.getItem("userGender")||"",address:localStorage.getItem("userAddress")||""};i(l)},[]);const s=l=>{i({...r,[l.target.name]:l.target.value})},a=()=>{t(!1),localStorage.setItem("user_name",r.name),localStorage.setItem("phone",r.phone),localStorage.setItem("userEmail",r.email),localStorage.setItem("userGender",r.gender),localStorage.setItem("userAge",r.age.toString()),localStorage.setItem("userAddress",r.address),ct.success("Profile saved!");const l=new FormData;l.append("name",r.name),l.append("email",r.email),l.append("phone",r.phone),l.append("age",r.age),l.append("gender",r.gender),l.append("address",r.address),fetch("https://mediconnect-backend1-r5kg.onrender.com/ask",{method:"POST",body:l}).then(c=>c.json()).then(c=>{console.log("Saved to backend:",c),n("/home"),ct.success("Profile updated successfully!")}).catch(c=>{console.error("Profile save failed:",c),ct.error("Failed to save profile")})};return B.jsxs("div",{className:" text-gray-200 font-sans",children:[B.jsxs("section",{className:"py-6 text-center",children:[B.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Your ",B.jsx("span",{className:"text-[#f43f5e]",children:"Profile"})]}),B.jsx("p",{className:"text-gray-400 text-sm",children:"View and update your personal details securely."})]}),B.jsxs("div",{className:"max-w-xl mx-auto bg-[#0f172a] border border-gray-700 rounded-xl shadow-md p-4 space-y-4",children:[B.jsx("div",{className:"space-y-3",children:Object.keys(r).map(l=>B.jsxs("div",{children:[B.jsx("label",{className:"block text-xs font-medium text-gray-400 capitalize mb-1",children:l}),e?B.jsx("input",{type:"text",name:l,value:r[l],onChange:s,className:"w-full px-2 py-1.5 border border-gray-600 bg-[#1e293b] text-gray-200 rounded-md shadow-sm text-sm focus:ring-[#f43f5e] focus:border-[#f43f5e] outline-none"}):B.jsx("p",{className:"bg-[#1e293b] px-2 py-1.5 rounded-md text-gray-300 border border-gray-700 text-sm",children:r[l]||"Not provided"})]},l))}),B.jsx("div",{className:"flex justify-end gap-2 pt-3",children:e?B.jsxs(B.Fragment,{children:[B.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-md text-sm transition shadow",onClick:a,children:"Save"}),B.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1.5 rounded-md text-sm transition shadow",onClick:()=>t(!1),children:"Cancel"})]}):B.jsx("button",{className:"bg-[#f43f5e] hover:bg-[#be123c] text-white px-4 py-2 rounded-md text-sm transition shadow",onClick:()=>t(!0),children:"Edit Profile"})})]}),B.jsx(yc,{position:"top-right",autoClose:3e3})]})};var a_={exports:{}},rk;function wre(){return rk||(rk=1,(function(n){var e=(function(t){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(J,q,oe){J[q]=oe.value},a,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",h=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function p(J,q,oe){return Object.defineProperty(J,q,{value:oe,enumerable:!0,configurable:!0,writable:!0}),J[q]}try{p({},"")}catch{p=function(q,oe,F){return q[oe]=F}}function g(J,q,oe,F){var W=q&&q.prototype instanceof N?q:N,te=Object.create(W.prototype),ae=new G(F||[]);return s(te,"_invoke",{value:L(J,oe,ae)}),te}t.wrap=g;function y(J,q,oe){try{return{type:"normal",arg:J.call(q,oe)}}catch(F){return{type:"throw",arg:F}}}var _="suspendedStart",S="suspendedYield",T="executing",E="completed",A={};function N(){}function j(){}function U(){}var K={};p(K,c,function(){return this});var M=Object.getPrototypeOf,k=M&&M(M(Q([])));k&&k!==r&&i.call(k,c)&&(K=k);var O=U.prototype=N.prototype=Object.create(K);j.prototype=U,s(O,"constructor",{value:U,configurable:!0}),s(U,"constructor",{value:j,configurable:!0}),j.displayName=p(U,d,"GeneratorFunction");function H(J){["next","throw","return"].forEach(function(q){p(J,q,function(oe){return this._invoke(q,oe)})})}t.isGeneratorFunction=function(J){var q=typeof J=="function"&&J.constructor;return q?q===j||(q.displayName||q.name)==="GeneratorFunction":!1},t.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,U):(J.__proto__=U,p(J,d,"GeneratorFunction")),J.prototype=Object.create(O),J},t.awrap=function(J){return{__await:J}};function R(J,q){function oe(te,ae,fe,_e){var ve=y(J[te],J,ae);if(ve.type==="throw")_e(ve.arg);else{var be=ve.arg,je=be.value;return je&&typeof je=="object"&&i.call(je,"__await")?q.resolve(je.__await).then(function(Be){oe("next",Be,fe,_e)},function(Be){oe("throw",Be,fe,_e)}):q.resolve(je).then(function(Be){be.value=Be,fe(be)},function(Be){return oe("throw",Be,fe,_e)})}}var F;function W(te,ae){function fe(){return new q(function(_e,ve){oe(te,ae,_e,ve)})}return F=F?F.then(fe,fe):fe()}s(this,"_invoke",{value:W})}H(R.prototype),p(R.prototype,h,function(){return this}),t.AsyncIterator=R,t.async=function(J,q,oe,F,W){W===void 0&&(W=Promise);var te=new R(g(J,q,oe,F),W);return t.isGeneratorFunction(q)?te:te.next().then(function(ae){return ae.done?ae.value:te.next()})};function L(J,q,oe){var F=_;return function(te,ae){if(F===T)throw new Error("Generator is already running");if(F===E){if(te==="throw")throw ae;return re()}for(oe.method=te,oe.arg=ae;;){var fe=oe.delegate;if(fe){var _e=V(fe,oe);if(_e){if(_e===A)continue;return _e}}if(oe.method==="next")oe.sent=oe._sent=oe.arg;else if(oe.method==="throw"){if(F===_)throw F=E,oe.arg;oe.dispatchException(oe.arg)}else oe.method==="return"&&oe.abrupt("return",oe.arg);F=T;var ve=y(J,q,oe);if(ve.type==="normal"){if(F=oe.done?E:S,ve.arg===A)continue;return{value:ve.arg,done:oe.done}}else ve.type==="throw"&&(F=E,oe.method="throw",oe.arg=ve.arg)}}}function V(J,q){var oe=q.method,F=J.iterator[oe];if(F===a)return q.delegate=null,oe==="throw"&&J.iterator.return&&(q.method="return",q.arg=a,V(J,q),q.method==="throw")||oe!=="return"&&(q.method="throw",q.arg=new TypeError("The iterator does not provide a '"+oe+"' method")),A;var W=y(F,J.iterator,q.arg);if(W.type==="throw")return q.method="throw",q.arg=W.arg,q.delegate=null,A;var te=W.arg;if(!te)return q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,A;if(te.done)q[J.resultName]=te.value,q.next=J.nextLoc,q.method!=="return"&&(q.method="next",q.arg=a);else return te;return q.delegate=null,A}H(O),p(O,d,"Generator"),p(O,c,function(){return this}),p(O,"toString",function(){return"[object Generator]"});function se(J){var q={tryLoc:J[0]};1 in J&&(q.catchLoc=J[1]),2 in J&&(q.finallyLoc=J[2],q.afterLoc=J[3]),this.tryEntries.push(q)}function pe(J){var q=J.completion||{};q.type="normal",delete q.arg,J.completion=q}function G(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(se,this),this.reset(!0)}t.keys=function(J){var q=Object(J),oe=[];for(var F in q)oe.push(F);return oe.reverse(),function W(){for(;oe.length;){var te=oe.pop();if(te in q)return W.value=te,W.done=!1,W}return W.done=!0,W}};function Q(J){if(J){var q=J[c];if(q)return q.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length)){var oe=-1,F=function W(){for(;++oe<J.length;)if(i.call(J,oe))return W.value=J[oe],W.done=!1,W;return W.value=a,W.done=!0,W};return F.next=F}}return{next:re}}t.values=Q;function re(){return{value:a,done:!0}}return G.prototype={constructor:G,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(pe),!J)for(var q in this)q.charAt(0)==="t"&&i.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=a)},stop:function(){this.done=!0;var J=this.tryEntries[0],q=J.completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var q=this;function oe(_e,ve){return te.type="throw",te.arg=J,q.next=_e,ve&&(q.method="next",q.arg=a),!!ve}for(var F=this.tryEntries.length-1;F>=0;--F){var W=this.tryEntries[F],te=W.completion;if(W.tryLoc==="root")return oe("end");if(W.tryLoc<=this.prev){var ae=i.call(W,"catchLoc"),fe=i.call(W,"finallyLoc");if(ae&&fe){if(this.prev<W.catchLoc)return oe(W.catchLoc,!0);if(this.prev<W.finallyLoc)return oe(W.finallyLoc)}else if(ae){if(this.prev<W.catchLoc)return oe(W.catchLoc,!0)}else if(fe){if(this.prev<W.finallyLoc)return oe(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(J,q){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var F=this.tryEntries[oe];if(F.tryLoc<=this.prev&&i.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var W=F;break}}W&&(J==="break"||J==="continue")&&W.tryLoc<=q&&q<=W.finallyLoc&&(W=null);var te=W?W.completion:{};return te.type=J,te.arg=q,W?(this.method="next",this.next=W.finallyLoc,A):this.complete(te)},complete:function(J,q){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&q&&(this.next=q),A},finish:function(J){for(var q=this.tryEntries.length-1;q>=0;--q){var oe=this.tryEntries[q];if(oe.finallyLoc===J)return this.complete(oe.completion,oe.afterLoc),pe(oe),A}},catch:function(J){for(var q=this.tryEntries.length-1;q>=0;--q){var oe=this.tryEntries[q];if(oe.tryLoc===J){var F=oe.completion;if(F.type==="throw"){var W=F.arg;pe(oe)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(J,q,oe){return this.delegate={iterator:Q(J),resultName:q,nextLoc:oe},this.method==="next"&&(this.arg=a),A}},t})(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(a_)),a_.exports}var o_,ik;function JS(){return ik||(ik=1,o_=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`),o_}var l_,sk;function eI(){if(sk)return l_;sk=1;const n=JS();let e=0;return l_=({id:t,action:r,payload:i={}})=>{let s=t;return typeof s>"u"&&(s=n("Job",e),e+=1),{id:s,action:r,payload:i}},l_}var sg={},ak;function ZS(){if(ak)return sg;ak=1;let n=!1;return sg.logging=n,sg.setLogging=e=>{n=e},sg.log=(...e)=>n?console.log.apply(this,e):null,sg}var c_,ok;function _re(){if(ok)return c_;ok=1;const n=eI(),{log:e}=ZS(),t=JS();let r=0;return c_=()=>{const i=t("Scheduler",r),s={},a={};let l=[];r+=1;const c=()=>l.length,h=()=>Object.keys(s).length,d=()=>{if(l.length!==0){const S=Object.keys(s);for(let T=0;T<S.length;T+=1)if(typeof a[S[T]]>"u"){l[0](s[S[T]]);break}}},p=(S,T)=>new Promise((E,A)=>{const N=n({action:S,payload:T});l.push(async j=>{l.shift(),a[j.id]=N;try{E(await j[S].apply(this,[...T,N.id]))}catch(U){A(U)}finally{delete a[j.id],d()}}),e(`[${i}]: Add ${N.id} to JobQueue`),e(`[${i}]: JobQueue length=${l.length}`),d()});return{addWorker:S=>(s[S.id]=S,e(`[${i}]: Add ${S.id}`),e(`[${i}]: Number of workers=${h()}`),d(),S.id),addJob:async(S,...T)=>{if(h()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return p(S,T)},terminate:async()=>{Object.keys(s).forEach(async S=>{await s[S].terminate()}),l=[]},getQueueLen:c,getNumWorkers:h}},c_}function xre(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var u_,lk;function Sre(){return lk||(lk=1,u_=n=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof xre=="function"&&(e.type="node"),typeof n>"u"?e:e[n]}),u_}var h_,ck;function Tre(){if(ck)return h_;ck=1;const e=Sre()("type")==="browser"?t=>new URL(t,window.location.href).href:t=>t;return h_=t=>{const r={...t};return["corePath","workerPath","langPath"].forEach(i=>{t[i]&&(r[i]=e(r[i]))}),r},h_}var f_,uk;function tI(){return uk||(uk=1,f_={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),f_}const Ere="6.0.1",Are={version:Ere};var d_,hk;function Cre(){return hk||(hk=1,d_={workerBlobURL:!0,logger:()=>{}}),d_}var p_,fk;function Dre(){if(fk)return p_;fk=1;const n=Are.version;return p_={...Cre(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${n}/dist/worker.min.js`},p_}var m_,dk;function kre(){return dk||(dk=1,m_=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t}),m_}var g_,pk;function Nre(){return pk||(pk=1,g_=n=>{n.terminate()}),g_}var y_,mk;function Pre(){return mk||(mk=1,y_=(n,e)=>{n.onmessage=({data:t})=>{e(t)}}),y_}var v_,gk;function Rre(){return gk||(gk=1,v_=async(n,e)=>{n.postMessage(e)}),v_}var b_,yk;function Mre(){if(yk)return b_;yk=1;const n=t=>new Promise((r,i)=>{const s=new FileReader;s.onload=()=>{r(s.result)},s.onerror=({target:{error:{code:a}}})=>{i(Error(`File could not be read! Code=${a}`))},s.readAsArrayBuffer(t)}),e=async t=>{let r=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?r=atob(t.split(",")[1]).split("").map(i=>i.charCodeAt(0)):r=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(r=await e(t.src)),t.tagName==="VIDEO"&&(r=await e(t.poster)),t.tagName==="CANVAS"&&await new Promise(i=>{t.toBlob(async s=>{r=await n(s),i()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const i=await t.convertToBlob();r=await n(i)}else(t instanceof File||t instanceof Blob)&&(r=await n(t));return new Uint8Array(r)};return b_=e,b_}var w_,vk;function Lre(){if(vk)return w_;vk=1;const n=Dre(),e=kre(),t=Nre(),r=Pre(),i=Rre(),s=Mre();return w_={defaultOptions:n,spawnWorker:e,terminateWorker:t,onMessage:r,send:i,loadImage:s},w_}var __,bk;function nI(){if(bk)return __;bk=1;const n=Tre(),e=eI(),{log:t}=ZS(),r=JS(),i=tI(),{defaultOptions:s,spawnWorker:a,terminateWorker:l,onMessage:c,loadImage:h,send:d}=Lre();let p=0;return __=async(g="eng",y=i.LSTM_ONLY,_={},S={})=>{const T=r("Worker",p),{logger:E,errorHandler:A,...N}=n({...s,..._}),j={},U=typeof g=="string"?g.split("+"):g;let K=y,M=S;const k=[i.DEFAULT,i.LSTM_ONLY].includes(y)&&!N.legacyCore;let O,H;const R=new Promise((be,je)=>{H=be,O=je}),L=be=>{O(be.message)};let V=a(N);V.onerror=L,p+=1;const se=({id:be,action:je,payload:Be})=>new Promise((Ze,tt)=>{t(`[${T}]: Start ${be}, action=${je}`);const pt=`${je}-${be}`;j[pt]={resolve:Ze,reject:tt},d(V,{workerId:T,jobId:be,action:je,payload:Be})}),pe=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),G=be=>se(e({id:be,action:"load",payload:{options:{lstmOnly:k,corePath:N.corePath,logging:N.logging}}})),Q=(be,je,Be)=>se(e({id:Be,action:"FS",payload:{method:"writeFile",args:[be,je]}})),re=(be,je)=>se(e({id:je,action:"FS",payload:{method:"readFile",args:[be,{encoding:"utf8"}]}})),J=(be,je)=>se(e({id:je,action:"FS",payload:{method:"unlink",args:[be]}})),q=(be,je,Be)=>se(e({id:Be,action:"FS",payload:{method:be,args:je}})),oe=(be,je)=>se(e({id:je,action:"loadLanguage",payload:{langs:be,options:{langPath:N.langPath,dataPath:N.dataPath,cachePath:N.cachePath,cacheMethod:N.cacheMethod,gzip:N.gzip,lstmOnly:[i.DEFAULT,i.LSTM_ONLY].includes(K)&&!N.legacyLang}}})),F=(be,je,Be,Ze)=>se(e({id:Ze,action:"initialize",payload:{langs:be,oem:je,config:Be}})),W=(be="eng",je,Be,Ze)=>{if(k&&[i.TESSERACT_ONLY,i.TESSERACT_LSTM_COMBINED].includes(je))throw Error("Legacy model requested but code missing.");const tt=je||K;K=tt;const pt=Be||M;M=pt;const ge=(typeof be=="string"?be.split("+"):be).filter(Tt=>!U.includes(Tt));return U.push(...ge),ge.length>0?oe(ge,Ze).then(()=>F(be,tt,pt,Ze)):F(be,tt,pt,Ze)},te=(be={},je)=>se(e({id:je,action:"setParameters",payload:{params:be}})),ae=async(be,je={},Be={text:!0},Ze)=>se(e({id:Ze,action:"recognize",payload:{image:await h(be),options:je,output:Be}})),fe=async(be,je)=>{if(k)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return se(e({id:je,action:"detect",payload:{image:await h(be)}}))},_e=async()=>(V!==null&&(l(V),V=null),Promise.resolve());c(V,({workerId:be,jobId:je,status:Be,action:Ze,data:tt})=>{const pt=`${Ze}-${je}`;if(Be==="resolve")t(`[${be}]: Complete ${je}`),j[pt].resolve({jobId:je,data:tt}),delete j[pt];else if(Be==="reject")if(j[pt].reject(tt),delete j[pt],Ze==="load"&&O(tt),A)A(tt);else throw Error(tt);else Be==="progress"&&E({...tt,userJobId:je})});const ve={id:T,worker:V,load:pe,writeText:Q,readText:re,removeFile:J,FS:q,reinitialize:W,setParameters:te,recognize:ae,detect:fe,terminate:_e};return G().then(()=>oe(g)).then(()=>F(g,y,S)).then(()=>H(ve)).catch(()=>{}),R},__}var x_,wk;function Ire(){if(wk)return x_;wk=1;const n=nI();return x_={recognize:async(r,i,s)=>{const a=await n(i,1,s);return a.recognize(r).finally(async()=>{await a.terminate()})},detect:async(r,i)=>{const s=await n("osd",0,i);return s.detect(r).finally(async()=>{await s.terminate()})}},x_}var S_,_k;function Ore(){return _k||(_k=1,S_={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),S_}var T_,xk;function jre(){return xk||(xk=1,T_={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),T_}var E_,Sk;function Fre(){if(Sk)return E_;Sk=1,wre();const n=_re(),e=nI(),t=Ire(),r=Ore(),i=tI(),s=jre(),{setLogging:a}=ZS();return E_={languages:r,OEM:i,PSM:s,createScheduler:n,createWorker:e,setLogging:a,...t},E_}var Vre=Fre();const Bre=yx(Vre),Ure=()=>{const[n,e]=$.useState(null),[t,r]=$.useState(""),[i,s]=$.useState(!1),a=localStorage.getItem("phone"),l=async p=>{const g=p.target.files?.[0];if(!g){ct.error("No file selected.");return}e(URL.createObjectURL(g)),r(""),s(!0);try{const _=(await Bre.recognize(g,"eng",{logger:S=>console.log(S)})).data.text;await h(_)}catch(y){console.error("OCR error:",y),r("Failed to read image."),ct.error("Failed to extract text from image.")}finally{s(!1)}},c=async p=>{try{const g=new FormData;return g.append("ocr_text",p),g.append("phone",a),(await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/rag-summary",{method:"POST",body:g})).json()).summary}catch(g){console.error("Backend error:",g),ct.error("Failed to summarize report.")}},h=async p=>{const g=await c(p);r(g||"No summary available.")},d=p=>`https://wa.me/?text=${encodeURIComponent(p)}`;return B.jsxs("div",{className:" text-gray-200",children:[B.jsxs("section",{className:"py-10 px-6 flex flex-col md:flex-row items-center justify-between max-w-6xl mx-auto",children:[B.jsxs("div",{className:"text-center md:text-left",children:[B.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Upload ",B.jsx("span",{className:"text-[#f43f5e]",children:"Medical Report"})]}),B.jsx("p",{className:"text-gray-400 max-w-xl",children:"Extract and summarize your medical report instantly."})]}),B.jsxs("div",{className:"mt-6 md:mt-0",children:[B.jsx("label",{htmlFor:"fileUpload",className:"flex items-center justify-center gap-2 px-6 py-2 rounded-lg font-semibold cursor-pointer shadow-md transition transform hover:scale-[1.02] active:scale-95 bg-[#f43f5e] hover:bg-[#be123c] text-white",children:"Choose Report Image"}),B.jsx("input",{id:"fileUpload",type:"file",accept:"image/*",onChange:l,className:"hidden"})]})]}),(n||i||t)&&B.jsxs("div",{className:"max-w-3xl mx-auto bg-[#0f172a] border border-gray-700 rounded-2xl shadow-md p-6 space-y-6",children:[n&&B.jsx("div",{className:"flex justify-center",children:B.jsx("img",{src:n,alt:"Uploaded",className:"max-h-80 rounded-xl shadow-md border border-gray-600 object-contain"})}),i&&B.jsx("p",{className:"text-center text-gray-400 animate-pulse",children:"Extracting text from report..."}),!i&&t&&B.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-xl shadow border border-gray-700 space-y-3",children:[B.jsx("h3",{className:"text-xl font-semibold text-[#f43f5e]",children:"Medical Summary"}),B.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-line leading-relaxed",children:t}),B.jsx("p",{className:"text-xs text-gray-500 italic",children:"*Consult a doctor if you are unsure.*"}),B.jsx("div",{className:"text-right",children:B.jsx("a",{href:d(t),target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 px-4 py-2 text-sm bg-green-600 hover:bg-green-700 text-white rounded-lg transition shadow",children:"Share on WhatsApp"})})]})]}),B.jsx(yc,{position:"top-right",autoClose:3e3})]})},zre=()=>{const[n,e]=$.useState(""),[t,r]=$.useState(null),[i,s]=$.useState(!1),a=async l=>{const c=l.target.files[0];r(URL.createObjectURL(c)),s(!0);const h=new FormData;h.append("file",c);try{const p=await(await fetch("https://mediconnect-backend1-r5kg.onrender.com/analyze-prescription",{method:"POST",body:h})).json();e(p.summary)}catch(d){console.error("Error uploading:",d),e("Failed to process prescription.")}finally{s(!1)}};return B.jsxs("div",{className:"p-6 max-w-xl mx-auto bg-gradient-to-b from-gray-900 to-gray-800 text-gray-200 rounded-xl shadow-xl space-y-4",children:[B.jsx("h2",{className:"text-xl font-bold mb-4",children:"Upload Doctor Prescription"}),B.jsx("input",{type:"file",accept:"image/*",onChange:a,className:"mb-4 w-full border border-gray-700 p-2 rounded-xl bg-gray-800 text-gray-200"}),t&&B.jsx("img",{src:t,alt:"Uploaded",className:"max-h-60 mb-4 rounded-xl shadow"}),i?B.jsx("p",{children:"Reading prescription..."}):n?B.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow whitespace-pre-wrap",children:[B.jsx("strong",{children:"Medicine Summary:"}),B.jsx("br",{}),n]}):null]})},Hre=()=>{const n=gd(),e=localStorage.getItem("doctorContact"),[t,r]=$.useState([]),[i,s]=$.useState(null),[a,l]=$.useState(!1),[c,h]=$.useState(!1),[d,p]=$.useState(null),[g,y]=$.useState(""),[_,S]=$.useState("");$.useEffect(()=>{(async()=>{try{const K=await(await fetch(`https://mediconnect-backend1-r5kg.onrender.com/get-doctor-appointment?contact=${e}`)).json();r(K.appointments||[])}catch{ct.error("Failed to load appointments")}})()},[e]);const T=async j=>{try{(await fetch(`https://mediconnect-backend1-r5kg.onrender.com/cancel-appointment/${j}`,{method:"DELETE"})).ok&&(ct.success("Appointment cancelled"),r(K=>K.filter(M=>M._id!==j)))}catch{ct.error("Error cancelling appointment")}},E=(j,U)=>new Date(`${j} ${U}`)<new Date?"Completed":"Upcoming",A=async(j,U)=>{try{(await fetch(`https://mediconnect-backend1-r5kg.onrender.com/update-appointment-status/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:U})})).ok?(ct.success(`Appointment ${U}`),r(M=>M.map(k=>k._id===j?{...k,status:U}:k))):ct.error("Failed to update appointment")}catch{ct.error("Server error")}},N=async j=>{if(!g||!_){ct.error("Select both new date and time");return}const U=g.toLocaleDateString("en-GB"),K=_.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});try{(await fetch(`https://mediconnect-backend1-r5kg.onrender.com/reschedule-appointment/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:U,time:K})})).ok?(ct.success("Appointment rescheduled"),r(k=>k.map(O=>O._id===d?{...O,date:U,time:K}:O)),h(!1),p(null)):ct.error("Failed to reschedule")}catch{ct.error("Server error")}};return B.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-gray-200 p-6",children:[B.jsxs("section",{className:"text-center py-6",children:[B.jsxs("h1",{className:"text-4xl font-bold",children:["Doctor ",B.jsx("span",{className:"text-[#f43f5e]",children:"Dashboard"})]}),B.jsx("p",{className:"text-gray-400 mt-2",children:"Manage and monitor all your appointments here"})]}),t.length===0?B.jsx("p",{className:"text-center text-gray-400",children:"No appointments found."}):B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:t.map(j=>B.jsxs("div",{className:"bg-[#1e293b] border border-gray-700 rounded-2xl p-6 shadow-lg hover:shadow-xl transition",children:[B.jsx("h3",{className:"text-xl font-bold text-gray-100 mb-2",children:j.user_name}),B.jsxs("p",{className:"flex items-center gap-2 text-gray-300",children:[B.jsx(fS,{className:"w-4 h-4 text-[#f43f5e]"})," ",j.phone]}),B.jsxs("p",{className:"flex items-center gap-2 text-gray-300",children:[B.jsx(t0,{className:"w-4 h-4 text-[#f43f5e]"})," ",j.location]}),B.jsxs("p",{className:"flex items-center gap-2 text-gray-300",children:[B.jsx(XH,{className:"w-4 h-4 text-[#f43f5e]"})," ",j.date,B.jsx(S6,{className:"w-4 h-4 ml-3 text-[#f43f5e]"})," ",j.time]}),B.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Status:"," ",B.jsx("span",{className:"font-semibold text-yellow-400",children:E(j.date,j.time)})]}),j.status&&B.jsx("span",{className:`inline-block mt-3 px-3 py-1 rounded-full text-xs font-semibold
                  ${j.status==="Accepted"?"bg-green-500/20 text-green-400":j.status==="Rejected"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:j.status}),B.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[E(j.date,j.time)==="Upcoming"&&B.jsxs(B.Fragment,{children:[B.jsx("button",{className:"bg-red-600 px-4 py-2 rounded-lg text-white hover:bg-red-700 transition",onClick:()=>{s(j._id),l(!0)},children:"Cancel"}),B.jsx("button",{className:"bg-yellow-500 px-4 py-2 rounded-lg text-white hover:bg-yellow-600 transition",onClick:()=>{p(j._id),h(!0)},children:"Reschedule"}),B.jsxs("button",{className:"bg-green-600 px-4 py-2 rounded-lg text-white hover:bg-green-700 transition flex items-center gap-2",onClick:()=>n(`/video-call?doctorId=${e}`),children:[B.jsx(Mq,{className:"w-4 h-4"})," Start Call"]})]}),j.status==="Pending"&&B.jsxs(B.Fragment,{children:[B.jsxs("button",{className:"bg-blue-600 px-3 py-2 rounded-lg text-white hover:bg-blue-700 transition flex items-center gap-2",onClick:()=>A(j._id,"Accepted"),children:[B.jsx(eq,{className:"w-4 h-4"})," Accept"]}),B.jsxs("button",{className:"bg-gray-600 px-3 py-2 rounded-lg text-white hover:bg-gray-700 transition flex items-center gap-2",onClick:()=>A(j._id,"Rejected"),children:[B.jsx(nq,{className:"w-4 h-4"})," Reject"]})]})]})]},j._id))}),a&&B.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:B.jsxs("div",{className:"bg-white text-gray-800 rounded-xl shadow-lg p-6 max-w-sm w-full",children:[B.jsx("h2",{className:"text-lg font-bold mb-2",children:"Cancel Appointment?"}),B.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Are you sure you want to cancel this appointment?"}),B.jsxs("div",{className:"flex justify-end gap-3",children:[B.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 rounded-md bg-gray-200 hover:bg-gray-300",children:"No"}),B.jsx("button",{onClick:async()=>{await T(i),l(!1)},className:"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700",children:"Yes, Cancel"})]})]})}),c&&B.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:B.jsxs("div",{className:"bg-white text-gray-800 rounded-xl shadow-lg p-6 max-w-sm w-full",children:[B.jsx("h2",{className:"text-lg font-bold mb-4",children:"Reschedule Appointment"}),B.jsxs("div",{className:"space-y-3",children:[B.jsx(P1,{selected:g,onChange:j=>y(j),dateFormat:"dd/MM/yyyy",minDate:new Date,className:"border p-2 rounded w-full",placeholderText:" Select Date"}),B.jsx(P1,{selected:_,onChange:j=>S(j),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:30,timeCaption:"Time",dateFormat:"h:mm aa",className:"border p-2 rounded w-full",placeholderText:" Select Time"})]}),B.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[B.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded-md bg-gray-200 hover:bg-gray-300",children:"Cancel"}),B.jsx("button",{onClick:()=>N(d),className:"px-4 py-2 rounded-md bg-yellow-500 text-white hover:bg-yellow-600",children:"Save"})]})]})}),B.jsx(yc,{position:"top-right",autoClose:3e3})]})},eT=$.createContext({});function tT(n){const e=$.useRef(null);return e.current===null&&(e.current=n()),e.current}const nT=typeof window<"u",rI=nT?$.useLayoutEffect:$.useEffect,$2=$.createContext(null);function rT(n,e){n.indexOf(e)===-1&&n.push(e)}function iT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Eu=(n,e,t)=>t>e?e:t<n?n:t;let sT=()=>{};const Au={},iI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function sI(n){return typeof n=="object"&&n!==null}const aI=n=>/^0[^.\s]+$/u.test(n);function aT(n){let e;return()=>(e===void 0&&(e=n()),e)}const vo=n=>n,qre=(n,e)=>t=>e(n(t)),B0=(...n)=>n.reduce(qre),h0=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class oT{constructor(){this.subscriptions=[]}add(e){return rT(this.subscriptions,e),()=>iT(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lc=n=>n*1e3,cc=n=>n/1e3;function oI(n,e){return e?n*(1e3/e):0}const lI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Wre=1e-7,Yre=12;function $re(n,e,t,r,i){let s,a,l=0;do a=e+(t-e)/2,s=lI(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>Wre&&++l<Yre);return a}function U0(n,e,t,r){if(n===e&&t===r)return vo;const i=s=>$re(s,0,1,n,t);return s=>s===0||s===1?s:lI(i(s),e,r)}const cI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,uI=n=>e=>1-n(1-e),hI=U0(.33,1.53,.69,.99),lT=uI(hI),fI=cI(lT),dI=n=>(n*=2)<1?.5*lT(n):.5*(2-Math.pow(2,-10*(n-1))),cT=n=>1-Math.sin(Math.acos(n)),pI=uI(cT),mI=cI(cT),Gre=U0(.42,0,1,1),Kre=U0(0,0,.58,1),gI=U0(.42,0,.58,1),Xre=n=>Array.isArray(n)&&typeof n[0]!="number",yI=n=>Array.isArray(n)&&typeof n[0]=="number",Qre={linear:vo,easeIn:Gre,easeInOut:gI,easeOut:Kre,circIn:cT,circInOut:mI,circOut:pI,backIn:lT,backInOut:fI,backOut:hI,anticipate:dI},Jre=n=>typeof n=="string",Tk=n=>{if(yI(n)){sT(n.length===4);const[e,t,r,i]=n;return U0(e,t,r,i)}else if(Jre(n))return Qre[n];return n},wv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zre(n,e){let t=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(h.schedule(d),n()),d(l)}const h={schedule:(d,p=!1,g=!1)=>{const _=g&&i?t:r;return p&&a.add(d),_.has(d)||_.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(c),t.clear(),i=!1,s&&(s=!1,h.process(d))}};return h}const eie=40;function vI(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=wv.reduce((N,j)=>(N[j]=Zre(s),N),{}),{setup:l,read:c,resolveKeyframes:h,preUpdate:d,update:p,preRender:g,render:y,postRender:_}=a,S=()=>{const N=Au.useManualTiming?i.timestamp:performance.now();t=!1,Au.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,eie),1)),i.timestamp=N,i.isProcessing=!0,l.process(i),c.process(i),h.process(i),d.process(i),p.process(i),g.process(i),y.process(i),_.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(S))},T=()=>{t=!0,r=!0,i.isProcessing||n(S)};return{schedule:wv.reduce((N,j)=>{const U=a[j];return N[j]=(K,M=!1,k=!1)=>(t||T(),U.schedule(K,M,k)),N},{}),cancel:N=>{for(let j=0;j<wv.length;j++)a[wv[j]].cancel(N)},state:i,steps:a}}const{schedule:Ar,cancel:Zh,state:ts,steps:A_}=vI(typeof requestAnimationFrame<"u"?requestAnimationFrame:vo,!0);let Yv;function tie(){Yv=void 0}const ca={now:()=>(Yv===void 0&&ca.set(ts.isProcessing||Au.useManualTiming?ts.timestamp:performance.now()),Yv),set:n=>{Yv=n,queueMicrotask(tie)}},bI=n=>e=>typeof e=="string"&&e.startsWith(n),uT=bI("--"),nie=bI("var(--"),hT=n=>nie(n)?rie.test(n.split("/*")[0].trim()):!1,rie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,im={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},f0={...im,transform:n=>Eu(0,1,n)},_v={...im,default:1},Fg=n=>Math.round(n*1e5)/1e5,fT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iie(n){return n==null}const sie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dT=(n,e)=>t=>!!(typeof t=="string"&&sie.test(t)&&t.startsWith(n)||e&&!iie(t)&&Object.prototype.hasOwnProperty.call(t,e)),wI=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(fT);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},aie=n=>Eu(0,255,n),C_={...im,transform:n=>Math.round(aie(n))},Wf={test:dT("rgb","red"),parse:wI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+C_.transform(n)+", "+C_.transform(e)+", "+C_.transform(t)+", "+Fg(f0.transform(r))+")"};function oie(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const X5={test:dT("#"),parse:oie,transform:Wf.transform},z0=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),yh=z0("deg"),uc=z0("%"),zt=z0("px"),lie=z0("vh"),cie=z0("vw"),Ek={...uc,parse:n=>uc.parse(n)/100,transform:n=>uc.transform(n*100)},pp={test:dT("hsl","hue"),parse:wI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+uc.transform(Fg(e))+", "+uc.transform(Fg(t))+", "+Fg(f0.transform(r))+")"},bi={test:n=>Wf.test(n)||X5.test(n)||pp.test(n),parse:n=>Wf.test(n)?Wf.parse(n):pp.test(n)?pp.parse(n):X5.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Wf.transform(n):pp.transform(n),getAnimatableNone:n=>{const e=bi.parse(n);return e.alpha=0,bi.transform(e)}},uie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hie(n){return isNaN(n)&&typeof n=="string"&&(n.match(fT)?.length||0)+(n.match(uie)?.length||0)>0}const _I="number",xI="color",fie="var",die="var(",Ak="${}",pie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function d0(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(pie,c=>(bi.test(c)?(r.color.push(s),i.push(xI),t.push(bi.parse(c))):c.startsWith(die)?(r.var.push(s),i.push(fie),t.push(c)):(r.number.push(s),i.push(_I),t.push(parseFloat(c))),++s,Ak)).split(Ak);return{values:t,split:l,indexes:r,types:i}}function SI(n){return d0(n).values}function TI(n){const{split:e,types:t}=d0(n),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=t[a];l===_I?s+=Fg(i[a]):l===xI?s+=bi.transform(i[a]):s+=i[a]}return s}}const mie=n=>typeof n=="number"?0:bi.test(n)?bi.getAnimatableNone(n):n;function gie(n){const e=SI(n);return TI(n)(e.map(mie))}const ef={test:hie,parse:SI,createTransformer:TI,getAnimatableNone:gie};function D_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function yie({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;i=D_(c,l,n+1/3),s=D_(c,l,n),a=D_(c,l,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Y1(n,e){return t=>t>0?e:n}const Lr=(n,e,t)=>n+(e-n)*t,k_=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vie=[X5,Wf,pp],bie=n=>vie.find(e=>e.test(n));function Ck(n){const e=bie(n);if(!e)return!1;let t=e.parse(n);return e===pp&&(t=yie(t)),t}const Dk=(n,e)=>{const t=Ck(n),r=Ck(e);if(!t||!r)return Y1(n,e);const i={...t};return s=>(i.red=k_(t.red,r.red,s),i.green=k_(t.green,r.green,s),i.blue=k_(t.blue,r.blue,s),i.alpha=Lr(t.alpha,r.alpha,s),Wf.transform(i))},Q5=new Set(["none","hidden"]);function wie(n,e){return Q5.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function _ie(n,e){return t=>Lr(n,e,t)}function pT(n){return typeof n=="number"?_ie:typeof n=="string"?hT(n)?Y1:bi.test(n)?Dk:Tie:Array.isArray(n)?EI:typeof n=="object"?bi.test(n)?Dk:xie:Y1}function EI(n,e){const t=[...n],r=t.length,i=n.map((s,a)=>pT(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}}function xie(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=pT(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function Sie(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=n.indexes[s][r[s]],l=n.values[a]??0;t[i]=l,r[s]++}return t}const Tie=(n,e)=>{const t=ef.createTransformer(e),r=d0(n),i=d0(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Q5.has(n)&&!i.values.length||Q5.has(e)&&!r.values.length?wie(n,e):B0(EI(Sie(r,i),i.values),t):Y1(n,e)};function AI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Lr(n,e,t):pT(n)(n,e)}const Eie=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ar.update(e,t),stop:()=>Zh(e),now:()=>ts.isProcessing?ts.timestamp:ca.now()}},CI=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$1=2e4;function mT(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<$1;)e+=t,r=n.next(e);return e>=$1?1/0:e}function Aie(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(mT(r),$1);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:cc(i)}}const Cie=5;function DI(n,e,t){const r=Math.max(e-Cie,0);return oI(t-n(r),e-r)}const Yr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},N_=.001;function Die({duration:n=Yr.duration,bounce:e=Yr.bounce,velocity:t=Yr.velocity,mass:r=Yr.mass}){let i,s,a=1-e;a=Eu(Yr.minDamping,Yr.maxDamping,a),n=Eu(Yr.minDuration,Yr.maxDuration,cc(n)),a<1?(i=h=>{const d=h*a,p=d*n,g=d-t,y=J5(h,a),_=Math.exp(-p);return N_-g/y*_},s=h=>{const p=h*a*n,g=p*t+t,y=Math.pow(a,2)*Math.pow(h,2)*n,_=Math.exp(-p),S=J5(Math.pow(h,2),a);return(-i(h)+N_>0?-1:1)*((g-y)*_)/S}):(i=h=>{const d=Math.exp(-h*n),p=(h-t)*n+1;return-N_+d*p},s=h=>{const d=Math.exp(-h*n),p=(t-h)*(n*n);return d*p});const l=5/n,c=Nie(i,s,l);if(n=lc(n),isNaN(c))return{stiffness:Yr.stiffness,damping:Yr.damping,duration:n};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:n}}}const kie=12;function Nie(n,e,t){let r=t;for(let i=1;i<kie;i++)r=r-n(r)/e(r);return r}function J5(n,e){return n*Math.sqrt(1-e*e)}const Pie=["duration","bounce"],Rie=["stiffness","damping","mass"];function kk(n,e){return e.some(t=>n[t]!==void 0)}function Mie(n){let e={velocity:Yr.velocity,stiffness:Yr.stiffness,damping:Yr.damping,mass:Yr.mass,isResolvedFromDuration:!1,...n};if(!kk(n,Rie)&&kk(n,Pie))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Eu(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Yr.mass,stiffness:i,damping:s}}else{const t=Die(n);e={...e,...t,mass:Yr.mass},e.isResolvedFromDuration=!0}return e}function G1(n=Yr.visualDuration,e=Yr.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:h,mass:d,duration:p,velocity:g,isResolvedFromDuration:y}=Mie({...t,velocity:-cc(t.velocity||0)}),_=g||0,S=h/(2*Math.sqrt(c*d)),T=a-s,E=cc(Math.sqrt(c/d)),A=Math.abs(T)<5;r||(r=A?Yr.restSpeed.granular:Yr.restSpeed.default),i||(i=A?Yr.restDelta.granular:Yr.restDelta.default);let N;if(S<1){const U=J5(E,S);N=K=>{const M=Math.exp(-S*E*K);return a-M*((_+S*E*T)/U*Math.sin(U*K)+T*Math.cos(U*K))}}else if(S===1)N=U=>a-Math.exp(-E*U)*(T+(_+E*T)*U);else{const U=E*Math.sqrt(S*S-1);N=K=>{const M=Math.exp(-S*E*K),k=Math.min(U*K,300);return a-M*((_+S*E*T)*Math.sinh(k)+U*T*Math.cosh(k))/U}}const j={calculatedDuration:y&&p||null,next:U=>{const K=N(U);if(y)l.done=U>=p;else{let M=U===0?_:0;S<1&&(M=U===0?lc(_):DI(N,U,K));const k=Math.abs(M)<=r,O=Math.abs(a-K)<=i;l.done=k&&O}return l.value=l.done?a:K,l},toString:()=>{const U=Math.min(mT(j),$1),K=CI(M=>j.next(U*M).value,U,30);return U+"ms "+K},toTransition:()=>{}};return j}G1.applyToOptions=n=>{const e=Aie(n,100,G1);return n.ease=e.ease,n.duration=lc(e.duration),n.type="keyframes",n};function Z5({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:h=.5,restSpeed:d}){const p=n[0],g={done:!1,value:p},y=k=>l!==void 0&&k<l||c!==void 0&&k>c,_=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let S=t*e;const T=p+S,E=a===void 0?T:a(T);E!==T&&(S=E-p);const A=k=>-S*Math.exp(-k/r),N=k=>E+A(k),j=k=>{const O=A(k),H=N(k);g.done=Math.abs(O)<=h,g.value=g.done?E:H};let U,K;const M=k=>{y(g.value)&&(U=k,K=G1({keyframes:[g.value,_(g.value)],velocity:DI(N,k,g.value),damping:i,stiffness:s,restDelta:h,restSpeed:d}))};return M(0),{calculatedDuration:null,next:k=>{let O=!1;return!K&&U===void 0&&(O=!0,j(k),M(k)),U!==void 0&&k>=U?K.next(k-U):(!O&&j(k),g)}}}function Lie(n,e,t){const r=[],i=t||Au.mix||AI,s=n.length-1;for(let a=0;a<s;a++){let l=i(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||vo:e;l=B0(c,l)}r.push(l)}return r}function Iie(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(sT(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=Lie(e,r,i),c=l.length,h=d=>{if(a&&d<n[0])return e[0];let p=0;if(c>1)for(;p<n.length-2&&!(d<n[p+1]);p++);const g=h0(n[p],n[p+1],d);return l[p](g)};return t?d=>h(Eu(n[0],n[s-1],d)):h}function Oie(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=h0(0,e,r);n.push(Lr(t,1,i))}}function jie(n){const e=[0];return Oie(e,n.length-1),e}function Fie(n,e){return n.map(t=>t*e)}function Vie(n,e){return n.map(()=>e||gI).splice(0,n.length-1)}function Vg({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=Xre(r)?r.map(Tk):Tk(r),s={done:!1,value:e[0]},a=Fie(t&&t.length===e.length?t:jie(e),n),l=Iie(a,e,{ease:Array.isArray(i)?i:Vie(e,i)});return{calculatedDuration:n,next:c=>(s.value=l(c),s.done=c>=n,s)}}const Bie=n=>n!==null;function gT(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(Bie),l=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const Uie={decay:Z5,inertia:Z5,tween:Vg,keyframes:Vg,spring:G1};function kI(n){typeof n.type=="string"&&(n.type=Uie[n.type])}class yT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const zie=n=>n/100;class vT extends yT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==ca.now()&&this.tick(ca.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kI(e);const{type:t=Vg,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const c=t||Vg;c!==Vg&&typeof l[0]!="number"&&(this.mixKeyframes=B0(zie,AI(l[0],l[1])),l=[0,100]);const h=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=mT(h));const{calculatedDuration:d}=h;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:d,repeat:p,repeatType:g,repeatDelay:y,type:_,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-h*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,j=r;if(p){const k=Math.min(this.currentTime,i)/l;let O=Math.floor(k),H=k%1;!H&&k>=1&&(H=1),H===1&&O--,O=Math.min(O,p+1),!!(O%2)&&(g==="reverse"?(H=1-H,y&&(H-=y/l)):g==="mirror"&&(j=a)),N=Eu(0,1,H)*l}const U=A?{done:!1,value:d[0]}:j.next(N);s&&(U.value=s(U.value));let{done:K}=U;!A&&c!==null&&(K=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return M&&_!==Z5&&(U.value=gT(d,this.options,T,this.speed)),S&&S(U.value),M&&this.finish(),U}then(e,t){return this.finished.then(e,t)}get duration(){return cc(this.calculatedDuration)}get time(){return cc(this.currentTime)}set time(e){e=lc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ca.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cc(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Eie,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ca.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Hie(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Yf=n=>n*180/Math.PI,ex=n=>{const e=Yf(Math.atan2(n[1],n[0]));return tx(e)},qie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:ex,rotateZ:ex,skewX:n=>Yf(Math.atan(n[1])),skewY:n=>Yf(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},tx=n=>(n=n%360,n<0&&(n+=360),n),Nk=ex,Pk=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Rk=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Wie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pk,scaleY:Rk,scale:n=>(Pk(n)+Rk(n))/2,rotateX:n=>tx(Yf(Math.atan2(n[6],n[5]))),rotateY:n=>tx(Yf(Math.atan2(-n[2],n[0]))),rotateZ:Nk,rotate:Nk,skewX:n=>Yf(Math.atan(n[4])),skewY:n=>Yf(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function nx(n){return n.includes("scale")?1:0}function rx(n,e){if(!n||n==="none")return nx(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=Wie,i=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=qie,i=l}if(!i)return nx(e);const s=r[e],a=i[1].split(",").map($ie);return typeof s=="function"?s(a):a[s]}const Yie=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return rx(t,e)};function $ie(n){return parseFloat(n.trim())}const sm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],am=new Set(sm),Mk=n=>n===im||n===zt,Gie=new Set(["x","y","z"]),Kie=sm.filter(n=>!Gie.has(n));function Xie(n){const e=[];return Kie.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const nd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>rx(e,"x"),y:(n,{transform:e})=>rx(e,"y")};nd.translateX=nd.x;nd.translateY=nd.y;const rd=new Set;let ix=!1,sx=!1,ax=!1;function NI(){if(sx){const n=Array.from(rd).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=Xie(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sx=!1,ix=!1,rd.forEach(n=>n.complete(ax)),rd.clear()}function PI(){rd.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(sx=!0)})}function Qie(){ax=!0,PI(),NI(),ax=!1}class bT{constructor(e,t,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(rd.add(this),ix||(ix=!0,Ar.read(PI),Ar.resolveKeyframes(NI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const l=r.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Hie(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rd.delete(this)}cancel(){this.state==="scheduled"&&(rd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jie=n=>n.startsWith("--");function Zie(n,e,t){Jie(e)?n.style.setProperty(e,t):n.style[e]=t}const ese=aT(()=>window.ScrollTimeline!==void 0),tse={};function nse(n,e){const t=aT(n);return()=>tse[e]??t()}const RI=nse(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wg=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Lk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wg([0,.65,.55,1]),circOut:wg([.55,0,1,.45]),backIn:wg([.31,.01,.66,-.59]),backOut:wg([.33,1.53,.69,.99])};function MI(n,e){if(n)return typeof n=="function"?RI()?CI(n,e):"ease-out":yI(n)?wg(n):Array.isArray(n)?n.map(t=>MI(t,e)||Lk.easeOut):Lk[n]}function rse(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},h=void 0){const d={[e]:t};c&&(d.offset=c);const p=MI(l,i);Array.isArray(p)&&(d.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),n.animate(d,g)}function LI(n){return typeof n=="function"&&"applyToOptions"in n}function ise({type:n,...e}){return LI(n)&&RI()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class sse extends yT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,sT(typeof e.type!="string");const h=ise(e);this.animation=rse(t,r,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=gT(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Zie(t,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cc(Number(e))}get time(){return cc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=lc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ese()?(this.animation.timeline=e,vo):t(this)}}const II={anticipate:dI,backInOut:fI,circInOut:mI};function ase(n){return n in II}function ose(n){typeof n.ease=="string"&&ase(n.ease)&&(n.ease=II[n.ease])}const Ik=10;class lse extends sse{constructor(e){ose(e),kI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new vT({...a,autoplay:!1}),c=lc(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-Ik).value,l.sample(c).value,Ik),l.stop()}}const Ok=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ef.test(n)||n==="0")&&!n.startsWith("url("));function cse(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function use(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=Ok(i,e),l=Ok(s,e);return!a||!l?!1:cse(n)||(t==="spring"||LI(t))&&r}function ox(n){n.duration=0,n.type}const hse=new Set(["opacity","clipPath","filter","transform"]),fse=aT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dse(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:a}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=e.owner.getProps();return fse()&&t&&hse.has(t)&&(t!=="transform"||!h)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const pse=40;class mse extends yT{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:h,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ca.now();const g={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:h,element:d,...p},y=d?.KeyframeResolver||bT;this.keyframeResolver=new y(l,(_,S,T)=>this.onKeyframesResolved(_,S,g,!T),c,h,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:h,onUpdate:d}=r;this.resolvedAt=ca.now(),use(e,s,a,l)||((Au.instantAnimations||!c)&&d?.(gT(e,r,t)),e[0]=e[e.length-1],ox(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>pse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},y=!h&&dse(g)?new lse({...g,element:g.motionValue.owner.current}):new vT(g);y.finished.then(()=>this.notifyFinished()).catch(vo),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Qie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const gse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yse(n){const e=gse.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function OI(n,e,t=1){const[r,i]=yse(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return iI(a)?parseFloat(a):a}return hT(i)?OI(i,e,t+1):i}function wT(n,e){return n?.[e]??n?.default??n}const jI=new Set(["width","height","top","left","right","bottom",...sm]),vse={test:n=>n==="auto",parse:n=>n},FI=n=>e=>e.test(n),VI=[im,zt,uc,yh,cie,lie,vse],jk=n=>VI.find(FI(n));function bse(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||aI(n):!0}const wse=new Set(["brightness","contrast","saturate","opacity"]);function _se(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(fT)||[];if(!r)return n;const i=t.replace(r,"");let s=wse.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const xse=/\b([a-z-]*)\(.*?\)/gu,lx={...ef,getAnimatableNone:n=>{const e=n.match(xse);return e?e.map(_se).join(" "):n}},Fk={...im,transform:Math.round},Sse={rotate:yh,rotateX:yh,rotateY:yh,rotateZ:yh,scale:_v,scaleX:_v,scaleY:_v,scaleZ:_v,skew:yh,skewX:yh,skewY:yh,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:f0,originX:Ek,originY:Ek,originZ:zt},_T={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt,...Sse,zIndex:Fk,fillOpacity:f0,strokeOpacity:f0,numOctaves:Fk},Tse={..._T,color:bi,backgroundColor:bi,outlineColor:bi,fill:bi,stroke:bi,borderColor:bi,borderTopColor:bi,borderRightColor:bi,borderBottomColor:bi,borderLeftColor:bi,filter:lx,WebkitFilter:lx},BI=n=>Tse[n];function UI(n,e){let t=BI(n);return t!==lx&&(t=ef),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Ese=new Set(["auto","none","0"]);function Ase(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!Ese.has(s)&&d0(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=UI(t,i)}class Cse extends bT{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),hT(h))){const d=OI(h,t.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!jI.has(r)||e.length!==2)return;const[i,s]=e,a=jk(i),l=jk(s);if(a!==l)if(Mk(a)&&Mk(l))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else nd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||bse(e[i]))&&r.push(i);r.length&&Ase(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=nd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Dse(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=t?.[n]??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const zI=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function HI(n){return sI(n)&&"offsetHeight"in n}const Vk=30,kse=n=>!isNaN(parseFloat(n));class Nse{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=ca.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ca.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kse(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new oT);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ar.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ca.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Vk)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Vk);return oI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hp(n,e){return new Nse(n,e)}const{schedule:xT}=vI(queueMicrotask,!1),Qo={x:!1,y:!1};function qI(){return Qo.x||Qo.y}function Pse(n){return n==="x"||n==="y"?Qo[n]?null:(Qo[n]=!0,()=>{Qo[n]=!1}):Qo.x||Qo.y?null:(Qo.x=Qo.y=!0,()=>{Qo.x=Qo.y=!1})}function WI(n,e){const t=Dse(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function Bk(n){return!(n.pointerType==="touch"||qI())}function Rse(n,e,t={}){const[r,i,s]=WI(n,t),a=l=>{if(!Bk(l))return;const{target:c}=l,h=e(c,l);if(typeof h!="function"||!c)return;const d=p=>{Bk(p)&&(h(p),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const YI=(n,e)=>e?n===e?!0:YI(n,e.parentElement):!1,ST=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Mse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Lse(n){return Mse.has(n.tagName)||n.tabIndex!==-1}const $v=new WeakSet;function Uk(n){return e=>{e.key==="Enter"&&n(e)}}function P_(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ise=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=Uk(()=>{if($v.has(t))return;P_(t,"down");const i=Uk(()=>{P_(t,"up")}),s=()=>P_(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function zk(n){return ST(n)&&!qI()}function Ose(n,e,t={}){const[r,i,s]=WI(n,t),a=l=>{const c=l.currentTarget;if(!zk(l))return;$v.add(c);const h=e(c,l),d=(y,_)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),$v.has(c)&&$v.delete(c),zk(y)&&typeof h=="function"&&h(y,{success:_})},p=y=>{d(y,c===window||c===document||t.useGlobalTarget||YI(c,y.target))},g=y=>{d(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),HI(l)&&(l.addEventListener("focus",h=>Ise(h,i)),!Lse(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function $I(n){return sI(n)&&"ownerSVGElement"in n}function jse(n){return $I(n)&&n.tagName==="svg"}const Ds=n=>!!(n&&n.getVelocity),Fse=[...VI,bi,ef],Vse=n=>Fse.find(FI(n)),TT=$.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Bse extends $.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=HI(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Use({children:n,isPresent:e,anchorX:t,root:r}){const i=$.useId(),s=$.useRef(null),a=$.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=$.useContext(TT);return $.useInsertionEffect(()=>{const{width:c,height:h,top:d,left:p,right:g}=a.current;if(e||!s.current||!c||!h)return;const y=t==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");l&&(_.nonce=l);const S=r??document.head;return S.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${d}px !important;
          }
        `),()=>{S.contains(_)&&S.removeChild(_)}},[e]),B.jsx(Bse,{isPresent:e,childRef:s,sizeRef:a,children:$.cloneElement(n,{ref:s})})}const zse=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const h=tT(Hse),d=$.useId();let p=!0,g=$.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:t,custom:i,onExitComplete:y=>{h.set(y,!0);for(const _ of h.values())if(!_)return;r&&r()},register:y=>(h.set(y,!1),()=>h.delete(y))}),[t,h,r]);return s&&p&&(g={...g}),$.useMemo(()=>{h.forEach((y,_)=>h.set(_,!1))},[t]),$.useEffect(()=>{!t&&!h.size&&r&&r()},[t]),a==="popLayout"&&(n=B.jsx(Use,{isPresent:t,anchorX:l,root:c,children:n})),B.jsx($2.Provider,{value:g,children:n})};function Hse(){return new Map}function GI(n=!0){const e=$.useContext($2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=$.useId();$.useEffect(()=>{if(n)return i(s)},[n]);const a=$.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,a]:[!0]}const xv=n=>n.key||"";function Hk(n){const e=[];return $.Children.forEach(n,t=>{$.isValidElement(t)&&e.push(t)}),e}const qk=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[h,d]=GI(a),p=$.useMemo(()=>Hk(n),[n]),g=a&&!h?[]:p.map(xv),y=$.useRef(!0),_=$.useRef(p),S=tT(()=>new Map),[T,E]=$.useState(p),[A,N]=$.useState(p);rI(()=>{y.current=!1,_.current=p;for(let K=0;K<A.length;K++){const M=xv(A[K]);g.includes(M)?S.delete(M):S.get(M)!==!0&&S.set(M,!1)}},[A,g.length,g.join("-")]);const j=[];if(p!==T){let K=[...p];for(let M=0;M<A.length;M++){const k=A[M],O=xv(k);g.includes(O)||(K.splice(M,0,k),j.push(k))}return s==="wait"&&j.length&&(K=j),N(Hk(K)),E(p),null}const{forceRender:U}=$.useContext(eT);return B.jsx(B.Fragment,{children:A.map(K=>{const M=xv(K),k=a&&!h?!1:p===A||g.includes(M),O=()=>{if(S.has(M))S.set(M,!0);else return;let H=!0;S.forEach(R=>{R||(H=!1)}),H&&(U?.(),N(_.current),a&&d?.(),r&&r())};return B.jsx(zse,{isPresent:k,initial:!y.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:k?void 0:O,anchorX:l,children:K},M)})})},KI=$.createContext({strict:!1}),Wk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qp={};for(const n in Wk)qp[n]={isEnabled:e=>Wk[n].some(t=>!!e[t])};function qse(n){for(const e in n)qp[e]={...qp[e],...n[e]}}const Wse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function K1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Wse.has(n)}let XI=n=>!K1(n);function Yse(n){typeof n=="function"&&(XI=e=>e.startsWith("on")?!K1(e):n(e))}try{Yse(require("@emotion/is-prop-valid").default)}catch{}function $se(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(XI(i)||t===!0&&K1(i)||!e&&!K1(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const G2=$.createContext({});function K2(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function p0(n){return typeof n=="string"||Array.isArray(n)}const ET=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AT=["initial",...ET];function X2(n){return K2(n.animate)||AT.some(e=>p0(n[e]))}function QI(n){return!!(X2(n)||n.variants)}function Gse(n,e){if(X2(n)){const{initial:t,animate:r}=n;return{initial:t===!1||p0(t)?t:void 0,animate:p0(r)?r:void 0}}return n.inherit!==!1?e:{}}function Kse(n){const{initial:e,animate:t}=Gse(n,$.useContext(G2));return $.useMemo(()=>({initial:e,animate:t}),[Yk(e),Yk(t)])}function Yk(n){return Array.isArray(n)?n.join(" "):n}const m0={};function Xse(n){for(const e in n)m0[e]=n[e],uT(e)&&(m0[e].isCSSVariable=!0)}function JI(n,{layout:e,layoutId:t}){return am.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!m0[n]||n==="opacity")}const Qse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jse=sm.length;function Zse(n,e,t){let r="",i=!0;for(let s=0;s<Jse;s++){const a=sm[s],l=n[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const h=zI(l,_T[a]);if(!c){i=!1;const d=Qse[a]||a;r+=`${d}(${h}) `}t&&(e[a]=h)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function CT(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let a=!1,l=!1;for(const c in e){const h=e[c];if(am.has(c)){a=!0;continue}else if(uT(c)){i[c]=h;continue}else{const d=zI(h,_T[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(e.transform||(a||t?r.transform=Zse(e,n.transform,t):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:h="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${h} ${d}`}}const DT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZI(n,e,t){for(const r in e)!Ds(e[r])&&!JI(r,t)&&(n[r]=e[r])}function eae({transformTemplate:n},e){return $.useMemo(()=>{const t=DT();return CT(t,e,n),Object.assign({},t.vars,t.style)},[e])}function tae(n,e){const t=n.style||{},r={};return ZI(r,t,n),Object.assign(r,eae(n,e)),r}function nae(n,e){const t={},r=tae(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const rae={offset:"stroke-dashoffset",array:"stroke-dasharray"},iae={offset:"strokeDashoffset",array:"strokeDasharray"};function sae(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?rae:iae;n[s.offset]=zt.transform(-r);const a=zt.transform(e),l=zt.transform(t);n[s.array]=`${a} ${l}`}function eO(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,h,d){if(CT(n,l,h),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g}=n;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=d?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),i!==void 0&&sae(p,i,s,a,!1)}const tO=()=>({...DT(),attrs:{}}),nO=n=>typeof n=="string"&&n.toLowerCase()==="svg";function aae(n,e,t,r){const i=$.useMemo(()=>{const s=tO();return eO(s,e,nO(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};ZI(s,n.style,n),i.style={...s,...i.style}}return i}const oae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kT(n){return typeof n!="string"||n.includes("-")?!1:!!(oae.indexOf(n)>-1||/[A-Z]/u.test(n))}function lae(n,e,t,{latestValues:r},i,s=!1){const l=(kT(n)?aae:nae)(e,r,i,n),c=$se(e,typeof n=="string",s),h=n!==$.Fragment?{...c,...l,ref:t}:{},{children:d}=e,p=$.useMemo(()=>Ds(d)?d.get():d,[d]);return $.createElement(n,{...h,children:p})}function $k(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function NT(n,e,t,r){if(typeof e=="function"){const[i,s]=$k(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=$k(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function Gv(n){return Ds(n)?n.get():n}function cae({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:uae(t,r,i,n),renderState:e()}}function uae(n,e,t,r){const i={},s=r(n,{});for(const g in s)i[g]=Gv(s[g]);let{initial:a,animate:l}=n;const c=X2(n),h=QI(n);e&&h&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const p=d?l:a;if(p&&typeof p!="boolean"&&!K2(p)){const g=Array.isArray(p)?p:[p];for(let y=0;y<g.length;y++){const _=NT(n,g[y]);if(_){const{transitionEnd:S,transition:T,...E}=_;for(const A in E){let N=E[A];if(Array.isArray(N)){const j=d?N.length-1:0;N=N[j]}N!==null&&(i[A]=N)}for(const A in S)i[A]=S[A]}}}return i}const rO=n=>(e,t)=>{const r=$.useContext(G2),i=$.useContext($2),s=()=>cae(n,e,r,i);return t?s():tT(s)};function PT(n,e,t){const{style:r}=n,i={};for(const s in r)(Ds(r[s])||e.style&&Ds(e.style[s])||JI(s,n)||t?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const hae=rO({scrapeMotionValuesFromProps:PT,createRenderState:DT});function iO(n,e,t){const r=PT(n,e,t);for(const i in n)if(Ds(n[i])||Ds(e[i])){const s=sm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const fae=rO({scrapeMotionValuesFromProps:iO,createRenderState:tO}),dae=Symbol.for("motionComponentSymbol");function mp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pae(n,e,t){return $.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):mp(t)&&(t.current=r))},[e])}const RT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mae="framerAppearId",sO="data-"+RT(mae),aO=$.createContext({});function gae(n,e,t,r,i){const{visualElement:s}=$.useContext(G2),a=$.useContext(KI),l=$.useContext($2),c=$.useContext(TT).reducedMotion,h=$.useRef(null);r=r||a.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=h.current,p=$.useContext(aO);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&yae(h.current,t,i,p);const g=$.useRef(!1);$.useInsertionEffect(()=>{d&&g.current&&d.update(t,l)});const y=t[sO],_=$.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return rI(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),_.current&&d.animationState&&d.animationState.animateChanges())}),$.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),_.current=!1),d.enteringChildren=void 0)}),d}function yae(n,e,t,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:h,layoutCrossfade:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:oO(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&mp(l),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:h})}function oO(n){if(n)return n.options.allowProjection!==!1?n.projection:oO(n.parent)}function R_(n,{forwardMotionProps:e=!1}={},t,r){t&&qse(t);const i=kT(n)?fae:hae;function s(l,c){let h;const d={...$.useContext(TT),...l,layoutId:vae(l)},{isStatic:p}=d,g=Kse(l),y=i(l,p);if(!p&&nT){bae();const _=wae(d);h=_.MeasureLayout,g.visualElement=gae(n,y,d,r,_.ProjectionNode)}return B.jsxs(G2.Provider,{value:g,children:[h&&g.visualElement?B.jsx(h,{visualElement:g.visualElement,...d}):null,lae(n,l,pae(y,g.visualElement,c),y,p,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const a=$.forwardRef(s);return a[dae]=n,a}function vae({layoutId:n}){const e=$.useContext(eT).id;return e&&n!==void 0?e+"-"+n:n}function bae(n,e){$.useContext(KI).strict}function wae(n){const{drag:e,layout:t}=qp;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function _ae(n,e){if(typeof Proxy>"u")return R_;const t=new Map,r=(s,a)=>R_(s,a,n,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(t.has(a)||t.set(a,R_(a,void 0,n,e)),t.get(a))})}function lO({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function xae({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Sae(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function M_(n){return n===void 0||n===1}function cx({scale:n,scaleX:e,scaleY:t}){return!M_(n)||!M_(e)||!M_(t)}function jf(n){return cx(n)||cO(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function cO(n){return Gk(n.x)||Gk(n.y)}function Gk(n){return n&&n!=="0%"}function X1(n,e,t){const r=n-t,i=e*r;return t+i}function Kk(n,e,t,r,i){return i!==void 0&&(n=X1(n,i,r)),X1(n,t,r)+e}function ux(n,e=0,t=1,r,i){n.min=Kk(n.min,e,t,r,i),n.max=Kk(n.max,e,t,r,i)}function uO(n,{x:e,y:t}){ux(n.x,e.translate,e.scale,e.originPoint),ux(n.y,t.translate,t.scale,t.originPoint)}const Xk=.999999999999,Qk=1.0000000000001;function Tae(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=t[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yp(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,uO(n,a)),r&&jf(s.latestValues)&&yp(n,s.latestValues))}e.x<Qk&&e.x>Xk&&(e.x=1),e.y<Qk&&e.y>Xk&&(e.y=1)}function gp(n,e){n.min=n.min+e,n.max=n.max+e}function Jk(n,e,t,r,i=.5){const s=Lr(n.min,n.max,i);ux(n,e,t,s,r)}function yp(n,e){Jk(n.x,e.x,e.scaleX,e.scale,e.originX),Jk(n.y,e.y,e.scaleY,e.scale,e.originY)}function hO(n,e){return lO(Sae(n.getBoundingClientRect(),e))}function Eae(n,e,t){const r=hO(n,t),{scroll:i}=e;return i&&(gp(r.x,i.offset.x),gp(r.y,i.offset.y)),r}const Zk=()=>({translate:0,scale:1,origin:0,originPoint:0}),vp=()=>({x:Zk(),y:Zk()}),eN=()=>({min:0,max:0}),ii=()=>({x:eN(),y:eN()}),hx={current:null},fO={current:!1};function Aae(){if(fO.current=!0,!!nT)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>hx.current=n.matches;n.addEventListener("change",e),e()}else hx.current=!1}const Cae=new WeakMap;function Dae(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Ds(i))n.addValue(r,i);else if(Ds(s))n.addValue(r,Hp(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(r);n.addValue(r,Hp(a!==void 0?a:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const tN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kae{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ca.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ar.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=X2(t),this.isVariantNode=QI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in p){const y=p[g];c[g]!==void 0&&Ds(y)&&y.set(c[g])}}mount(e){this.current=e,Cae.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),fO.current||Aae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hx.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zh(this.notifyUpdate),Zh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=am.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ar.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qp){const t=qp[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ii()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<tN.length;r++){const i=tN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Dae(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Hp(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(iI(r)||aI(r))?r=parseFloat(r):!Vse(r)&&ef.test(t)&&(r=UI(e,t)),this.setBaseTarget(e,Ds(r)?r.get():r)),Ds(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const s=NT(this.props,t,this.presenceContext?.custom);s&&(r=s[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ds(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new oT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){xT.render(this.render)}}class dO extends kae{constructor(){super(...arguments),this.KeyframeResolver=Cse}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ds(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function pO(n,{style:e,vars:t},r,i){const s=n.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in t)s.setProperty(a,t[a])}function Nae(n){return window.getComputedStyle(n)}class Pae extends dO{constructor(){super(...arguments),this.type="html",this.renderInstance=pO}readValueFromInstance(e,t){if(am.has(t))return this.projection?.isProjecting?nx(t):Yie(e,t);{const r=Nae(e),i=(uT(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return hO(e,t)}build(e,t,r){CT(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return PT(e,t,r)}}const mO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Rae(n,e,t,r){pO(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(mO.has(i)?i:RT(i),e.attrs[i])}class Mae extends dO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ii}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(am.has(t)){const r=BI(t);return r&&r.default||0}return t=mO.has(t)?t:RT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return iO(e,t,r)}build(e,t,r){eO(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){Rae(e,t,r,i)}mount(e){this.isSVGTag=nO(e.tagName),super.mount(e)}}const Lae=(n,e)=>kT(n)?new Mae(e):new Pae(e,{allowProjection:n!==$.Fragment});function Cp(n,e,t){const r=n.getProps();return NT(r,e,t!==void 0?t:r.custom,n)}const fx=n=>Array.isArray(n);function Iae(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Hp(t))}function Oae(n){return fx(n)?n[n.length-1]||0:n}function jae(n,e){const t=Cp(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const a in s){const l=Oae(s[a]);Iae(n,a,l)}}function Fae(n){return!!(Ds(n)&&n.add)}function dx(n,e){const t=n.getValue("willChange");if(Fae(t))return t.add(e);if(!t&&Au.WillChange){const r=new Au.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function gO(n){return n.props[sO]}const Vae=n=>n!==null;function Bae(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(Vae),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Uae={type:"spring",stiffness:500,damping:25,restSpeed:10},zae=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Hae={type:"keyframes",duration:.8},qae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wae=(n,{keyframes:e})=>e.length>2?Hae:am.has(n)?n.startsWith("scale")?zae(e[1]):Uae:qae;function Yae({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:h,...d}){return!!Object.keys(d).length}const MT=(n,e,t,r={},i,s)=>a=>{const l=wT(r,n)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-lc(c);const d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:s?void 0:i};Yae(l)||Object.assign(d,Wae(n,d)),d.duration&&(d.duration=lc(d.duration)),d.repeatDelay&&(d.repeatDelay=lc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ox(d),d.delay===0&&(p=!0)),(Au.instantAnimations||Au.skipAnimations)&&(p=!0,ox(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,p&&!s&&e.get()!==void 0){const g=Bae(d.keyframes,l);if(g!==void 0){Ar.update(()=>{d.onUpdate(g),d.onComplete()});return}}return l.isSync?new vT(d):new mse(d)};function $ae({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function yO(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const c=[],h=i&&n.animationState&&n.animationState.getState()[i];for(const d in l){const p=n.getValue(d,n.latestValues[d]??null),g=l[d];if(g===void 0||h&&$ae(h,d))continue;const y={delay:t,...wT(s||{},d)},_=p.get();if(_!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===_&&!y.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const E=gO(n);if(E){const A=window.MotionHandoffAnimation(E,d,Ar);A!==null&&(y.startTime=A,S=!0)}}dx(n,d),p.start(MT(d,p,g,n.shouldReduceMotion&&jI.has(d)?{type:!1}:y,n,S));const T=p.animation;T&&c.push(T)}return a&&Promise.all(c).then(()=>{Ar.update(()=>{a&&jae(n,a)})}),c}function vO(n,e,t,r=0,i=1){const s=Array.from(n).sort((h,d)=>h.sortNodePosition(d)).indexOf(e),a=n.size,l=(a-1)*r;return typeof t=="function"?t(s,a):i===1?s*r:l-s*r}function px(n,e,t={}){const r=Cp(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(yO(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=i;return Gae(n,e,c,h,d,p,t)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,h]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>h())}else return Promise.all([s(),a(t.delay)])}function Gae(n,e,t=0,r=0,i=0,s=1,a){const l=[];for(const c of n.variantChildren)c.notify("AnimationStart",e),l.push(px(c,e,{...a,delay:t+(typeof r=="function"?0:r)+vO(n.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Kae(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>px(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=px(n,e,t);else{const i=typeof e=="function"?Cp(n,e,t.custom):e;r=Promise.all(yO(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function bO(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Xae=AT.length;function wO(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?wO(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Xae;t++){const r=AT[t],i=n.props[r];(p0(i)||i===!1)&&(e[r]=i)}return e}const Qae=[...ET].reverse(),Jae=ET.length;function Zae(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Kae(n,t,r)))}function eoe(n){let e=Zae(n),t=nN(),r=!0;const i=c=>(h,d)=>{const p=Cp(n,d,c==="exit"?n.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:y,..._}=p;h={...h,..._,...y}}return h};function s(c){e=c(n)}function a(c){const{props:h}=n,d=wO(n.parent)||{},p=[],g=new Set;let y={},_=1/0;for(let T=0;T<Jae;T++){const E=Qae[T],A=t[E],N=h[E]!==void 0?h[E]:d[E],j=p0(N),U=E===c?A.isActive:null;U===!1&&(_=T);let K=N===d[E]&&N!==h[E]&&j;if(K&&r&&n.manuallyAnimateOnMount&&(K=!1),A.protectedKeys={...y},!A.isActive&&U===null||!N&&!A.prevProp||K2(N)||typeof N=="boolean")continue;const M=toe(A.prevProp,N);let k=M||E===c&&A.isActive&&!K&&j||T>_&&j,O=!1;const H=Array.isArray(N)?N:[N];let R=H.reduce(i(E),{});U===!1&&(R={});const{prevResolvedValues:L={}}=A,V={...L,...R},se=Q=>{k=!0,g.has(Q)&&(O=!0,g.delete(Q)),A.needsAnimating[Q]=!0;const re=n.getValue(Q);re&&(re.liveStyle=!1)};for(const Q in V){const re=R[Q],J=L[Q];if(y.hasOwnProperty(Q))continue;let q=!1;fx(re)&&fx(J)?q=!bO(re,J):q=re!==J,q?re!=null?se(Q):g.add(Q):re!==void 0&&g.has(Q)?se(Q):A.protectedKeys[Q]=!0}A.prevProp=N,A.prevResolvedValues=R,A.isActive&&(y={...y,...R}),r&&n.blockInitialAnimation&&(k=!1);const pe=K&&M;k&&(!pe||O)&&p.push(...H.map(Q=>{const re={type:E};if(typeof Q=="string"&&r&&!pe&&n.manuallyAnimateOnMount&&n.parent){const{parent:J}=n,q=Cp(J,Q);if(J.enteringChildren&&q){const{delayChildren:oe}=q.transition||{};re.delay=vO(J.enteringChildren,n,oe)}}return{animation:Q,options:re}}))}if(g.size){const T={};if(typeof h.initial!="boolean"){const E=Cp(n,Array.isArray(h.initial)?h.initial[0]:h.initial);E&&E.transition&&(T.transition=E.transition)}g.forEach(E=>{const A=n.getBaseTarget(E),N=n.getValue(E);N&&(N.liveStyle=!0),T[E]=A??null}),p.push({animation:T})}let S=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function l(c,h){if(t[c].isActive===h)return Promise.resolve();n.variantChildren?.forEach(p=>p.animationState?.setActive(c,h)),t[c].isActive=h;const d=a(c);for(const p in t)t[p].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>t,reset:()=>{t=nN(),r=!0}}}function toe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!bO(e,n):!1}function Nf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nN(){return{animate:Nf(!0),whileInView:Nf(),whileHover:Nf(),whileTap:Nf(),whileDrag:Nf(),whileFocus:Nf(),exit:Nf()}}class rf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class noe extends rf{constructor(e){super(e),e.animationState||(e.animationState=eoe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();K2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let roe=0;class ioe extends rf{constructor(){super(...arguments),this.id=roe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const soe={animation:{Feature:noe},exit:{Feature:ioe}};function g0(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function H0(n){return{point:{x:n.pageX,y:n.pageY}}}const aoe=n=>e=>ST(e)&&n(e,H0(e));function Bg(n,e,t,r){return g0(n,e,aoe(t),r)}const _O=1e-4,ooe=1-_O,loe=1+_O,xO=.01,coe=0-xO,uoe=0+xO;function Us(n){return n.max-n.min}function hoe(n,e,t){return Math.abs(n-e)<=t}function rN(n,e,t,r=.5){n.origin=r,n.originPoint=Lr(e.min,e.max,n.origin),n.scale=Us(t)/Us(e),n.translate=Lr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=ooe&&n.scale<=loe||isNaN(n.scale))&&(n.scale=1),(n.translate>=coe&&n.translate<=uoe||isNaN(n.translate))&&(n.translate=0)}function Ug(n,e,t,r){rN(n.x,e.x,t.x,r?r.originX:void 0),rN(n.y,e.y,t.y,r?r.originY:void 0)}function iN(n,e,t){n.min=t.min+e.min,n.max=n.min+Us(e)}function foe(n,e,t){iN(n.x,e.x,t.x),iN(n.y,e.y,t.y)}function sN(n,e,t){n.min=e.min-t.min,n.max=n.min+Us(e)}function zg(n,e,t){sN(n.x,e.x,t.x),sN(n.y,e.y,t.y)}function uo(n){return[n("x"),n("y")]}const SO=({current:n})=>n?n.ownerDocument.defaultView:null,aN=(n,e)=>Math.abs(n-e);function doe(n,e){const t=aN(n.x,e.x),r=aN(n.y,e.y);return Math.sqrt(t**2+r**2)}class TO{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=I_(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=doe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!_)return;const{point:S}=g,{timestamp:T}=ts;this.history.push({...S,timestamp:T});const{onStart:E,onMove:A}=this.handlers;y||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=L_(y,this.transformPagePoint),Ar.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=I_(g.type==="pointercancel"?this.lastMoveEventInfo:L_(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,E),S&&S(g,E)},!ST(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=H0(e),c=L_(l,this.transformPagePoint),{point:h}=c,{timestamp:d}=ts;this.history=[{...h,timestamp:d}];const{onSessionStart:p}=t;p&&p(e,I_(c,this.history)),this.removeListeners=B0(Bg(this.contextWindow,"pointermove",this.handlePointerMove),Bg(this.contextWindow,"pointerup",this.handlePointerUp),Bg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zh(this.updatePoint)}}function L_(n,e){return e?{point:e(n.point)}:n}function oN(n,e){return{x:n.x-e.x,y:n.y-e.y}}function I_({point:n},e){return{point:n,delta:oN(n,EO(e)),offset:oN(n,poe(e)),velocity:moe(e,.1)}}function poe(n){return n[0]}function EO(n){return n[n.length-1]}function moe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=EO(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>lc(e)));)t--;if(!r)return{x:0,y:0};const s=cc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function goe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Lr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Lr(t,n,r.max):Math.min(n,t)),n}function lN(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function yoe(n,{top:e,left:t,bottom:r,right:i}){return{x:lN(n.x,t,i),y:lN(n.y,e,r)}}function cN(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function voe(n,e){return{x:cN(n.x,e.x),y:cN(n.y,e.y)}}function boe(n,e){let t=.5;const r=Us(n),i=Us(e);return i>r?t=h0(e.min,e.max-r,n.min):r>i&&(t=h0(n.min,n.max-i,e.min)),Eu(0,1,t)}function woe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const mx=.35;function _oe(n=mx){return n===!1?n=0:n===!0&&(n=mx),{x:uN(n,"left","right"),y:uN(n,"top","bottom")}}function uN(n,e,t){return{min:hN(n,e),max:hN(n,t)}}function hN(n,e){return typeof n=="number"?n:n[e]||0}const xoe=new WeakMap;class Soe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ii(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(H0(p).point)},a=(p,g)=>{const{drag:y,dragPropagation:_,onDragStart:S}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Pse(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),uo(E=>{let A=this.getAxisMotionValue(E).get()||0;if(uc.test(A)){const{projection:N}=this.visualElement;if(N&&N.layout){const j=N.layout.layoutBox[E];j&&(A=Us(j)*(parseFloat(A)/100))}}this.originPoint[E]=A}),S&&Ar.postRender(()=>S(p,g)),dx(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:S,onDrag:T}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=g;if(_&&this.currentDirection===null){this.currentDirection=Toe(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),T&&T(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>uo(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new TO(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:SO(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Ar.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Sv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=goe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&mp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=yoe(r.layoutBox,e):this.constraints=!1,this.elastic=_oe(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&uo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=woe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!mp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Eae(r,i.root,this.visualElement.getTransformPagePoint());let a=voe(i.layout.layoutBox,s);if(t){const l=t(xae(a));this.hasMutatedConstraints=!!l,l&&(a=lO(l))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=uo(d=>{if(!Sv(d,t,this.currentDirection))return;let p=c&&c[d]||{};a&&(p={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,_)});return Promise.all(h).then(l)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return dx(this.visualElement,e),r.start(MT(e,r,0,t,this.visualElement,!1))}stopAnimation(){uo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){uo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){uo(t=>{const{drag:r}=this.getProps();if(!Sv(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[t];s.set(e[t]-Lr(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!mp(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};uo(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=boe({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),uo(a=>{if(!Sv(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];l.set(Lr(c,h,i[a]))})}addListeners(){if(!this.visualElement.current)return;xoe.set(this.visualElement,this);const e=this.visualElement.current,t=Bg(e,"pointerdown",c=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();mp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ar.read(r);const a=g0(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(uo(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),t(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=mx,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Sv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Toe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Eoe extends rf{constructor(e){super(e),this.removeGroupControls=vo,this.removeListeners=vo,this.controls=new Soe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vo}unmount(){this.removeGroupControls(),this.removeListeners()}}const fN=n=>(e,t)=>{n&&Ar.postRender(()=>n(e,t))};class Aoe extends rf{constructor(){super(...arguments),this.removePointerDownListener=vo}onPointerDown(e){this.session=new TO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:fN(e),onStart:fN(t),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Ar.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Bg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dN(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ag={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(zt.test(n))n=parseFloat(n);else return n;const t=dN(n,e.target.x),r=dN(n,e.target.y);return`${t}% ${r}%`}},Coe={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=ef.parse(n);if(i.length>5)return r;const s=ef.createTransformer(n),a=typeof i[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const h=Lr(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=h),typeof i[3+a]=="number"&&(i[3+a]/=h),s(i)}};let O_=!1;class Doe extends $.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Xse(koe),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),O_&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,O_=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Ar.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;O_=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AO(n){const[e,t]=GI(),r=$.useContext(eT);return B.jsx(Doe,{...n,layoutGroup:r,switchLayoutGroup:$.useContext(aO),isPresent:e,safeToRemove:t})}const koe={borderRadius:{...ag,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ag,borderTopRightRadius:ag,borderBottomLeftRadius:ag,borderBottomRightRadius:ag,boxShadow:Coe};function Noe(n,e,t){const r=Ds(n)?n:Hp(n);return r.start(MT("",r,e,t)),r.animation}const Poe=(n,e)=>n.depth-e.depth;class Roe{constructor(){this.children=[],this.isDirty=!1}add(e){rT(this.children,e),this.isDirty=!0}remove(e){iT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Poe),this.isDirty=!1,this.children.forEach(e)}}function Moe(n,e){const t=ca.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Zh(r),n(s-e))};return Ar.setup(r,!0),()=>Zh(r)}const CO=["TopLeft","TopRight","BottomLeft","BottomRight"],Loe=CO.length,pN=n=>typeof n=="string"?parseFloat(n):n,mN=n=>typeof n=="number"||zt.test(n);function Ioe(n,e,t,r,i,s){i?(n.opacity=Lr(0,t.opacity??1,Ooe(r)),n.opacityExit=Lr(e.opacity??1,0,joe(r))):s&&(n.opacity=Lr(e.opacity??1,t.opacity??1,r));for(let a=0;a<Loe;a++){const l=`border${CO[a]}Radius`;let c=gN(e,l),h=gN(t,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||mN(c)===mN(h)?(n[l]=Math.max(Lr(pN(c),pN(h),r),0),(uc.test(h)||uc.test(c))&&(n[l]+="%")):n[l]=h}(e.rotate||t.rotate)&&(n.rotate=Lr(e.rotate||0,t.rotate||0,r))}function gN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Ooe=DO(0,.5,pI),joe=DO(.5,.95,vo);function DO(n,e,t){return r=>r<n?0:r>e?1:t(h0(n,e,r))}function yN(n,e){n.min=e.min,n.max=e.max}function lo(n,e){yN(n.x,e.x),yN(n.y,e.y)}function vN(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function bN(n,e,t,r,i){return n-=e,n=X1(n,1/t,r),i!==void 0&&(n=X1(n,1/i,r)),n}function Foe(n,e=0,t=1,r=.5,i,s=n,a=n){if(uc.test(e)&&(e=parseFloat(e),e=Lr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Lr(s.min,s.max,r);n===s&&(l-=e),n.min=bN(n.min,e,t,l,i),n.max=bN(n.max,e,t,l,i)}function wN(n,e,[t,r,i],s,a){Foe(n,e[t],e[r],e[i],e.scale,s,a)}const Voe=["x","scaleX","originX"],Boe=["y","scaleY","originY"];function _N(n,e,t,r){wN(n.x,e,Voe,t?t.x:void 0,r?r.x:void 0),wN(n.y,e,Boe,t?t.y:void 0,r?r.y:void 0)}function xN(n){return n.translate===0&&n.scale===1}function kO(n){return xN(n.x)&&xN(n.y)}function SN(n,e){return n.min===e.min&&n.max===e.max}function Uoe(n,e){return SN(n.x,e.x)&&SN(n.y,e.y)}function TN(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function NO(n,e){return TN(n.x,e.x)&&TN(n.y,e.y)}function EN(n){return Us(n.x)/Us(n.y)}function AN(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class zoe{constructor(){this.members=[]}add(e){rT(this.members,e),e.scheduleRender()}remove(e){if(iT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hoe(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,a=t?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:d,rotateX:p,rotateY:g,skewX:y,skewY:_}=t;h&&(r=`perspective(${h}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),_&&(r+=`skewY(${_}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const j_=["","X","Y","Z"],qoe=1e3;let Woe=0;function F_(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function PO(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=gO(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ar,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&PO(r)}function RO({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=Woe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Goe),this.nodes.forEach(Joe),this.nodes.forEach(Zoe),this.nodes.forEach(Koe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Roe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new oT),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=$I(a)&&!jse(a),this.instance=a;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),n){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;Ar.read(()=>{p=window.innerWidth}),n(a,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,d&&d(),d=Moe(g,250),Kv.hasAnimatedSinceResize&&(Kv.hasAnimatedSinceResize=!1,this.nodes.forEach(kN)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||ile,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=h.getProps(),E=!this.targetLayout||!NO(this.targetLayout,y),A=!p&&g;if(this.options.layoutRoot||this.resumeFrom||A||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...wT(_,"layout"),onPlay:S,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(d,A)}else p||kN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ele),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qoe),this.nodes.forEach(Yoe),this.nodes.forEach($oe)):this.nodes.forEach(DN),this.clearAllSnapshots();const l=ca.now();ts.delta=Eu(0,1e3/60,l-ts.timestamp),ts.timestamp=l,ts.isProcessing=!0,A_.update.process(ts),A_.preRender.process(ts),A_.render.process(ts),ts.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xoe),this.sharedNodes.forEach(tle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ar.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ar.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Us(this.snapshot.measuredBox.x)&&!Us(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ii(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!kO(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;a&&this.instance&&(l||jf(this.latestValues)||d)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),sle(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ii();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ale))){const{scroll:h}=this.root;h&&(gp(l.x,h.offset.x),gp(l.y,h.offset.y))}return l}removeElementScroll(a){const l=ii();if(lo(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&lo(l,a),gp(l.x,d.offset.x),gp(l.y,d.offset.y))}return l}applyTransform(a,l=!1){const c=ii();lo(c,a);for(let h=0;h<this.path.length;h++){const d=this.path[h];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&yp(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),jf(d.latestValues)&&yp(c,d.latestValues)}return jf(this.latestValues)&&yp(c,this.latestValues),c}removeTransform(a){const l=ii();lo(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!jf(h.latestValues))continue;cx(h.latestValues)&&h.updateSnapshot();const d=ii(),p=h.measurePageBox();lo(d,p),_N(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return jf(this.latestValues)&&_N(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ts.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=ts.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ii(),this.relativeTargetOrigin=ii(),zg(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ii(),this.targetWithTransforms=ii()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),foe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lo(this.target,this.layout.layoutBox),uO(this.target,this.targetDelta)):lo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ii(),this.relativeTargetOrigin=ii(),zg(this.relativeTargetOrigin,this.target,g.target),lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cx(this.parent.latestValues)||cO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ts.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;lo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Tae(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ii());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vN(this.prevProjectionDelta.x,this.projectionDelta.x),vN(this.prevProjectionDelta.y,this.projectionDelta.y)),Ug(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!AN(this.projectionDelta.x,this.prevProjectionDelta.x)||!AN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vp(),this.projectionDelta=vp(),this.projectionDeltaWithTransform=vp()}setAnimationOrigin(a,l=!1){const c=this.snapshot,h=c?c.latestValues:{},d={...this.latestValues},p=vp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=ii(),y=c?c.source:void 0,_=this.layout?this.layout.source:void 0,S=y!==_,T=this.getStack(),E=!T||T.members.length<=1,A=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(rle));this.animationProgress=0;let N;this.mixTargetDelta=j=>{const U=j/1e3;NN(p.x,a.x,U),NN(p.y,a.y,U),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nle(this.relativeTarget,this.relativeTargetOrigin,g,U),N&&Uoe(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=ii()),lo(N,this.relativeTarget)),S&&(this.animationValues=d,Ioe(d,h,this.latestValues,U,A,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ar.update(()=>{Kv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hp(0)),this.currentAnimation=Noe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qoe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:d}=a;if(!(!l||!c||!h)){if(this!==a&&this.layout&&h&&MO(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||ii();const p=Us(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const g=Us(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}lo(l,c),yp(l,d),Ug(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new zoe),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const h={};c.z&&F_("z",a,h,this.animationValues);for(let d=0;d<j_.length;d++)F_(`rotate${j_[d]}`,a,h,this.animationValues),F_(`skew${j_[d]}`,a,h,this.animationValues);a.render();for(const d in h)a.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Gv(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Gv(l?.pointerEvents)||""),this.hasProjected&&!jf(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=Hoe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(p=c(d,p)),a.transform=p;const{x:g,y}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?a.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in m0){if(d[_]===void 0)continue;const{correct:S,applyTo:T,isCSSVariable:E}=m0[_],A=p==="none"?d[_]:S(d[_],h);if(T){const N=T.length;for(let j=0;j<N;j++)a[T[j]]=A}else E?this.options.visualElement.renderState.vars[_]=A:a[_]=A}this.options.layoutId&&(a.pointerEvents=h===this?Gv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(CN),this.root.sharedNodes.clear()}}}function Yoe(n){n.updateLayout()}function $oe(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:i}=n.options,s=e.source!==n.layout.source;i==="size"?uo(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],g=Us(p);p.min=t[d].min,p.max=p.min+g}):MO(i,e.layoutBox,t)&&uo(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],g=Us(t[d]);p.max=p.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+g)});const a=vp();Ug(a,t,e.layoutBox);const l=vp();s?Ug(l,n.applyTransform(r,!0),e.measuredBox):Ug(l,t,e.layoutBox);const c=!kO(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const y=ii();zg(y,e.layoutBox,p.layoutBox);const _=ii();zg(_,t,g.layoutBox),NO(y,_)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function Goe(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Koe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Xoe(n){n.clearSnapshot()}function CN(n){n.clearMeasurements()}function DN(n){n.isLayoutDirty=!1}function Qoe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function kN(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Joe(n){n.resolveTargetDelta()}function Zoe(n){n.calcProjection()}function ele(n){n.resetSkewAndRotation()}function tle(n){n.removeLeadSnapshot()}function NN(n,e,t){n.translate=Lr(e.translate,0,t),n.scale=Lr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function PN(n,e,t,r){n.min=Lr(e.min,t.min,r),n.max=Lr(e.max,t.max,r)}function nle(n,e,t,r){PN(n.x,e.x,t.x,r),PN(n.y,e.y,t.y,r)}function rle(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ile={duration:.45,ease:[.4,0,.1,1]},RN=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),MN=RN("applewebkit/")&&!RN("chrome/")?Math.round:vo;function LN(n){n.min=MN(n.min),n.max=MN(n.max)}function sle(n){LN(n.x),LN(n.y)}function MO(n,e,t){return n==="position"||n==="preserve-aspect"&&!hoe(EN(e),EN(t),.2)}function ale(n){return n!==n.root&&n.scroll?.wasRoot}const ole=RO({attachResizeListener:(n,e)=>g0(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),V_={current:void 0},LO=RO({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!V_.current){const n=new ole({});n.mount(window),n.setOptions({layoutScroll:!0}),V_.current=n}return V_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),lle={pan:{Feature:Aoe},drag:{Feature:Eoe,ProjectionNode:LO,MeasureLayout:AO}};function IN(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&Ar.postRender(()=>s(e,H0(e)))}class cle extends rf{mount(){const{current:e}=this.node;e&&(this.unmount=Rse(e,(t,r)=>(IN(this.node,r,"Start"),i=>IN(this.node,i,"End"))))}unmount(){}}class ule extends rf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=B0(g0(this.node.current,"focus",()=>this.onFocus()),g0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ON(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&Ar.postRender(()=>s(e,H0(e)))}class hle extends rf{mount(){const{current:e}=this.node;e&&(this.unmount=Ose(e,(t,r)=>(ON(this.node,r,"Start"),(i,{success:s})=>ON(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gx=new WeakMap,B_=new WeakMap,fle=n=>{const e=gx.get(n.target);e&&e(n)},dle=n=>{n.forEach(fle)};function ple({root:n,...e}){const t=n||document;B_.has(t)||B_.set(t,{});const r=B_.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(dle,{root:n,...e})),r[i]}function mle(n,e,t){const r=ple(e);return gx.set(n,t),r.observe(n),()=>{gx.delete(n),r.unobserve(n)}}const gle={some:0,all:1};class yle extends rf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gle[i]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=h?d:p;g&&g(c)};return mle(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(vle(e,t))&&this.startObserver()}unmount(){}}function vle({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const ble={inView:{Feature:yle},tap:{Feature:hle},focus:{Feature:ule},hover:{Feature:cle}},wle={layout:{ProjectionNode:LO,MeasureLayout:AO}},_le={...soe,...ble,...lle,...wle},sp=_ae(_le,Lae),xle=[{name:"Symptom Checker",icon:B.jsx(y2,{}),path:"/symptom-checker"},{name:"Hospitals",icon:B.jsx(T6,{}),path:"/hospital-loc"},{name:"Appointments",icon:B.jsx(YH,{}),path:"/appointment"},{name:"Medical Report",icon:B.jsx(sq,{}),path:"/medicalReport"},{name:"Profile",icon:B.jsx(dS,{}),path:"/profile"},{name:"Dashboard",icon:B.jsx(fq,{}),path:"/userprofile"}],Sle=({isOpen:n,setIsOpen:e,topOffset:t=72})=>{const[r,i]=$.useState(!1),[s,a]=$.useState(!1),{pathname:l}=gc();return $.useEffect(()=>{const c=()=>{a(window.innerWidth<800),window.innerWidth>=800&&i(!1)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),B.jsxs(B.Fragment,{children:[s&&B.jsx("button",{onClick:()=>i(!r),className:"fixed top-100 left-1 z-50 p-3  hover:bg-[#bababa] transition-colors",children:B.jsx(sp.div,{animate:{rotate:r?180:0},transition:{duration:.25,ease:"easeInOut"},children:B.jsx(JH,{size:20})})}),B.jsxs(sp.div,{initial:!1,animate:{x:s&&!r?"-100%":0,width:s?"4rem":n?"16rem":"4rem"},transition:{duration:.25,ease:"easeInOut"},className:"fixed bg-[#1e293b] text-gray-200 flex flex-col z-40 shadow-2xl border-r border-gray-700/40",style:{top:s?0:t,height:s?"100vh":`calc(100vh - ${t}px)`},children:[!s&&B.jsx("div",{className:"flex justify-end p-4",children:B.jsx("button",{onClick:()=>e(!n),className:"p-2 rounded hover:bg-gray-700 hover:text-white transition-colors duration-200",children:n?B.jsx(E6,{size:24}):B.jsx(vq,{size:24})})}),B.jsx("nav",{className:"flex-1 overflow-y-auto mt-4 custom-scrollbar px-2",children:xle.map(c=>{const h=l===c.path;return B.jsxs(e2,{to:c.path,className:`relative group flex items-center gap-4 p-3 my-1 rounded-xl transition-all duration-200
                  ${h?"bg-gradient-to-r from-[#f43f5e]/30 to-transparent text-[#f43f5e] shadow-md":"hover:bg-gray-700/40"}`,children:[B.jsx(sp.span,{whileHover:{scale:1.15},className:`text-xl ${h?"text-[#f43f5e]":"text-gray-300 group-hover:text-white"}`,children:c.icon}),B.jsx(qk,{children:!s&&n&&B.jsx(sp.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"font-medium whitespace-nowrap",children:c.name})}),h&&B.jsx(sp.div,{layoutId:"activeBar",className:"absolute left-0 top-0 bottom-0 w-1 rounded-r bg-[#f43f5e]"})]},c.name)})})]}),B.jsx(qk,{children:s&&r&&B.jsx(sp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/40 z-30",onClick:()=>i(!1)})}),B.jsx("style",{children:`
          .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
          }
          .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #f43f5e80;
            border-radius: 9999px;
          }
          .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #f43f5e;
          }
        `})]})};function Tle(){const n=gc(),t=!["/"].includes(n.pathname),[r,i]=$.useState(!1),[s,a]=$.useState(!1);return $.useEffect(()=>{const l=()=>a(window.innerWidth<800);return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),B.jsxs(B.Fragment,{children:[t&&B.jsx(mW,{}),t?B.jsxs("div",{className:"flex min-h-screen pt-[72px]",children:[B.jsx(Sle,{isOpen:r,setIsOpen:i}),B.jsx("main",{className:`flex-1 p-6 overflow-auto transition-all duration-300 ${s?"ml-0":r?"ml-64":"ml-16"}`,children:B.jsxs(qA,{children:[B.jsx(co,{path:"/home",element:B.jsx(vW,{})}),B.jsx(co,{path:"/symptom-checker",element:B.jsx(sX,{})}),B.jsx(co,{path:"/hospital-loc",element:B.jsx(aX,{})}),B.jsx(co,{path:"/appointment",element:B.jsx(oX,{})}),B.jsx(co,{path:"/userprofile",element:B.jsx(vre,{})}),B.jsx(co,{path:"/profile",element:B.jsx(bre,{})}),B.jsx(co,{path:"/medicalReport",element:B.jsx(Ure,{})}),B.jsx(co,{path:"/VisionReport",element:B.jsx(zre,{})}),B.jsx(co,{path:"/doctorLogin",element:B.jsx(iX,{})}),B.jsx(co,{path:"/doctor-dashboard",element:B.jsx(Hre,{})})]})})]}):B.jsx("main",{className:"min-h-screen",children:B.jsx(qA,{children:B.jsx(co,{path:"/",element:B.jsx(bW,{})})})})]})}const Ele=()=>{const{pathname:n}=gc();return $.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[n]),null};function Ale(){return B.jsxs(aj,{children:[B.jsx(Ele,{}),B.jsx(Tle,{})]})}G8.createRoot(document.getElementById("root")).render(B.jsx($.StrictMode,{children:B.jsx(Ale,{})}));export{Gn as _,F8 as c,yx as g};
